apiVersion: v1
kind: Service
metadata:
  name: api
  namespace: mlops
spec:
  selector: { app: api }
  ports: [{ port: 8000, targetPort: 8000 }]
---
apiVersion: v1
kind: Service
metadata:
  name: auth
  namespace: mlops
spec:
  selector: { app: auth }
  ports: [{ port: 7000, targetPort: 7000 }]
---
apiVersion: v1
kind: Service
metadata:
  name: mlflow
  namespace: mlops
spec:
  selector: { app: mlflow }
  ports: [{ port: 5000, targetPort: 5000 }]
---
apiVersion: v1
kind: Service
metadata:
  name: prometheus
  namespace: mlops
spec:
  selector: { app: prometheus }
  ports: [{ port: 9090, targetPort: 9090 }]
---
apiVersion: v1
kind: Service
metadata:
  name: grafana
  namespace: mlops
spec:
  selector: { app: grafana }
  ports: [{ port: 3000, targetPort: 3000 }]
---
apiVersion: v1
kind: Service
metadata:
  name: postgres
  namespace: mlops
spec:
  clusterIP: None
  selector: { app: postgres }
  ports: [{ port: 5432, targetPort: 5432 }]
