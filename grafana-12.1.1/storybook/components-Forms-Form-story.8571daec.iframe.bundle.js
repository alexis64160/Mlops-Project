"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[1008],{"./src/components/Forms/Checkbox.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return Checkbox}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_themes_mixins__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/themes/mixins.ts"),_Label__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Forms/Label.tsx");const Checkbox=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((({label:label,description:description,value:value,htmlValue:htmlValue,onChange:onChange,disabled:disabled,className:className,indeterminate:indeterminate,invalid:invalid,...inputProps},ref)=>{const handleOnChange=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e=>{onChange&&onChange(e)}),[onChange]),styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getCheckboxStyles,invalid),ariaChecked=indeterminate?"mixed":void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.wrapper,className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:styles.checkboxWrapper,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"checkbox",className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.input,indeterminate&&styles.inputIndeterminate),checked:value,disabled:disabled,onChange:handleOnChange,value:htmlValue,"aria-checked":ariaChecked,...inputProps,ref:ref}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.checkmark})]}),label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.label,children:label}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.description,children:description})]})})),getCheckboxStyles=(theme,invalid=!1)=>{const labelStyles=(0,_Label__WEBPACK_IMPORTED_MODULE_4__.f)(theme),getBorderColor=color=>invalid?theme.colors.error.border:color;return{wrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"inline-grid",alignItems:"center",columnGap:theme.spacing(1),gridAutoRows:"max-content",position:"relative",verticalAlign:"middle"}),input:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"absolute",zIndex:1,top:0,left:0,width:"100% !important",height:"100%",opacity:0,"&:focus + span, &:focus-visible + span":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_5__.Hi)(theme),"&:focus:not(:focus-visible) + span":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_5__.cr)(theme),"&:checked + span":{background:theme.colors.primary.main,border:`1px solid ${getBorderColor(theme.colors.primary.main)}`,"&:hover":{background:theme.colors.primary.shade},"&:after":{content:'""',position:"absolute",zIndex:2,left:theme.spacing(.5),top:0,width:theme.spacing(.75),height:theme.spacing(1.5),border:`solid ${theme.colors.primary.contrastText}`,borderWidth:"0 3px 3px 0",transform:"rotate(45deg)"}},"&:disabled + span":{backgroundColor:theme.colors.action.disabledBackground,cursor:"not-allowed",border:`1px solid ${getBorderColor(theme.colors.action.disabledBackground)}`,"&:hover":{backgroundColor:theme.colors.action.disabledBackground},"&:after":{borderColor:theme.colors.action.disabledText}}}),inputIndeterminate:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({"&[aria-checked='mixed'] + span":{border:`1px solid ${getBorderColor(theme.colors.primary.main)}`,background:theme.colors.primary.main,"&:hover":{background:theme.colors.primary.shade},"&:after":{content:'""',position:"absolute",zIndex:2,left:"2px",right:"2px",top:"calc(50% - 1.5px)",height:"3px",border:`1.5px solid ${theme.colors.primary.contrastText}`,backgroundColor:theme.colors.primary.contrastText,width:"auto",transform:"none"}},"&:disabled[aria-checked='mixed'] + span":{backgroundColor:theme.colors.action.disabledBackground,border:`1px solid ${getBorderColor(theme.colors.error.transparent)}`,"&:after":{borderColor:theme.colors.action.disabledText}}}),checkboxWrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",alignItems:"center",gridColumnStart:1,gridRowStart:1}),checkmark:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"relative",zIndex:2,display:"inline-block",width:theme.spacing(2),height:theme.spacing(2),borderRadius:theme.shape.radius.default,background:theme.components.input.background,border:`1px solid ${getBorderColor(theme.components.input.borderColor)}`,"&:hover":{cursor:"pointer",borderColor:getBorderColor(theme.components.input.borderHover)}}),label:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(labelStyles.label,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({gridColumnStart:2,gridRowStart:1,position:"relative",zIndex:2,cursor:"pointer",maxWidth:"fit-content",lineHeight:theme.typography.bodySmall.lineHeight,marginBottom:0})),description:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(labelStyles.description,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({gridColumnStart:2,gridRowStart:2,lineHeight:theme.typography.bodySmall.lineHeight,marginTop:0,zIndex:1}))}};Checkbox.displayName="Checkbox";try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"Label to display next to checkbox",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Current value of the checkbox",name:"value",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"Show an invalid state around the input",name:"invalid",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"Description to display under the label",name:"description",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},htmlValue:{defaultValue:null,description:'htmlValue allows to specify the input "value" attribute',name:"htmlValue",required:!1,type:{name:"string | number"}},indeterminate:{defaultValue:null,description:'Sets the checkbox into a "mixed" state. This is only a visual change and does not affect the value.',name:"indeterminate",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/Forms/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/Field.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D:function(){return Field}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_utils_reactUtils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/reactUtils.ts"),_FieldValidationMessage__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Forms/FieldValidationMessage.tsx"),_Label__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Forms/Label.tsx");const Field=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((({label:label,description:description,horizontal:horizontal,invalid:invalid,loading:loading,disabled:disabled,required:required,error:error,children:children,className:className,validationMessageHorizontalOverflow:validationMessageHorizontalOverflow,htmlFor:htmlFor,noMargin:noMargin,...otherProps},ref)=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getFieldStyles,noMargin),inputId=htmlFor??(0,_utils_reactUtils__WEBPACK_IMPORTED_MODULE_4__.e)(children),labelElement="string"==typeof label?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Label__WEBPACK_IMPORTED_MODULE_5__.J,{htmlFor:inputId,description:description,children:`${label}${required?" *":""}`}):label,childProps=function deleteUndefinedProps(obj){for(const key in obj)void 0===obj[key]&&delete obj[key];return obj}({invalid:invalid,disabled:disabled,loading:loading});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.field,horizontal&&styles.fieldHorizontal,className),...otherProps,children:[labelElement,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:ref,children:react__WEBPACK_IMPORTED_MODULE_2__.cloneElement(children,childProps)}),invalid&&error&&!horizontal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.fieldValidationWrapper,{[styles.validationMessageHorizontalOverflow]:!!validationMessageHorizontalOverflow}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_FieldValidationMessage__WEBPACK_IMPORTED_MODULE_6__.P,{children:error})})]}),invalid&&error&&horizontal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.fieldValidationWrapper,styles.fieldValidationWrapperHorizontal,{[styles.validationMessageHorizontalOverflow]:!!validationMessageHorizontalOverflow}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_FieldValidationMessage__WEBPACK_IMPORTED_MODULE_6__.P,{children:error})})]})}));Field.displayName="Field";const getFieldStyles=(theme,noMargin)=>({field:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",flexDirection:"column",marginBottom:theme.spacing(noMargin?0:2)}),fieldHorizontal:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap"}),fieldValidationWrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({marginTop:theme.spacing(.5)}),fieldValidationWrapperHorizontal:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({flex:"1 1 100%"}),validationMessageHorizontalOverflow:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({width:0,overflowX:"visible","& > *":{whiteSpace:"nowrap"}})});try{Field.displayName="Field",Field.__docgenInfo={description:"",displayName:"Field",props:{children:{defaultValue:null,description:"Form input element, i.e Input or Switch",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},label:{defaultValue:null,description:"Label for the field",name:"label",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"Description of the field",name:"description",required:!1,type:{name:"ReactNode"}},invalid:{defaultValue:null,description:"Indicates if field is in invalid state",name:"invalid",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"Indicates if field is in loading state",name:"loading",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Indicates if field is disabled",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"Indicates if field is required",name:"required",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Error message to display",name:"error",required:!1,type:{name:"ReactNode"}},horizontal:{defaultValue:null,description:"Indicates horizontal layout of the field",name:"horizontal",required:!1,type:{name:"boolean"}},validationMessageHorizontalOverflow:{defaultValue:null,description:"make validation message overflow horizontally. Prevents pushing out adjacent inline components",name:"validationMessageHorizontalOverflow",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},htmlFor:{defaultValue:null,description:"A unique id that associates the label of the Field component with the control with the unique id.\nIf the `htmlFor` property is missing the `htmlFor` will be inferred from the `id` or `inputId` property of the first child.\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/label#attr-for",name:"htmlFor",required:!1,type:{name:"string"}},noMargin:{defaultValue:null,description:"Remove the bottom margin",name:"noMargin",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Field.tsx#Field"]={docgenInfo:Field.__docgenInfo,name:"Field",path:"src/components/Forms/Field.tsx#Field"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/FieldValidationMessage.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{P:function(){return FieldValidationMessage}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx")),_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Icon/Icon.tsx");const FieldValidationMessage=({children:children,horizontal:horizontal,className:className})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getFieldValidationMessageStyles),cssName=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(horizontal?styles.horizontal:styles.vertical,className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{role:"alert",className:cssName,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__.I,{className:styles.fieldValidationMessageIcon,name:"exclamation-triangle"}),children]})},getFieldValidationMessageStyles=theme=>{const baseStyle=`\n      font-size: ${theme.typography.size.sm};\n      font-weight: ${theme.typography.fontWeightMedium};\n      padding: ${theme.spacing(.5,1)};\n      color: ${theme.colors.error.contrastText};\n      background: ${theme.colors.error.main};\n      border-radius: ${theme.shape.radius.default};\n      position: relative;\n      display: inline-block;\n      align-self: flex-start;\n\n      a {\n        color: ${theme.colors.error.contrastText};\n        text-decoration: underline;\n      }\n\n      a:hover {\n        text-decoration: none;\n      }\n    `;return{vertical:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)(baseStyle,{margin:theme.spacing(.5,0,0,0),"&:before":{content:'""',position:"absolute",left:"9px",top:"-5px",width:0,height:0,borderWidth:"0 4px 5px 4px",borderColor:`transparent transparent ${theme.colors.error.main} transparent`,borderStyle:"solid"}}),horizontal:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)(baseStyle,{marginLeft:"10px","&:before":{content:'""',position:"absolute",left:"-5px",top:"9px",width:0,height:0,borderWidth:"4px 5px 4px 0",borderColor:"transparent #e02f44 transparent transparent",borderStyle:"solid"}}),fieldValidationMessageIcon:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({marginRight:theme.spacing()})}};try{FieldValidationMessage.displayName="FieldValidationMessage",FieldValidationMessage.__docgenInfo={description:"",displayName:"FieldValidationMessage",props:{className:{defaultValue:null,description:"Override component style",name:"className",required:!1,type:{name:"string"}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FieldValidationMessage.tsx#FieldValidationMessage"]={docgenInfo:FieldValidationMessage.__docgenInfo,name:"FieldValidationMessage",path:"src/components/Forms/FieldValidationMessage.tsx#FieldValidationMessage"})}catch(__react_docgen_typescript_loader_error){}try{getFieldValidationMessageStyles.displayName="getFieldValidationMessageStyles",getFieldValidationMessageStyles.__docgenInfo={description:"",displayName:"getFieldValidationMessageStyles",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},isLight:{defaultValue:null,description:"",name:"isLight",required:!0,type:{name:"boolean"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"ThemeColors"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"ThemeBreakpoints"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:"ThemeSpacing"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"ThemeShape"}},components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ThemeComponents"}},typography:{defaultValue:null,description:"",name:"typography",required:!0,type:{name:"ThemeTypography"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"{ activePanel: number; navbarFixed: number; sidemenu: number; dropdown: number; typeahead: number; tooltip: number; modalBackdrop: number; modal: number; portal: number; }"}},shadows:{defaultValue:null,description:"",name:"shadows",required:!0,type:{name:"ThemeShadows"}},visualization:{defaultValue:null,description:"",name:"visualization",required:!0,type:{name:"ThemeVisualizationColors"}},transitions:{defaultValue:null,description:"",name:"transitions",required:!0,type:{name:"ThemeTransitions"}},v1:{defaultValue:null,description:"@deprecated Will be removed in a future version",name:"v1",required:!0,type:{name:"GrafanaTheme"}},flags:{defaultValue:null,description:"feature flags that might impact component looks",name:"flags",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FieldValidationMessage.tsx#getFieldValidationMessageStyles"]={docgenInfo:getFieldValidationMessageStyles.__docgenInfo,name:"getFieldValidationMessageStyles",path:"src/components/Forms/FieldValidationMessage.tsx#getFieldValidationMessageStyles"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/Form.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{l:function(){return Form}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),react_hook_form__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react-hook-form/dist/index.esm.mjs");function Form({defaultValues:defaultValues,onSubmit:onSubmit,validateOnMount:validateOnMount=!1,validateFieldsOnMount:validateFieldsOnMount,children:children,validateOn:validateOn="onSubmit",maxWidth:maxWidth=600,...htmlProps}){const{handleSubmit:handleSubmit,trigger:trigger,formState:formState,...rest}=(0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__.mN)({mode:validateOn,defaultValues:defaultValues});return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{validateOnMount&&trigger(validateFieldsOnMount)}),[trigger,validateFieldsOnMount,validateOnMount]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("form",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({maxWidth:"none"!==maxWidth?maxWidth+"px":maxWidth,width:"100%"}),onSubmit:handleSubmit(onSubmit),...htmlProps,children:children({errors:formState.errors,formState:formState,trigger:trigger,...rest})})}try{Form.displayName="Form",Form.__docgenInfo={description:"",displayName:"Form",props:{validateOn:{defaultValue:{value:"onSubmit"},description:"",name:"validateOn",required:!1,type:{name:"enum",value:[{value:'"onChange"'},{value:'"onBlur"'},{value:'"onSubmit"'},{value:'"all"'},{value:'"onTouched"'}]}},validateOnMount:{defaultValue:{value:"false"},description:"",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateFieldsOnMount:{defaultValue:null,description:"",name:"validateFieldsOnMount",required:!1,type:{name:"string | string[]"}},defaultValues:{defaultValue:null,description:"",name:"defaultValues",required:!1,type:{name:"{ [x: string]: any; } | ((BrowserNativeObject | NestedValue) & FieldValues) | { [x: string]: any; }"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"SubmitHandler<T>"}},maxWidth:{defaultValue:{value:"600"},description:"Sets max-width for container. Use it instead of setting individual widths on inputs.",name:"maxWidth",required:!1,type:{name:'number | "none"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Form.tsx#Form"]={docgenInfo:Form.__docgenInfo,name:"Form",path:"src/components/Forms/Form.tsx#Form"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/Label.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{J:function(){return Label},f:function(){return getLabelStyles}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx")),_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Icon/Icon.tsx");const Label=({children:children,description:description,className:className,category:category,...labelProps})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getLabelStyles),categories=category?.map(((c,i)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:styles.categories,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:c}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__.I,{name:"angle-right",className:styles.chevron})]},`${c}/${i}`)));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.label,className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{...labelProps,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:styles.labelContent,children:[categories,children]}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.description,children:description})]})})},getLabelStyles=theme=>({label:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({label:"Label",fontSize:theme.typography.size.sm,fontWeight:theme.typography.fontWeightMedium,lineHeight:1.25,marginBottom:theme.spacing(.5),color:theme.colors.text.primary,maxWidth:"480px"}),labelContent:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",alignItems:"center"}),description:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({label:"Label-description",color:theme.colors.text.secondary,fontSize:theme.typography.size.sm,fontWeight:theme.typography.fontWeightRegular,marginTop:theme.spacing(.25),display:"block"}),categories:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({label:"Label-categories",display:"inline-flex",alignItems:"center"}),chevron:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({margin:theme.spacing(0,.25)})});try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},category:{defaultValue:null,description:"",name:"category",required:!1,type:{name:"ReactNode[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Label.tsx#Label"]={docgenInfo:Label.__docgenInfo,name:"Label",path:"src/components/Forms/Label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}try{getLabelStyles.displayName="getLabelStyles",getLabelStyles.__docgenInfo={description:"",displayName:"getLabelStyles",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},isLight:{defaultValue:null,description:"",name:"isLight",required:!0,type:{name:"boolean"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"ThemeColors"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"ThemeBreakpoints"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:"ThemeSpacing"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"ThemeShape"}},components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ThemeComponents"}},typography:{defaultValue:null,description:"",name:"typography",required:!0,type:{name:"ThemeTypography"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"{ activePanel: number; navbarFixed: number; sidemenu: number; dropdown: number; typeahead: number; tooltip: number; modalBackdrop: number; modal: number; portal: number; }"}},shadows:{defaultValue:null,description:"",name:"shadows",required:!0,type:{name:"ThemeShadows"}},visualization:{defaultValue:null,description:"",name:"visualization",required:!0,type:{name:"ThemeVisualizationColors"}},transitions:{defaultValue:null,description:"",name:"transitions",required:!0,type:{name:"ThemeTransitions"}},v1:{defaultValue:null,description:"@deprecated Will be removed in a future version",name:"v1",required:!0,type:{name:"GrafanaTheme"}},flags:{defaultValue:null,description:"feature flags that might impact component looks",name:"flags",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Label.tsx#getLabelStyles"]={docgenInfo:getLabelStyles.__docgenInfo,name:"getLabelStyles",path:"src/components/Forms/Label.tsx#getLabelStyles"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/Legend.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{s:function(){return Legend}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx"));const getLegendStyles=theme=>({legend:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({fontSize:theme.typography.h3.fontSize,fontWeight:theme.typography.fontWeightRegular,margin:theme.spacing(0,0,2,0)})}),Legend=({children:children,className:className,...legendProps})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getLegendStyles);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("legend",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.legend,className),...legendProps,children:children})};try{getLegendStyles.displayName="getLegendStyles",getLegendStyles.__docgenInfo={description:"",displayName:"getLegendStyles",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},isLight:{defaultValue:null,description:"",name:"isLight",required:!0,type:{name:"boolean"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"ThemeColors"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"ThemeBreakpoints"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:"ThemeSpacing"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"ThemeShape"}},components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ThemeComponents"}},typography:{defaultValue:null,description:"",name:"typography",required:!0,type:{name:"ThemeTypography"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"{ activePanel: number; navbarFixed: number; sidemenu: number; dropdown: number; typeahead: number; tooltip: number; modalBackdrop: number; modal: number; portal: number; }"}},shadows:{defaultValue:null,description:"",name:"shadows",required:!0,type:{name:"ThemeShadows"}},visualization:{defaultValue:null,description:"",name:"visualization",required:!0,type:{name:"ThemeVisualizationColors"}},transitions:{defaultValue:null,description:"",name:"transitions",required:!0,type:{name:"ThemeTransitions"}},v1:{defaultValue:null,description:"@deprecated Will be removed in a future version",name:"v1",required:!0,type:{name:"GrafanaTheme"}},flags:{defaultValue:null,description:"feature flags that might impact component looks",name:"flags",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Legend.tsx#getLegendStyles"]={docgenInfo:getLegendStyles.__docgenInfo,name:"getLegendStyles",path:"src/components/Forms/Legend.tsx#getLegendStyles"})}catch(__react_docgen_typescript_loader_error){}try{Legend.displayName="Legend",Legend.__docgenInfo={description:"",displayName:"Legend",props:{description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Legend.tsx#Legend"]={docgenInfo:Legend.__docgenInfo,name:"Legend",path:"src/components/Forms/Legend.tsx#Legend"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/RadioButtonGroup/RadioButtonGroup.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{z:function(){return RadioButtonGroup}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),react=__webpack_require__("../../node_modules/react/index.js"),types_icon=__webpack_require__("../grafana-data/src/types/icon.ts"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),selectors=__webpack_require__("../grafana-e2e-selectors/src/selectors/index.ts"),mixins=__webpack_require__("./src/themes/mixins.ts"),Tooltip=__webpack_require__("./src/components/Tooltip/Tooltip.tsx"),commonStyles=__webpack_require__("./src/components/Forms/commonStyles.ts");const RadioButton=react.forwardRef((({children:children,active:active=!1,disabled:disabled=!1,size:size="md",onChange:onChange,onClick:onClick,id:id,name:name,description:description,fullWidth:fullWidth,"aria-label":ariaLabel},ref)=>{const styles=(0,ThemeContext.of)(getRadioButtonStyles,size,fullWidth),inputRadioButton=(0,jsx_runtime.jsx)("input",{type:"radio",className:styles.radio,onChange:onChange,onClick:onClick,disabled:disabled,id:id,checked:active,name:name,"aria-label":ariaLabel,ref:ref});return description?(0,jsx_runtime.jsxs)("div",{className:styles.radioOption,"data-testid":selectors.Tp.components.RadioButton.container,children:[(0,jsx_runtime.jsx)(Tooltip.m,{content:description,placement:"bottom",children:inputRadioButton}),(0,jsx_runtime.jsx)("label",{className:styles.radioLabel,htmlFor:id,title:description||ariaLabel,children:children})]}):(0,jsx_runtime.jsxs)("div",{className:styles.radioOption,"data-testid":selectors.Tp.components.RadioButton.container,children:[inputRadioButton,(0,jsx_runtime.jsx)("label",{className:styles.radioLabel,htmlFor:id,title:description||ariaLabel,children:children})]})}));RadioButton.displayName="RadioButton";const getRadioButtonStyles=(theme,size,fullWidth)=>{const{fontSize:fontSize,height:height,padding:padding}=(0,commonStyles.SM)(size,theme),textColor=theme.colors.text.secondary,textColorHover=theme.colors.text.primary,labelHeight=height*theme.spacing.gridSize-4-2;return{radioOption:(0,emotion_css_esm.AH)({display:"flex",justifyContent:"space-between",position:"relative",flex:fullWidth?"1 0 0":"none",textAlign:"center"}),radio:(0,emotion_css_esm.AH)({position:"absolute",opacity:0,zIndex:2,width:"100% !important",height:"100%",cursor:"pointer","&:checked + label":{color:theme.colors.text.primary,fontWeight:theme.typography.fontWeightMedium,background:theme.colors.action.selected,zIndex:1},"&:focus + label, &:focus-visible + label":(0,mixins.Hi)(theme),"&:focus:not(:focus-visible) + label":(0,mixins.cr)(theme),"&:disabled + label":{color:theme.colors.text.disabled,cursor:"not-allowed"}}),radioLabel:(0,emotion_css_esm.AH)({display:"flex",alignItems:"center",justifyContent:"center",fontSize:fontSize,height:`${labelHeight}px`,lineHeight:`${labelHeight}px`,color:textColor,padding:theme.spacing(0,padding),borderRadius:(0,mixins.aM)(theme,2),background:theme.colors.background.primary,cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",flexGrow:1,"&:hover":{color:textColorHover}})}};try{RadioButton.displayName="RadioButton",RadioButton.__docgenInfo={description:"",displayName:"RadioButton",props:{size:{defaultValue:{value:"md"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:{value:"undefined"},description:"",name:"name",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},active:{defaultValue:{value:"false"},description:"",name:"active",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"() => void"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/RadioButtonGroup/RadioButton.tsx#RadioButton"]={docgenInfo:RadioButton.__docgenInfo,name:"RadioButton",path:"src/components/Forms/RadioButtonGroup/RadioButton.tsx#RadioButton"})}catch(__react_docgen_typescript_loader_error){}function RadioButtonGroup({options:options,value:value,onChange:onChange,onClick:onClick,disabled:disabled,disabledOptions:disabledOptions,size:size="md",id:id,className:className,fullWidth:fullWidth=!1,autoFocus:autoFocus=!1,"aria-label":ariaLabel,invalid:invalid=!1}){const handleOnChange=(0,react.useCallback)((option=>()=>{onChange&&onChange(option.value)}),[onChange]),handleOnClick=(0,react.useCallback)((option=>()=>{onClick&&onClick(option.value)}),[onClick]),internalId=id??(0,lodash.uniqueId)("radiogroup-"),groupName=(0,react.useRef)(internalId),styles=(0,ThemeContext.of)(getStyles),activeButtonRef=(0,react.useRef)(null);return(0,react.useEffect)((()=>{autoFocus&&activeButtonRef.current&&activeButtonRef.current.focus()}),[autoFocus]),(0,jsx_runtime.jsx)("div",{role:"radiogroup","aria-label":ariaLabel,className:(0,emotion_css_esm.cx)(styles.radioGroup,fullWidth&&styles.fullWidth,invalid&&styles.invalid,className),children:options.map(((opt,i)=>{const isItemDisabled=disabledOptions&&opt.value&&disabledOptions.includes(opt.value),icon=opt.icon?(0,types_icon.Uo)(opt.icon):void 0,hasNonIconPart=Boolean(opt.imgUrl||opt.label||opt.component);return(0,jsx_runtime.jsxs)(RadioButton,{size:size,disabled:isItemDisabled||disabled,active:value===opt.value,"aria-label":opt.ariaLabel,onChange:handleOnChange(opt),onClick:handleOnClick(opt),id:`option-${opt.value}-${internalId}`,name:groupName.current,description:opt.description,fullWidth:fullWidth,ref:value===opt.value?activeButtonRef:void 0,children:[icon&&(0,jsx_runtime.jsx)(Icon.I,{name:icon,className:(0,emotion_css_esm.cx)(hasNonIconPart&&styles.icon)}),opt.imgUrl&&(0,jsx_runtime.jsx)("img",{src:opt.imgUrl,alt:opt.label,className:styles.img}),opt.label," ",opt.component?(0,jsx_runtime.jsx)(opt.component,{}):null]},`o.label-${i}`)}))})}RadioButtonGroup.displayName="RadioButtonGroup";const getStyles=theme=>({radioGroup:(0,emotion_css_esm.AH)({backgroundColor:theme.colors.background.primary,display:"inline-flex",flexDirection:"row",flexWrap:"nowrap",border:`1px solid ${theme.components.input.borderColor}`,borderRadius:theme.shape.radius.default,padding:2,"&:hover":{borderColor:theme.components.input.borderHover}}),fullWidth:(0,emotion_css_esm.AH)({display:"flex",flexGrow:1}),icon:(0,emotion_css_esm.AH)({marginRight:"6px"}),img:(0,emotion_css_esm.AH)({width:theme.spacing(2),height:theme.spacing(2),marginRight:theme.spacing(1)}),invalid:(0,emotion_css_esm.AH)({border:`1px solid ${theme.colors.error.border}`})});try{RadioButtonGroup.displayName="RadioButtonGroup",RadioButtonGroup.__docgenInfo={description:"",displayName:"RadioButtonGroup",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"T"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},disabledOptions:{defaultValue:null,description:"",name:"disabledOptions",required:!1,type:{name:"T[]"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SelectableValue<T>[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: T) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((value: T) => void)"}},size:{defaultValue:{value:"md"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'}]}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},autoFocus:{defaultValue:{value:"false"},description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},invalid:{defaultValue:{value:"false"},description:"",name:"invalid",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/RadioButtonGroup/RadioButtonGroup.tsx#RadioButtonGroup"]={docgenInfo:RadioButtonGroup.__docgenInfo,name:"RadioButtonGroup",path:"src/components/Forms/RadioButtonGroup/RadioButtonGroup.tsx#RadioButtonGroup"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Switch/Switch.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{K:function(){return InlineSwitch},d:function(){return Switch}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/lodash/lodash.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/index.js"),_grafana_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../grafana-data/src/utils/deprecationWarning.ts"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/themes/ThemeContext.tsx"),_themes_mixins__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/themes/mixins.ts"),_Icon_Icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Icon/Icon.tsx");const Switch=(0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)((({value:value,checked:checked,onChange:onChange,id:id,label:label,disabled:disabled,invalid:invalid=!1,...inputProps},ref)=>{checked&&(0,_grafana_data__WEBPACK_IMPORTED_MODULE_4__.l)("Switch","checked prop","value");const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__.of)(getSwitchStyles),switchIdRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(id||(0,lodash__WEBPACK_IMPORTED_MODULE_2__.uniqueId)("switch-"));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.switch,invalid&&styles.invalid),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"checkbox",role:"switch",disabled:disabled,checked:value,onChange:event=>{!disabled&&onChange?.(event)},id:switchIdRef.current,...inputProps,ref:ref}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:switchIdRef.current,"aria-label":label,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_6__.I,{name:"check",size:"xs"})})]})}));Switch.displayName="Switch";const InlineSwitch=(0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)((({transparent:transparent,className:className,showLabel:showLabel,label:label,value:value,id:id,invalid:invalid,...props},ref)=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__.of)(getSwitchStyles,transparent);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.inlineContainer,className,props.disabled&&styles.disabled,invalid&&styles.invalid),children:[showLabel&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:id,className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.inlineLabel,value&&styles.inlineLabelEnabled,"inline-switch-label"),children:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Switch,{...props,id:id,label:label,ref:ref,value:value})]})}));InlineSwitch.displayName="Switch";const getSwitchStyles=(theme,transparent)=>({switch:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({width:theme.spacing(4),height:theme.spacing(2),position:"relative",lineHeight:1,input:{height:"100%",width:"100% !important",opacity:0,zIndex:-1e3,position:"absolute","&:checked + label":{background:theme.colors.primary.main,borderColor:theme.colors.primary.main,"&:hover":{background:theme.colors.primary.shade},svg:{transform:`translate3d(${theme.spacing(2.25)}, -50%, 0)`,background:theme.colors.primary.contrastText,color:theme.colors.primary.main}},"&:disabled + label":{background:theme.colors.action.disabledBackground,borderColor:theme.colors.border.weak,cursor:"not-allowed",svg:{background:theme.colors.text.disabled}},"&:disabled:checked + label":{background:theme.colors.primary.transparent,svg:{color:theme.colors.primary.contrastText}},"&:focus + label, &:focus-visible + label":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_7__.Hi)(theme),"&:focus:not(:focus-visible) + label":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_7__.cr)(theme)},label:{width:"100%",height:"100%",cursor:"pointer",borderRadius:theme.shape.radius.pill,background:theme.components.input.background,border:`1px solid ${theme.components.input.borderColor}`,transition:"all 0.3s ease","&:hover":{borderColor:theme.components.input.borderHover},svg:{position:"absolute",display:"block",color:"transparent",width:theme.spacing(1.5),height:theme.spacing(1.5),borderRadius:theme.shape.radius.circle,background:theme.colors.text.secondary,boxShadow:theme.shadows.z1,left:0,top:"50%",transform:`translate3d(${theme.spacing(.25)}, -50%, 0)`,transition:"transform 0.2s cubic-bezier(0.19, 1, 0.22, 1)","@media (forced-colors: active)":{border:`1px solid ${theme.colors.primary.contrastText}`}}}}),inlineContainer:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({padding:theme.spacing(0,1),height:theme.spacing(theme.components.height.md),display:"inline-flex",alignItems:"center",background:transparent?"transparent":theme.components.input.background,border:`1px solid ${transparent?"transparent":theme.components.input.borderColor}`,borderRadius:theme.shape.radius.default,"&:hover":{border:`1px solid ${transparent?"transparent":theme.components.input.borderHover}`,".inline-switch-label":{color:theme.colors.text.primary}}}),disabled:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({backgroundColor:transparent?"transparent":"rgba(204, 204, 220, 0.04)",color:"rgba(204, 204, 220, 0.6)",border:"1px solid "+(transparent?"transparent":"rgba(204, 204, 220, 0.04)")}),inlineLabel:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({cursor:"pointer",paddingRight:theme.spacing(1),color:theme.colors.text.secondary,whiteSpace:"nowrap"}),inlineLabelEnabled:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({color:theme.colors.text.primary}),invalid:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({"input + label, input:checked + label, input:hover + label":{border:`1px solid ${theme.colors.error.border}`}})});try{Switch.displayName="Switch",Switch.__docgenInfo={description:"",displayName:"Switch",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},invalid:{defaultValue:{value:"false"},description:"Show an invalid state around the input",name:"invalid",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Switch/Switch.tsx#Switch"]={docgenInfo:Switch.__docgenInfo,name:"Switch",path:"src/components/Switch/Switch.tsx#Switch"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/TextArea/TextArea.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f:function(){return TextArea}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_Forms_commonStyles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Forms/commonStyles.ts");const TextArea=(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((({invalid:invalid,className:className,...props},ref)=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getTextAreaStyle,invalid);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{...props,className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.textarea,className),ref:ref})})),getTextAreaStyle=(theme,invalid=!1)=>({textarea:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)((0,_Forms_commonStyles__WEBPACK_IMPORTED_MODULE_4__.Xb)(theme),(0,_Forms_commonStyles__WEBPACK_IMPORTED_MODULE_4__.gm)(theme),(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"block",borderRadius:theme.shape.radius.default,padding:`${theme.spacing.gridSize/4}px ${theme.spacing.gridSize}px`,width:"100%",borderColor:invalid?theme.colors.error.border:theme.components.input.borderColor}))});TextArea.displayName="TextArea";try{TextArea.displayName="TextArea",TextArea.__docgenInfo={description:"",displayName:"TextArea",props:{invalid:{defaultValue:null,description:"Show an invalid state around the input",name:"invalid",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TextArea/TextArea.tsx#TextArea"]={docgenInfo:TextArea.__docgenInfo,name:"TextArea",path:"src/components/TextArea/TextArea.tsx#TextArea"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/reactUtils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{b:function(){return renderOrCallToRender},e:function(){return getChildId}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function getChildId(children){let inputId;const child=react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children);return"id"in child?.props?inputId=child.props.id:"inputId"in child.props&&(inputId=child?.props.inputId),"string"==typeof inputId?inputId:void 0}function renderOrCallToRender(itemToRender,props){if(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(itemToRender)||"string"==typeof itemToRender||"number"==typeof itemToRender)return itemToRender;if("function"==typeof itemToRender&&props)return itemToRender(props);throw new Error(`${itemToRender} is not a React element nor a function that returns React element`)}},"./src/utils/storybook/withStoryContainer.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d:function(){return withStoryContainer}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js");__webpack_require__("../../node_modules/react/index.js");const StoryContainer=({width:width,height:height,showBoundaries:showBoundaries,children:children})=>{const finalWidth=width?`${width}px`:"100%",finalHeight=0!==height?`${height}px`:"auto",bgStyles=showBoundaries&&(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({backgroundColor:"white",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px",backgroundImage:"linear-gradient(\n          45deg,\n          #f0f0f0 25%,\n          transparent 25%,\n          transparent 75%,\n          #f0f0f0 75%,\n          #f0f0f0\n        ),\n        linear-gradient(45deg, #f0f0f0 25%, transparent 25%, transparent 75%, #f0f0f0 75%, #f0f0f0)"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)((0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({width:finalWidth,height:finalHeight}),bgStyles),children:children})},withStoryContainer=(story,{args:args})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StoryContainer,{width:args.containerWidth,height:args.containerHeight,showBoundaries:args.showBoundaries,children:story()})},"./src/components/Forms/Form.story.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AsyncValidation:function(){return AsyncValidation},Basic:function(){return Basic},DefaultValues:function(){return DefaultValues},default:function(){return Form_story}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),withStoryContainer=__webpack_require__("./src/utils/storybook/withStoryContainer.tsx"),Button=__webpack_require__("./src/components/Button/Button.tsx"),Input=__webpack_require__("./src/components/Input/Input.tsx");const InputControl=__webpack_require__("../../node_modules/react-hook-form/dist/index.esm.mjs").xI;try{InputControl.displayName="InputControl",InputControl.__docgenInfo={description:"",displayName:"InputControl",props:{render:{defaultValue:null,description:"",name:"render",required:!0,type:{name:"({ field, fieldState, formState, }: { field: ControllerRenderProps<TFieldValues, TName>; fieldState: ControllerFieldState; formState: UseFormStateReturn<TFieldValues>; }) => ReactElement<...>"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},rules:{defaultValue:null,description:"",name:"rules",required:!1,type:{name:'Omit<RegisterOptions<TFieldValues, TName>, "disabled" | "setValueAs" | "valueAsNumber" | "valueAsDate">'}},shouldUnregister:{defaultValue:null,description:"",name:"shouldUnregister",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"any"}},control:{defaultValue:null,description:"",name:"control",required:!1,type:{name:"Control<TFieldValues, any, TTransformedValues>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InputControl.tsx#InputControl"]={docgenInfo:InputControl.__docgenInfo,name:"InputControl",path:"src/components/InputControl.tsx#InputControl"})}catch(__react_docgen_typescript_loader_error){}var Select=__webpack_require__("./src/components/Select/Select.tsx"),Switch=__webpack_require__("./src/components/Switch/Switch.tsx"),TextArea=__webpack_require__("./src/components/TextArea/TextArea.tsx"),Checkbox=__webpack_require__("./src/components/Forms/Checkbox.tsx"),Field=__webpack_require__("./src/components/Forms/Field.tsx"),Form=__webpack_require__("./src/components/Forms/Form.tsx"),lib=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js")),dist=__webpack_require__("../../node_modules/@storybook/addon-docs/node_modules/@storybook/blocks/dist/index.mjs");function _createMdxContent(props){const _components={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,lib.R)(),...props.components};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.W8,{title:"MDX|Form",component:Form.l}),"\n",(0,jsx_runtime.jsx)(_components.h1,{id:"form",children:"Form"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Form component provides a way to build simple forms at Grafana. It is built on top of ",(0,jsx_runtime.jsx)(_components.a,{href:"https://react-hook-form.com/",rel:"nofollow",children:"react-hook-form"})," library and incorporates the same concepts while adjusting the API slightly."]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsxs)(_components.strong,{children:["Note: This component is deprecated and will be removed in the future versions of grafana/ui. Use the ",(0,jsx_runtime.jsx)(_components.code,{children:"useForm"})," hook from react-hook-form instead."]})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"usage",children:"Usage"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-tsx",children:'import { Forms } from \'@grafana/ui\';\n\ninterface UserDTO {\n  name: string;\n  email: string;\n  //...\n}\n\nconst defaultUser: Partial<UserDTO> = {\n  name: \'Roger Waters\',\n  // ...\n}\n\n<Form\n  defaultValues={defaultUser}\n  onSubmit={async (user: UserDTO) => await createUser(user)}\n>{({register, errors}) => {\n  return (\n    <Field>\n      <Input {...register("name")}/>\n      <Input {...register("email", {required: true})} type="email" />\n      <Button type="submit">Create User</Button>\n    </Field>\n  )\n}}</Form>\n'})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"form-api",children:"Form API"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"Form"})," component exposes API via render prop. Three properties are exposed: ",(0,jsx_runtime.jsx)(_components.code,{children:"register"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"errors"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"control"})]}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"register",children:(0,jsx_runtime.jsx)(_components.code,{children:"register"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"register"})," allows registering form elements (inputs, selects, radios, etc) in the form. In order to do that you need to invoke the function itself and spread the props into the input. For example:"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"<Input {...register('inputName')} />\n"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["The first argument for ",(0,jsx_runtime.jsx)(_components.code,{children:"register"})," is the field name. It also accepts an object, which describes validation rules for a given input:"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:'<Input\n  {...register("inputName", {\n    required: true,\n    minLength: 10,\n    validate: v => { // custom validation rule }\n  })}\n/>\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["See ",(0,jsx_runtime.jsx)(_components.a,{href:"#validation",children:"Validation"})," for examples on validation and validation rules."]}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"errors",children:(0,jsx_runtime.jsx)(_components.code,{children:"errors"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"errors"})," is an object that contains validation errors of the form. To show error message and invalid input indication in your form, wrap input element with ",(0,jsx_runtime.jsx)(_components.code,{children:"<Field ...>"})," component and pass ",(0,jsx_runtime.jsx)(_components.code,{children:"invalid"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"error"})," props to it:"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:'<Field label="Name" invalid={!!errors.name} error="Name is required">\n  <Input {...register(\'name\', { required: true })} />\n</Field>\n'})}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"control",children:(0,jsx_runtime.jsx)(_components.code,{children:"control"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["By default ",(0,jsx_runtime.jsx)(_components.code,{children:"Form"})," component assumes form elements are uncontrolled (https://reactjs.org/docs/glossary.html#controlled-vs-uncontrolled-components).\nThere are some components like ",(0,jsx_runtime.jsx)(_components.code,{children:"RadioButton"})," or ",(0,jsx_runtime.jsx)(_components.code,{children:"Select"})," that are controlled-only and require some extra work. To make\nthem work with the form, you need to render those using ",(0,jsx_runtime.jsx)(_components.code,{children:"InputControl"})," component:"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:'import { Form, Field, InputControl } from \'@grafana/ui\';\n\n// render function\n<Form ...>{({register, errors, control}) => (\n  <>\n    <Field label="RadioButtonExample">\n      <InputControl\n        {/* Render InputControl as controlled input (RadioButtonGroup) */}\n        render={({field}) => <RadioButtonGroup {...field} options={...} />}\n        {/* Pass control exposed from Form render prop */}\n        control={control}\n        name="radio"\n      />\n    </Field>\n\n    <Field label="SelectExample">\n      <InputControl\n        {/* Render InputControl as controlled input (Select) */}\n        render={({field}) => <Select {...field} options={...} />}\n        {/* Pass control exposed from Form render prop */}\n        control={control}\n        name="select"\n      />\n    </Field>\n  </>\n)}\n</Form>\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["In case we want to modify the selected value before passing it to the form, we can use the ",(0,jsx_runtime.jsx)(_components.code,{children:"onChange"})," callback from the render's ",(0,jsx_runtime.jsx)(_components.code,{children:"field"})," argument:"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:'<Field label="SelectExample">\n  <InputControl\n    {/* Here `value` has a nested `value` property, which we want to save onto the form. */}\n    render={(field: {onChange, ...field}) => <Select {...field} onChange={(value) => onChange(value.value)}/>}\n    control={control}\n    name="select"\n  />\n</Field>\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Note that ",(0,jsx_runtime.jsx)(_components.code,{children:"field"})," also contains ",(0,jsx_runtime.jsx)(_components.code,{children:"ref"})," prop, which is passed down to the rendered component by default. In case if that component doesn't support this prop, it will need to be removed before spreading the ",(0,jsx_runtime.jsx)(_components.code,{children:"field"}),"."]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:'<Field label="SelectExample">\n  <InputControl\n     {/*Remove `ref` prop, so it doesn\'t get passed down to the component that doesn\'t support it. */}\n    render={(field: {onChange, ref, ...field}) => <Select {...field} onChange={(value) => onChange(value.value)}/>}\n    control={control}\n    name="select"\n  />\n</Field>\n'})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"default-values",children:"Default values"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Default values of the form can be passed either via ",(0,jsx_runtime.jsx)(_components.code,{children:"defaultValues"})," property on the ",(0,jsx_runtime.jsx)(_components.code,{children:"Form"})," element, or directly on\nform's input via ",(0,jsx_runtime.jsx)(_components.code,{children:"defaultValue"})," prop.\nNote that changing/updating ",(0,jsx_runtime.jsx)(_components.code,{children:"defaultValues"})," passed to the form will reset the form's state, which might be undesirable in\ncase it has both controlled and uncontrolled components. In that case it's better to pass ",(0,jsx_runtime.jsx)(_components.code,{children:"defaultValue"})," to each form component separately."]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"// Passing default values to the Form\n\ninterface FormDTO {\n  name: string;\n  isAdmin: boolean;\n}\n\nconst defaultValues: FormDto {\n  name: 'Roger Waters',\n  isAdmin: false,\n}\n\n<Form defaultValues={defaultValues} ...>{...}</Form>\n"})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"// Passing default value directly to form inputs\n\ninterface FormDTO {\n  name: string;\n  isAdmin: boolean;\n}\n\nconst defaultValues: FormDto {\n  name: 'Roger Waters',\n  isAdmin: false,\n}\n\n<Form ...>{\n  ({register}) => (\n    <>\n      <Input {...register(\"name\")} defaultValue={default.name} />\n    </>\n  )}\n</Form>\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"validation",children:"Validation"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Validation can be performed either synchronously or asynchronously. What's important here is that the validation function must return either a ",(0,jsx_runtime.jsx)(_components.code,{children:"boolean"})," or a ",(0,jsx_runtime.jsx)(_components.code,{children:"string"}),"."]}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"basic-required-example",children:"Basic required example"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"<Form ...>{\n  ({register, errors}) => (\n    <>\n      <Field invalid={!!errors.name} error={errors.name && 'Name is required'}\n      <Input\n        {...register(\"name\", { required: true })}\n        defaultValue={default.name}\n      />\n    </>\n  )}\n</Form>\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"required-with-synchronous-custom-validation",children:"Required with synchronous custom validation"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["One important thing to note is that if you want to provide different error messages for different kind of validation errors you'll need to return a ",(0,jsx_runtime.jsx)(_components.code,{children:"string"})," instead of a ",(0,jsx_runtime.jsx)(_components.code,{children:"boolean"}),"."]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"<Form ...>{\n  ({register, errors}) => (\n    <>\n      <Field invalid={!!errors.name} error={errors.name?.message }\n      <Input\n        defaultValue={default.name}\n        {...register(\"name\", {\n          required: 'Name is required',\n          validation: v => {\n            return v !== 'John' && 'Name must be John'\n          },\n        )}\n      />\n    </>\n  )}\n</Form>\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"asynchronous-validation",children:"Asynchronous validation"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"For cases when you might want to validate fields asynchronously (on the backend or via some service) you can provide an asynchronous function to the field."}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Consider this function that simulates a call to some service. Remember, if you want to display an error message replace ",(0,jsx_runtime.jsx)(_components.code,{children:"return true"})," or ",(0,jsx_runtime.jsx)(_components.code,{children:"return false"})," with ",(0,jsx_runtime.jsx)(_components.code,{children:"return 'your error message'"}),"."]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"validateAsync = (newValue: string) => {\n  try {\n    (await new Promise()) <\n      ValidateResult >\n      ((resolve, reject) => {\n        setTimeout(() => {\n          reject('Something went wrong...');\n        }, 2000);\n      });\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n"})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"<Form ...>{\n  ({register, errors}) => (\n    <>\n      <Field invalid={!!errors.name} error={errors.name?.message}\n      <Input\n        defaultValue={default.name}\n        {...register(\"name\", {\n          required: 'Name is required',\n          validation: async v => {\n            return  await validateAsync(v);\n          },\n        )}\n      />\n    </>\n  )}\n</Form>\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"upgrading-to-v8",children:"Upgrading to v8"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Version 8 of Grafana-UI is using version 7 of ",(0,jsx_runtime.jsx)(_components.code,{children:"react-hook-form"})," (previously version 5 was used), which introduced a few breaking changes to the ",(0,jsx_runtime.jsx)(_components.code,{children:"Form"})," API. The detailed list of changes can be found in the library's migration guides:"]}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.a,{href:"https://react-hook-form.com/migrate-v5-to-v6/",rel:"nofollow",children:"Migration guide v5 to v6"})}),"\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.a,{href:"https://react-hook-form.com/migrate-v6-to-v7/",rel:"nofollow",children:"Migration guide v6 to v7"})}),"\n"]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"In a nutshell, the two most important changes are:"}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsxs)(_components.li,{children:["register method is no longer passed as a ",(0,jsx_runtime.jsx)(_components.code,{children:"ref"}),", but instead its result is spread onto the input component:"]}),"\n"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"-(<input ref={register({ required: true })} name=\"test\" />) + <input {...register('test', { required: true })} />;\n"})}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"InputControl"}),"'s ",(0,jsx_runtime.jsx)(_components.code,{children:"as"})," prop has been replaced with ",(0,jsx_runtime.jsx)(_components.code,{children:"render"}),", which has ",(0,jsx_runtime.jsx)(_components.code,{children:"field"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"fieldState"})," objects as arguments. ",(0,jsx_runtime.jsx)(_components.code,{children:"onChange"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"onBlur"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"value"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"name"}),", and ",(0,jsx_runtime.jsx)(_components.code,{children:"ref"})," are parts of ",(0,jsx_runtime.jsx)(_components.code,{children:"field"}),"."]}),"\n"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:"- <Controller as={<input />} />\n+ <Controller render={({ field }) => <input {...field} />}\n// or\n+ <Controller render={({ field, fieldState }) => <input {...field} />} />\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"props",children:"Props"}),"\n",(0,jsx_runtime.jsx)(dist.ov,{of:Form.l})]})}var Legend=__webpack_require__("./src/components/Forms/Legend.tsx"),RadioButtonGroup=__webpack_require__("./src/components/Forms/RadioButtonGroup/RadioButtonGroup.tsx"),Form_story={title:"Forms/Form",decorators:[withStoryContainer.d],parameters:{docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,lib.R)(),...props.components};return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}}}};const selectOptions=[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}],renderForm=defaultValues=>(0,jsx_runtime.jsx)(Form.l,{defaultValues:defaultValues,onSubmit:data=>{console.log(data)},children:({register:register,control:control,errors:errors})=>(console.log(errors),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Legend.s,{children:"Edit user"}),(0,jsx_runtime.jsx)(Field.D,{label:"Name",invalid:!!errors.name,error:"Name is required",children:(0,jsx_runtime.jsx)(Input.p,{...register("name",{required:!0}),placeholder:"Roger Waters"})}),(0,jsx_runtime.jsx)(Field.D,{label:"Email",invalid:!!errors.email,error:"E-mail is required",children:(0,jsx_runtime.jsx)(Input.p,{...register("email",{required:!0}),id:"email",placeholder:"roger.waters@grafana.com"})}),(0,jsx_runtime.jsx)(Field.D,{label:"Username",children:(0,jsx_runtime.jsx)(Input.p,{...register("username"),placeholder:"mr.waters"})}),(0,jsx_runtime.jsx)(Field.D,{label:"Nested object",children:(0,jsx_runtime.jsx)(Input.p,{...register("nested.path"),placeholder:"Nested path"})}),(0,jsx_runtime.jsx)(Field.D,{label:"Textarea",invalid:!!errors.text,error:"Text is required",children:(0,jsx_runtime.jsx)(TextArea.f,{...register("text",{required:!0}),placeholder:"Long text"})}),(0,jsx_runtime.jsx)(Field.D,{label:"Checkbox",invalid:!!errors.checkbox,error:"We need your consent",children:(0,jsx_runtime.jsx)(Checkbox.S,{...register("checkbox",{required:!0}),label:"Do you consent?"})}),(0,jsx_runtime.jsx)(Field.D,{label:"Switch",children:(0,jsx_runtime.jsx)(Switch.d,{name:"switch",...register})}),(0,jsx_runtime.jsx)(Field.D,{label:"RadioButton",children:(0,jsx_runtime.jsx)(InputControl,{name:"radio",control:control,render:({field:field})=>(0,jsx_runtime.jsx)(RadioButtonGroup.z,{...field,options:selectOptions})})}),(0,jsx_runtime.jsx)(Field.D,{label:"Select",invalid:!!errors.select,error:"Select is required",children:(0,jsx_runtime.jsx)(InputControl,{name:"select",control:control,rules:{required:!0},render:({field:field})=>(0,jsx_runtime.jsx)(Select.l6,{...field,options:selectOptions})})}),(0,jsx_runtime.jsx)(Button.$n,{type:"submit",children:"Update"})]}))}),Basic=()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderForm()}),DefaultValues=()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderForm({name:"Roger Waters",nested:{path:"Nested path default value"},radio:"option2",select:"option1",switch:!0})}),AsyncValidation=({passAsyncValidation:passAsyncValidation})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(Form.l,{onSubmit:data=>{alert("Submitted successfully!")},children:({register:register,control:control,errors:errors,formState:formState})=>(console.log(errors),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Legend.s,{children:"Edit user"}),(0,jsx_runtime.jsx)(Field.D,{label:"Name",invalid:!!errors.name,error:"Username is already taken",children:(0,jsx_runtime.jsx)(Input.p,{placeholder:"Roger Waters",...register("name",{validate:validateAsync(passAsyncValidation)})})}),(0,jsx_runtime.jsx)(Button.$n,{type:"submit",disabled:formState.isSubmitting,children:"Submit"})]}))})});AsyncValidation.args={passAsyncValidation:!0};const validateAsync=shouldPass=>async()=>{try{return await new Promise(((resolve,reject)=>{setTimeout((()=>{shouldPass?resolve():reject("Something went wrong...")}),2e3)})),!0}catch(e){return console.log(e),!1}};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"() => {\n  return <>{renderForm()}</>;\n}",...Basic.parameters?.docs?.source}}},DefaultValues.parameters={...DefaultValues.parameters,docs:{...DefaultValues.parameters?.docs,source:{originalSource:"() => {\n  const defaultValues = [{\n    name: 'Roger Waters',\n    nested: {\n      path: 'Nested path default value'\n    },\n    radio: 'option2',\n    select: 'option1',\n    switch: true\n  }];\n  return <>{renderForm(defaultValues[0])}</>;\n}",...DefaultValues.parameters?.docs?.source}}},AsyncValidation.parameters={...AsyncValidation.parameters,docs:{...AsyncValidation.parameters?.docs,source:{originalSource:'({\n  passAsyncValidation\n}) => {\n  return <>\n      <Form onSubmit={(data: FormDTO) => {\n      alert(\'Submitted successfully!\');\n    }}>\n        {({\n        register,\n        control,\n        errors,\n        formState\n      }) => {\n        console.log(errors);\n        return <>\n              <Legend>Edit user</Legend>\n\n              <Field label="Name" invalid={!!errors.name} error="Username is already taken">\n                <Input placeholder="Roger Waters" {...register(\'name\', {\n              validate: validateAsync(passAsyncValidation)\n            })} />\n              </Field>\n\n              <Button type="submit" disabled={formState.isSubmitting}>\n                Submit\n              </Button>\n            </>;\n      }}\n      </Form>\n    </>;\n}',...AsyncValidation.parameters?.docs?.source}}}}}]);