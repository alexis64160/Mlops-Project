/*! For license information please see components-Table-Table-story.f0be473f.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[4507],{"../grafana-data/src/dataframe/MutableDataFrame.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{k:function(){return MutableDataFrame}});var lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),dataFrame=__webpack_require__("../grafana-data/src/types/dataFrame.ts"),processDataFrame=__webpack_require__("../grafana-data/src/dataframe/processDataFrame.ts");class FunctionalVector{*iterator(){for(let i=0;i<this.length;i++)yield this.get(i)}set(index,value){throw"unsupported operation"}add(value){throw"unsupported operation"}push(...vals){for(const v of vals)this.add(v);return this.length}[Symbol.iterator](){return this.iterator()}forEach(iterator){return vectorator(this).forEach(iterator)}map(transform){return vectorator(this).map(transform)}filter(predicate){return vectorator(this).filter(predicate)}at(index){return this.get(index)}toArray(){const arr=new Array(this.length);for(let i=0;i<this.length;i++)arr[i]=this.get(i);return arr}join(separator){return this.toArray().join(separator)}toJSON(){return this.toArray()}pop(){throw new Error("Method not implemented.")}concat(...items){throw new Error("Method not implemented.")}reverse(){throw new Error("Method not implemented.")}shift(){throw new Error("Method not implemented.")}sort(compareFn){throw new Error("Method not implemented.")}splice(start,deleteCount,...items){throw new Error("Method not implemented.")}unshift(...items){throw new Error("Method not implemented.")}fill(value,start,end){throw new Error("Method not implemented.")}copyWithin(target,start,end){throw new Error("Method not implemented.")}[Symbol.unscopables]={};slice(start,end){return this.toArray().slice(start,end)}indexOf(searchElement,fromIndex){return this.toArray().indexOf(searchElement,fromIndex)}lastIndexOf(searchElement,fromIndex){return this.toArray().lastIndexOf(searchElement,fromIndex)}every(predicate,thisArg){return this.toArray().every(predicate,thisArg)}some(predicate,thisArg){return this.toArray().some(predicate,thisArg)}reduce(callbackfn,initialValue){throw new Error("Method not implemented.")}reduceRight(callbackfn,initialValue){throw new Error("Method not implemented.")}find(predicate,thisArg){return this.toArray().find(predicate,thisArg)}findIndex(predicate,thisArg){return this.toArray().findIndex(predicate,thisArg)}entries(){return this.toArray().entries()}keys(){return this.toArray().keys()}values(){return this.toArray().values()}includes(searchElement,fromIndex){return this.toArray().includes(searchElement,fromIndex)}flatMap(callback,thisArg){return this.toArray().flatMap(callback,thisArg)}flat(depth){throw new Error("Method not implemented.")}}const emptyarray=[];function vectorator(vector){return{*[Symbol.iterator](){for(let i=0;i<vector.length;i++)yield vector.get(i)},forEach(iterator){for(let i=0;i<vector.length;i++)iterator(vector.get(i),i,emptyarray)},map(transform){const result=[];for(let i=0;i<vector.length;i++)result.push(transform(vector.get(i),i,emptyarray));return result},filter(predicate){const result=[];let count=0;for(const val of this)predicate(val,count++,emptyarray)&&result.push(val);return result}}}class MutableDataFrame extends FunctionalVector{name;refId;meta;fields=[];first=[];creator;constructor(source,creator){if(super(),this.creator=creator||(buffer=>buffer??[]),source){const{name:name,refId:refId,meta:meta,fields:fields}=source;if(name&&(this.name=name),refId&&(this.refId=refId),meta&&(this.meta=meta),fields)for(const f of fields)this.addField(f)}Object.defineProperty(this,"length",{enumerable:!0,get:()=>this.first.length})}get length(){return this.first.length}addFieldFor(value,name){return this.addField({name:name||"",type:(0,processDataFrame.HW)(value)})}addField(f,startLength){let buffer;f.values&&(buffer=f.values);let type=f.type;type||"time"!==f.name&&"Time"!==f.name?(!type&&buffer&&buffer.length&&(type=(0,processDataFrame.HW)(buffer[0])),type||(type=dataFrame.PU.other)):type=dataFrame.PU.time;let name=f.name;name||(name=`Field ${this.fields.length+1}`);const field={...f,name:name,type:type,config:f.config||{},values:this.creator(buffer)};if(type===dataFrame.PU.other&&(type=(0,processDataFrame.dF)(field),type&&(field.type=type)),this.fields.push(field),this.first=this.fields[0].values,startLength)for(;field.values.length<startLength;)field.values.push(undefined);else this.validate();return field}validate(){const length=this.fields.reduce(((v,f)=>Math.max(v,f.values.length)),0);for(const field of this.fields)for(;field.values.length!==length;)field.values.push(undefined)}parsers=void 0;setParser(field,parser){return this.parsers||(this.parsers=new Map),this.parsers.set(field,parser),parser}parseValue(field,v){let p=this.parsers?.get(field);return p||(p=this.setParser(field,function makeFieldParser(value,field){return field.type||("time"===field.name||"Time"===field.name?field.type=dataFrame.PU.time:field.type=(0,processDataFrame.HW)(value)),field.type===dataFrame.PU.number?value=>parseFloat(value):field.type===dataFrame.PU.boolean?value=>!("F"===value[0]||"f"===value[0]||"0"===value[0]):value=>value}(v,field))),p(v)}appendRow(row){for(let i=this.fields.length;i<row.length;i++)this.addField({name:`Field ${i+1}`,type:(0,processDataFrame.HW)(row[i])});if(this.length<1)for(let i=0;i<this.fields.length;i++){const f=this.fields[i];f.type&&f.type!==dataFrame.PU.other||(f.type=(0,processDataFrame.HW)(row[i]))}for(let i=0;i<this.fields.length;i++){const f=this.fields[i];let v=row[i];f.type!==dataFrame.PU.string&&(0,lodash.isString)(v)&&(v=this.parseValue(f,v)),f.values.push(v)}}push(...vals){for(const v of vals)this.add(v);return this.length}reverse(){for(const field of this.fields)field.values.reverse();return this}add(value){const obj=value;for(const field of this.fields){let val=obj[field.name];field.type!==dataFrame.PU.string&&(0,lodash.isString)(val)&&(val=this.parseValue(field,val)),void 0===val&&(val=undefined),field.values.push(val)}}set(index,value){if(index>this.length)throw new Error("Unable to set value beyond current length");const obj=value||{};for(const field of this.fields)field.values[index]=obj[field.name]}get(idx){const v={};for(const field of this.fields)v[field.name]=field.values[idx];return v}toJSON(){return(0,processDataFrame.Kl)(this)}}},"../grafana-data/src/events/common.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{ql:function(){return DataHoverClearEvent},b_:function(){return DataHoverEvent}});class types_BusEventBase{type;payload;origin;tags;constructor(){this.type=this.__proto__.constructor.type}setTags(tags){return this.tags=new Set(tags),this}}class types_BusEventWithPayload extends types_BusEventBase{payload;constructor(payload){super(),this.payload=payload}}class DataHoverEvent extends types_BusEventWithPayload{static type="data-hover"}class DataHoverClearEvent extends types_BusEventBase{static type="data-hover-clear"}},"../grafana-data/src/text/sanitize.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{G$:function(){return sanitizeTextPanelContent},sQ:function(){return textUtil}});var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@braintree/sanitize-url/dist/index.js"),dompurify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/dompurify/dist/purify.es.mjs"),xss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/xss/lib/index.js");const XSSWL=Object.keys(xss__WEBPACK_IMPORTED_MODULE_2__.whiteList).reduce(((acc,element)=>(acc[element]=xss__WEBPACK_IMPORTED_MODULE_2__.whiteList[element]?.concat(["class","style"]),acc)),{});XSSWL.iframe=["src","width","height"];const sanitizeTextPanelWhitelist=new xss__WEBPACK_IMPORTED_MODULE_2__.FilterXSS({onTagAttr(tag,name,value,isWhiteAttr){if("iframe"===tag)return isWhiteAttr?` ${name}="${xss__WEBPACK_IMPORTED_MODULE_2__.escapeAttrValue(sanitizeUrl(value))}" sandbox credentialless referrerpolicy=no-referrer`:""},onTag(tag,html,options){if('<input disabled="" type="checkbox">'===html||'<input checked="" disabled="" type="checkbox">'===html)return html},whiteList:XSSWL,css:{whiteList:{...xss__WEBPACK_IMPORTED_MODULE_2__.getDefaultCSSWhiteList(),"flex-direction":!0,"flex-wrap":!0,"flex-basis":!0,"flex-grow":!0,"flex-shrink":!0,"flex-flow":!0,gap:!0,order:!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"align-items":!0,"align-content":!0,"align-self":!0}}});function sanitizeTextPanelContent(unsanitizedString){try{return sanitizeTextPanelWhitelist.process(unsanitizedString)}catch(error){return console.error("String could not be sanitized",unsanitizedString),"Text string could not be sanitized"}}function sanitizeUrl(url){return(0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.J)(url)}function escapeHtml(str){return String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}Error;const textUtil={escapeHtml:escapeHtml,hasAnsiCodes:function hasAnsiCodes(input){return/\u001b\[\d{1,2}m/.test(input)},sanitize:function sanitize(unsanitizedString){try{return dompurify__WEBPACK_IMPORTED_MODULE_1__.A.sanitize(unsanitizedString,{USE_PROFILES:{html:!0},FORBID_TAGS:["form","input"]})}catch(error){return console.error("String could not be sanitized",unsanitizedString),escapeHtml(unsanitizedString)}},sanitizeTextPanelContent:sanitizeTextPanelContent,sanitizeUrl:sanitizeUrl,sanitizeSVGContent:function sanitizeSVGContent(unsanitizedString){return dompurify__WEBPACK_IMPORTED_MODULE_1__.A.sanitize(unsanitizedString,{USE_PROFILES:{svg:!0,svgFilters:!0}})},sanitizeTrustedTypes:function sanitizeTrustedTypes(unsanitizedString){return dompurify__WEBPACK_IMPORTED_MODULE_1__.A.sanitize(unsanitizedString,{RETURN_TRUSTED_TYPE:!0})},sanitizeTrustedTypesRSS:function sanitizeTrustedTypesRSS(unsanitizedString){return dompurify__WEBPACK_IMPORTED_MODULE_1__.A.sanitize(unsanitizedString,{RETURN_TRUSTED_TYPE:!0,ADD_ATTR:["xmlns:atom","version","property","content"],ADD_TAGS:["rss","meta","channel","title","link","description","atom:link","item","pubDate","guid"],PARSER_MEDIA_TYPE:"application/xhtml+xml"})}}},"../grafana-data/src/utils/location.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{I:function(){return locationUtil}});var _text_sanitize__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../grafana-data/src/text/sanitize.ts"),_url__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../grafana-data/src/utils/url.ts");let getTimeRangeUrlParams,getVariablesUrlParams,grafanaConfig={appSubUrl:""};const stripBaseFromUrl=urlOrPath=>{const parsedUrl=(input=>{try{return new URL(input)}catch{return}})(urlOrPath);if(parsedUrl&&parsedUrl.origin!==window.location.origin)return urlOrPath;const appSubUrl=grafanaConfig.appSubUrl??"",stripExtraChars=appSubUrl.endsWith("/")?1:0,isAbsoluteUrl=urlOrPath.startsWith("http");let segmentToStrip=appSubUrl;return urlOrPath.startsWith("/")&&!isAbsoluteUrl||(segmentToStrip=`${window.location.origin}${appSubUrl}`),urlOrPath.length>0&&(0===urlOrPath.indexOf(segmentToStrip+"/")||urlOrPath===segmentToStrip)?urlOrPath.slice(segmentToStrip.length-stripExtraChars):urlOrPath},assureBaseUrl=url=>url.startsWith("/")?`${grafanaConfig.appSubUrl}${stripBaseFromUrl(url)}`:url,locationUtil={initialize:dependencies=>{grafanaConfig=dependencies.config,getTimeRangeUrlParams=dependencies.getTimeRangeForUrl,getVariablesUrlParams=dependencies.getVariablesUrlParams},stripBaseFromUrl:stripBaseFromUrl,assureBaseUrl:assureBaseUrl,updateSearchParams:(init,partial)=>{const urlSearchParams=new URLSearchParams(partial);try{const curURL=new URL(init);return urlSearchParams.forEach(((val,key)=>curURL.searchParams.set(key,val))),curURL.href}catch{const newSearchParams=new URLSearchParams(init);return urlSearchParams.forEach(((v,k)=>{newSearchParams.set(k,v)})),"?"+newSearchParams.toString()}},getTimeRangeUrlParams:()=>getTimeRangeUrlParams?_url__WEBPACK_IMPORTED_MODULE_0__.kM.toUrlParams(getTimeRangeUrlParams()):null,getVariablesUrlParams:scopedVars=>{if(!getVariablesUrlParams)return null;const params=getVariablesUrlParams(scopedVars);return _url__WEBPACK_IMPORTED_MODULE_0__.kM.toUrlParams(params)},getUrlForPartial:(location,searchParamsToUpdate)=>{const searchParams=_url__WEBPACK_IMPORTED_MODULE_0__.kM.parseKeyValue(location.search.startsWith("?")?location.search.substring(1):location.search);for(const key in searchParamsToUpdate)null===searchParamsToUpdate[key]||void 0===searchParamsToUpdate[key]?delete searchParams[key]:searchParams[key]=searchParamsToUpdate[key];return assureBaseUrl(_url__WEBPACK_IMPORTED_MODULE_0__.kM.renderUrl(location.pathname,searchParams))},processUrl:url=>grafanaConfig.disableSanitizeHtml?url:_text_sanitize__WEBPACK_IMPORTED_MODULE_1__.sQ.sanitizeUrl(url)}},"../grafana-data/src/utils/url.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Pp:function(){return serializeStateToUrlParam},kM:function(){return urlUtil},sQ:function(){return toURLRange}});var _datetime_moment_wrapper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../grafana-data/src/datetime/moment_wrapper.ts");function toUrlParams(a,encodeAsAngularJS=!0){const s=[],rbracket=/\[\]$/,encodingFunction=encodeAsAngularJS?(value,pctEncodeSpaces)=>function encodeURIComponentAsAngularJS(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+").replace(/[!'()*]/g,(function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()}))}(value,pctEncodeSpaces):(value,_)=>encodeURIComponent(value),isArray=obj=>"[object Array]"===Object.prototype.toString.call(obj),add=(k,v)=>{v="function"==typeof v?v():null==v?"":v,s[s.length]=encodingFunction(k,!0)+"="+encodingFunction(v,!0)},buildParams=(prefix,obj)=>{let i,len,key;if(prefix)if(isArray(obj))for(i=0,len=obj.length;i<len;i++)rbracket.test(prefix)?add(prefix,obj[i]):buildParams(prefix,obj[i]);else if(obj&&"[object Object]"===String(obj))for(key in obj)buildParams(prefix+"["+key+"]",obj[key]);else add(prefix,obj);else if(isArray(obj))for(i=0,len=obj.length;i<len;i++)add(obj[i].name,obj[i].value);else for(key in obj)buildParams(key,obj[key]);return s};return buildParams("",a).join("&")}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){return}}const urlUtil={renderUrl:function renderUrl(path,query){return query&&Object.keys(query).length>0&&(path+="?"+toUrlParams(query)),path},toUrlParams:toUrlParams,appendQueryToUrl:function appendQueryToUrl(url,stringToAppend){if(null!=stringToAppend&&""!==stringToAppend){const pos=url.indexOf("?");-1!==pos?url.length-pos>1&&(url+="&"):url+="?",url+=stringToAppend}return url},getUrlSearchParams:function getUrlSearchParams(){const searchParamsSegments=window.location.search.substring(1).split("&"),params={};for(const p of searchParamsSegments){const keyValuePair=p.split("=");if(keyValuePair.length>1){const key=decodeURIComponent(keyValuePair[0]),value=decodeURIComponent(keyValuePair[1]);params[key]=key in params?[...params[key],value]:[value]}else if(1===keyValuePair.length){params[decodeURIComponent(keyValuePair[0])]=!0}}return params},parseKeyValue:function parseKeyValue(keyValue){const obj={},parts=(keyValue||"").split("&");for(let keyValue of parts){let splitPoint,key,val;if(keyValue&&(key=keyValue=keyValue.replace(/\+/g,"%20"),splitPoint=keyValue.indexOf("="),-1!==splitPoint&&(key=keyValue.substring(0,splitPoint),val=keyValue.substring(splitPoint+1)),key=tryDecodeURIComponent(key),void 0!==key)){let parsedVal;val=void 0===val||tryDecodeURIComponent(val),parsedVal="string"==typeof val&&""!==val&&("true"===val||"false"===val)?"true"===val:val,obj.hasOwnProperty(key)?Array.isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],isNaN(parsedVal)?val:parsedVal]:obj[key]=isNaN(parsedVal)?val:parsedVal}}return obj},serializeParams:function serializeParams(params){return toUrlParams(params,!1)}};function serializeStateToUrlParam(urlState,compact){return void 0!==compact&&console.warn("`compact` parameter is deprecated and will be removed in a future release"),JSON.stringify(urlState)}const toURLRange=range=>{let from=range.from;(0,_datetime_moment_wrapper__WEBPACK_IMPORTED_MODULE_0__.Ar)(from)&&(from=from.valueOf().toString());let to=range.to;return(0,_datetime_moment_wrapper__WEBPACK_IMPORTED_MODULE_0__.Ar)(to)&&(to=to.valueOf().toString()),{from:from,to:to}}},"./src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{N:function(){return ClickOutsideWrapper}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js");class ClickOutsideWrapper extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent{static defaultProps={includeButtonPress:!0,parent:"undefined"!=typeof window?window:void 0,useCapture:!1};myRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)();state={hasEventListener:!1};componentDidMount(){this.props.parent.addEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.addEventListener("keyup",this.onOutsideClick,this.props.useCapture)}componentWillUnmount(){this.props.parent.removeEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.removeEventListener("keyup",this.onOutsideClick,this.props.useCapture)}onOutsideClick=event=>{const domNode=this.myRef.current;(!domNode||event.target instanceof Node&&!domNode.contains(event.target))&&this.props.onClick()};render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:this.myRef,children:this.props.children})}}try{ClickOutsideWrapper.displayName="ClickOutsideWrapper",ClickOutsideWrapper.__docgenInfo={description:"",displayName:"ClickOutsideWrapper",props:{onClick:{defaultValue:null,description:"Callback to trigger when clicking outside of current element occurs.",name:"onClick",required:!0,type:{name:"() => void"}},includeButtonPress:{defaultValue:{value:"true"},description:"Runs the 'onClick' function when pressing a key outside of the current element. Defaults to true.",name:"includeButtonPress",required:!1,type:{name:"boolean"}},parent:{defaultValue:{value:"typeof window !== 'undefined' ? window : undefined"},description:"Object to attach the click event listener to.",name:"parent",required:!1,type:{name:"Document | Window"}},useCapture:{defaultValue:{value:"false"},description:"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener. Defaults to false.",name:"useCapture",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx#ClickOutsideWrapper"]={docgenInfo:ClickOutsideWrapper.__docgenInfo,name:"ClickOutsideWrapper",path:"src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx#ClickOutsideWrapper"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ClipboardButton/ClipboardButton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{b:function(){return ClipboardButton}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_grafana_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../grafana-i18n/src/i18n.tsx"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_Button_Button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Button/Button.tsx"),_Icon_Icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Icon/Icon.tsx"),_InlineToast_InlineToast__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/InlineToast/InlineToast.tsx");const SHOW_SUCCESS_DURATION=2e3;function ClipboardButton({onClipboardCopy:onClipboardCopy,onClipboardError:onClipboardError,children:children,getText:getText,icon:icon,variant:variant,...buttonProps}){const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles),[showCopySuccess,setShowCopySuccess]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{let timeoutId;return showCopySuccess&&(timeoutId=setTimeout((()=>{setShowCopySuccess(!1)}),SHOW_SUCCESS_DURATION)),()=>{window.clearTimeout(timeoutId)}}),[showCopySuccess]);const buttonRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),copyTextCallback=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((async()=>{const textToCopy=getText();try{await copyText(textToCopy,buttonRef),setShowCopySuccess(!0),onClipboardCopy?.(textToCopy)}catch(e){onClipboardError?.(textToCopy,e)}}),[getText,onClipboardCopy,onClipboardError]),copiedText=(0,_grafana_i18n__WEBPACK_IMPORTED_MODULE_4__.t)("clipboard-button.inline-toast.success","Copied");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[showCopySuccess&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_InlineToast_InlineToast__WEBPACK_IMPORTED_MODULE_5__.r,{placement:"top",referenceElement:buttonRef.current,children:copiedText}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_Button_Button__WEBPACK_IMPORTED_MODULE_6__.$n,{onClick:copyTextCallback,icon:icon,variant:showCopySuccess?"success":variant,"aria-label":showCopySuccess?copiedText:void 0,...buttonProps,className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.button,showCopySuccess&&styles.successButton,buttonProps.className),ref:buttonRef,children:[children,showCopySuccess&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:styles.successOverlay,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_7__.I,{name:"check"})})]})]})}const copyText=async(text,buttonRef)=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(text);{const textarea=document.createElement("textarea");buttonRef.current?.appendChild(textarea),textarea.value=text,textarea.focus(),textarea.select(),document.execCommand("copy"),textarea.remove()}},getStyles=theme=>({button:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"relative"}),successButton:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({"> *":(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({visibility:"hidden"})}),successOverlay:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"absolute",top:0,bottom:0,right:0,left:0,visibility:"visible"})});try{ClipboardButton.displayName="ClipboardButton",ClipboardButton.__docgenInfo={description:"",displayName:"ClipboardButton",props:{getText:{defaultValue:null,description:"A function that returns text to be copied",name:"getText",required:!0,type:{name:"() => string"}},onClipboardCopy:{defaultValue:null,description:"Callback when the text has been successfully copied",name:"onClipboardCopy",required:!1,type:{name:"((copiedText: string) => void)"}},onClipboardError:{defaultValue:null,description:"Callback when there was an error copying the text",name:"onClipboardError",required:!1,type:{name:"((copiedText: string, error: unknown) => void)"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"destructive"'},{value:'"success"'}]}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"enum",value:[{value:'"solid"'},{value:'"outline"'},{value:'"text"'}]}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:'"play" | ReactElement<any, string | JSXElementConstructor<any>> | "google" | "microsoft" | "github" | "gitlab" | "okta" | "discord" | ... 267 more ...'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}},tooltip:{defaultValue:null,description:"Tooltip content to display on hover",name:"tooltip",required:!1,type:{name:"PopoverContent"}},tooltipPlacement:{defaultValue:null,description:"Position of the tooltip",name:"tooltipPlacement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"bottom"'},{value:'"top"'},{value:'"right"'},{value:'"left"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"auto-start"'},{value:'"auto-end"'}]}},iconPlacement:{defaultValue:null,description:"Position of the icon",name:"iconPlacement",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ClipboardButton/ClipboardButton.tsx#ClipboardButton"]={docgenInfo:ClipboardButton.__docgenInfo,name:"ClipboardButton",path:"src/components/ClipboardButton/ClipboardButton.tsx#ClipboardButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Dropdown/ButtonSelect.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f:function(){return ButtonSelect}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),_react_aria_focus__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/@react-aria/focus/dist/FocusScope.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_Menu_Menu__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/Menu/Menu.tsx"),_Menu_MenuItem__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/Menu/MenuItem.tsx"),_ToolbarButton_ToolbarButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ToolbarButton/ToolbarButton.tsx");const ButtonSelectComponent=props=>{const{className:className,options:options,value:value,onChange:onChange,narrow:narrow,variant:variant,...restProps}=props,styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles),[isOpen,setIsOpen]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),middleware=[(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.cY)(0),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.UU)({fallbackAxisSideDirection:"end",crossAxis:!1,boundary:document.body}),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.BN)()],{context:context,refs:refs,floatingStyles:floatingStyles}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.we)({open:isOpen,placement:"bottom-end",onOpenChange:setIsOpen,middleware:middleware,whileElementsMounted:_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.ll}),click=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.kp)(context),dismiss=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.s9)(context),{getReferenceProps:getReferenceProps,getFloatingProps:getFloatingProps}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.bv)([dismiss,click]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:styles.wrapper,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ToolbarButton_ToolbarButton__WEBPACK_IMPORTED_MODULE_7__.I,{className:className,isOpen:isOpen,narrow:narrow,variant:variant,ref:refs.setReference,...getReferenceProps(),...restProps,children:value?.label||(null!=value?.value?String(value?.value):null)}),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:styles.menuWrapper,ref:refs.setFloating,...getFloatingProps(),style:floatingStyles,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_aria_focus__WEBPACK_IMPORTED_MODULE_8__.n1,{contain:!0,autoFocus:!0,restoreFocus:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Menu_Menu__WEBPACK_IMPORTED_MODULE_9__.W,{tabIndex:-1,onClose:()=>setIsOpen(!1),children:options.map((item=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Menu_MenuItem__WEBPACK_IMPORTED_MODULE_10__.D,{label:item.label??String(item.value),onClick:()=>(item=>{onChange(item),setIsOpen(!1)})(item),active:item.value===value?.value,ariaChecked:item.value===value?.value,ariaLabel:item.ariaLabel||item.label,disabled:item.isDisabled,component:item.component,role:"menuitemradio"},`${item.value}`)))})})})]})};ButtonSelectComponent.displayName="ButtonSelect";const ButtonSelect=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(ButtonSelectComponent),getStyles=theme=>({wrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"relative",display:"inline-flex"}),menuWrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({zIndex:theme.zIndex.dropdown})});try{ButtonSelect.displayName="ButtonSelect",ButtonSelect.__docgenInfo={description:"",displayName:"ButtonSelect",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SelectableValue<T>[]"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"SelectableValue<T>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(item: SelectableValue<T>) => void"}},tooltipContent:{defaultValue:null,description:"@deprecated use tooltip instead, tooltipContent is not being processed in ToolbarButton",name:"tooltipContent",required:!1,type:{name:"PopoverContent"}},narrow:{defaultValue:null,description:"",name:"narrow",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"destructive"'},{value:'"canvas"'},{value:'"default"'},{value:'"active"'}]}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/ButtonSelect.tsx#ButtonSelect"]={docgenInfo:ButtonSelect.__docgenInfo,name:"ButtonSelect",path:"src/components/Dropdown/ButtonSelect.tsx#ButtonSelect"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ErrorBoundary/ErrorWithStack.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D:function(){return ErrorWithStack}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/themes/ThemeContext.tsx");const ErrorWithStack=({error:error,errorInfo:errorInfo,title:title})=>{const style=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.of)(getStyles);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:style,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[error&&error.toString(),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{}),errorInfo&&errorInfo.componentStack]})]})};ErrorWithStack.displayName="ErrorWithStack";const getStyles=()=>(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({width:"500px",margin:"64px auto"});try{ErrorWithStack.displayName="ErrorWithStack",ErrorWithStack.__docgenInfo={description:"",displayName:"ErrorWithStack",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"Error | null"}},errorInfo:{defaultValue:null,description:"",name:"errorInfo",required:!0,type:{name:"ErrorInfo | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ErrorBoundary/ErrorWithStack.tsx#ErrorWithStack"]={docgenInfo:ErrorWithStack.__docgenInfo,name:"ErrorWithStack",path:"src/components/ErrorBoundary/ErrorWithStack.tsx#ErrorWithStack"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FilterInput/FilterInput.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return FilterInput}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),string=__webpack_require__("../grafana-data/src/text/string.ts"),i18n=__webpack_require__("../grafana-i18n/src/i18n.tsx");var Button=__webpack_require__("./src/components/Button/Button.tsx"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),Input=__webpack_require__("./src/components/Input/Input.tsx");const FilterInput=(0,react.forwardRef)((({value:value,width:width,onChange:onChange,escapeRegex:escapeRegex=!0,...restProps},ref)=>{const innerRef=(0,react.useRef)(null),combinedRef=function useCombinedRefs(...refs){const targetRef=react.useRef(null);return react.useEffect((()=>{refs.forEach((ref=>{ref&&("function"==typeof ref?ref(targetRef.current):ref.current=targetRef.current)}))}),[refs]),targetRef}(ref,innerRef),suffix=""!==value?(0,jsx_runtime.jsx)(Button.$n,{icon:"times",fill:"text",size:"sm",onClick:e=>{innerRef.current?.focus(),onChange(""),e.stopPropagation()},children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.filter-input.clear",children:"Clear"})}):null;return(0,jsx_runtime.jsx)(Input.p,{prefix:(0,jsx_runtime.jsx)(Icon.I,{name:"search"}),suffix:suffix,width:width,type:"text",value:escapeRegex?(0,string.xb)(value??""):value,onChange:event=>onChange(escapeRegex?(0,string.jD)(event.currentTarget.value):event.currentTarget.value),...restProps,ref:combinedRef})}));FilterInput.displayName="FilterInput";try{FilterInput.displayName="FilterInput",FilterInput.__docgenInfo={description:"",displayName:"FilterInput",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | undefined"}},escapeRegex:{defaultValue:{value:"true"},description:"",name:"escapeRegex",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FilterInput/FilterInput.tsx#FilterInput"]={docgenInfo:FilterInput.__docgenInfo,name:"FilterInput",path:"src/components/FilterInput/FilterInput.tsx#FilterInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/Checkbox.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return Checkbox}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_themes_mixins__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/themes/mixins.ts"),_Label__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Forms/Label.tsx");const Checkbox=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((({label:label,description:description,value:value,htmlValue:htmlValue,onChange:onChange,disabled:disabled,className:className,indeterminate:indeterminate,invalid:invalid,...inputProps},ref)=>{const handleOnChange=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e=>{onChange&&onChange(e)}),[onChange]),styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getCheckboxStyles,invalid),ariaChecked=indeterminate?"mixed":void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.wrapper,className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:styles.checkboxWrapper,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"checkbox",className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.input,indeterminate&&styles.inputIndeterminate),checked:value,disabled:disabled,onChange:handleOnChange,value:htmlValue,"aria-checked":ariaChecked,...inputProps,ref:ref}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.checkmark})]}),label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.label,children:label}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.description,children:description})]})})),getCheckboxStyles=(theme,invalid=!1)=>{const labelStyles=(0,_Label__WEBPACK_IMPORTED_MODULE_4__.f)(theme),getBorderColor=color=>invalid?theme.colors.error.border:color;return{wrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"inline-grid",alignItems:"center",columnGap:theme.spacing(1),gridAutoRows:"max-content",position:"relative",verticalAlign:"middle"}),input:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"absolute",zIndex:1,top:0,left:0,width:"100% !important",height:"100%",opacity:0,"&:focus + span, &:focus-visible + span":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_5__.Hi)(theme),"&:focus:not(:focus-visible) + span":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_5__.cr)(theme),"&:checked + span":{background:theme.colors.primary.main,border:`1px solid ${getBorderColor(theme.colors.primary.main)}`,"&:hover":{background:theme.colors.primary.shade},"&:after":{content:'""',position:"absolute",zIndex:2,left:theme.spacing(.5),top:0,width:theme.spacing(.75),height:theme.spacing(1.5),border:`solid ${theme.colors.primary.contrastText}`,borderWidth:"0 3px 3px 0",transform:"rotate(45deg)"}},"&:disabled + span":{backgroundColor:theme.colors.action.disabledBackground,cursor:"not-allowed",border:`1px solid ${getBorderColor(theme.colors.action.disabledBackground)}`,"&:hover":{backgroundColor:theme.colors.action.disabledBackground},"&:after":{borderColor:theme.colors.action.disabledText}}}),inputIndeterminate:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({"&[aria-checked='mixed'] + span":{border:`1px solid ${getBorderColor(theme.colors.primary.main)}`,background:theme.colors.primary.main,"&:hover":{background:theme.colors.primary.shade},"&:after":{content:'""',position:"absolute",zIndex:2,left:"2px",right:"2px",top:"calc(50% - 1.5px)",height:"3px",border:`1.5px solid ${theme.colors.primary.contrastText}`,backgroundColor:theme.colors.primary.contrastText,width:"auto",transform:"none"}},"&:disabled[aria-checked='mixed'] + span":{backgroundColor:theme.colors.action.disabledBackground,border:`1px solid ${getBorderColor(theme.colors.error.transparent)}`,"&:after":{borderColor:theme.colors.action.disabledText}}}),checkboxWrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",alignItems:"center",gridColumnStart:1,gridRowStart:1}),checkmark:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"relative",zIndex:2,display:"inline-block",width:theme.spacing(2),height:theme.spacing(2),borderRadius:theme.shape.radius.default,background:theme.components.input.background,border:`1px solid ${getBorderColor(theme.components.input.borderColor)}`,"&:hover":{cursor:"pointer",borderColor:getBorderColor(theme.components.input.borderHover)}}),label:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(labelStyles.label,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({gridColumnStart:2,gridRowStart:1,position:"relative",zIndex:2,cursor:"pointer",maxWidth:"fit-content",lineHeight:theme.typography.bodySmall.lineHeight,marginBottom:0})),description:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(labelStyles.description,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({gridColumnStart:2,gridRowStart:2,lineHeight:theme.typography.bodySmall.lineHeight,marginTop:0,zIndex:1}))}};Checkbox.displayName="Checkbox";try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"Label to display next to checkbox",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Current value of the checkbox",name:"value",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"Show an invalid state around the input",name:"invalid",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"Description to display under the label",name:"description",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},htmlValue:{defaultValue:null,description:'htmlValue allows to specify the input "value" attribute',name:"htmlValue",required:!1,type:{name:"string | number"}},indeterminate:{defaultValue:null,description:'Sets the checkbox into a "mixed" state. This is only a visual change and does not affect the value.',name:"indeterminate",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/Forms/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/FieldSet.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{n:function(){return FieldSet}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx")),_Legend__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Forms/Legend.tsx");const FieldSet=({label:label,children:children,className:className,...rest})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("fieldset",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.wrapper,className),...rest,children:[label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Legend__WEBPACK_IMPORTED_MODULE_4__.s,{children:label}),children]})},getStyles=theme=>({wrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({marginBottom:theme.spacing(4),"&:last-child":{marginBottom:0}})});try{FieldSet.displayName="FieldSet",FieldSet.__docgenInfo={description:"",displayName:"FieldSet",props:{label:{defaultValue:null,description:"Label for the fieldset's legend",name:"label",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FieldSet.tsx#FieldSet"]={docgenInfo:FieldSet.__docgenInfo,name:"FieldSet",path:"src/components/Forms/FieldSet.tsx#FieldSet"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/Legend.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{s:function(){return Legend}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx"));const getLegendStyles=theme=>({legend:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({fontSize:theme.typography.h3.fontSize,fontWeight:theme.typography.fontWeightRegular,margin:theme.spacing(0,0,2,0)})}),Legend=({children:children,className:className,...legendProps})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getLegendStyles);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("legend",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.legend,className),...legendProps,children:children})};try{getLegendStyles.displayName="getLegendStyles",getLegendStyles.__docgenInfo={description:"",displayName:"getLegendStyles",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},isLight:{defaultValue:null,description:"",name:"isLight",required:!0,type:{name:"boolean"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"ThemeColors"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"ThemeBreakpoints"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:"ThemeSpacing"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"ThemeShape"}},components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ThemeComponents"}},typography:{defaultValue:null,description:"",name:"typography",required:!0,type:{name:"ThemeTypography"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"{ activePanel: number; navbarFixed: number; sidemenu: number; dropdown: number; typeahead: number; tooltip: number; modalBackdrop: number; modal: number; portal: number; }"}},shadows:{defaultValue:null,description:"",name:"shadows",required:!0,type:{name:"ThemeShadows"}},visualization:{defaultValue:null,description:"",name:"visualization",required:!0,type:{name:"ThemeVisualizationColors"}},transitions:{defaultValue:null,description:"",name:"transitions",required:!0,type:{name:"ThemeTransitions"}},v1:{defaultValue:null,description:"@deprecated Will be removed in a future version",name:"v1",required:!0,type:{name:"GrafanaTheme"}},flags:{defaultValue:null,description:"feature flags that might impact component looks",name:"flags",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Legend.tsx#getLegendStyles"]={docgenInfo:getLegendStyles.__docgenInfo,name:"getLegendStyles",path:"src/components/Forms/Legend.tsx#getLegendStyles"})}catch(__react_docgen_typescript_loader_error){}try{Legend.displayName="Legend",Legend.__docgenInfo={description:"",displayName:"Legend",props:{description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Legend.tsx#Legend"]={docgenInfo:Legend.__docgenInfo,name:"Legend",path:"src/components/Forms/Legend.tsx#Legend"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InlineToast/InlineToast.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{r:function(){return InlineToast}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_Icon_Icon__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Icon/Icon.tsx"),_Portal_Portal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Portal/Portal.tsx");function InlineToast({referenceElement:referenceElement,children:children,suffixIcon:suffixIcon,placement:placement}){const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles),theme=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.$j)(),middleware=[(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.cY)(8),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.UU)({fallbackAxisSideDirection:"end",crossAxis:!1,boundary:document.body}),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.BN)()],{context:context,refs:refs,floatingStyles:floatingStyles}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.we)({open:!0,placement:placement,middleware:middleware,whileElementsMounted:_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.ll,strategy:"fixed"});(0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)((()=>{refs.setReference(referenceElement)}),[referenceElement,refs]);const{styles:placementStyles}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.DL)(context,{initial:({side:side})=>({opacity:0,transform:getInitialTransform(side,theme)}),duration:theme.transitions.duration.shortest});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Portal_Portal__WEBPACK_IMPORTED_MODULE_7__.ZL,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{display:"inline-block",...floatingStyles},ref:refs.setFloating,"aria-live":"polite",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.root),style:placementStyles,children:[children&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:children}),suffixIcon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_8__.I,{name:suffixIcon})]})})})}const getStyles=theme=>({root:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({...theme.typography.bodySmall,willChange:"transform",background:theme.components.tooltip.background,color:theme.components.tooltip.text,padding:theme.spacing(.5,1.5),borderRadius:theme.shape.radius.pill,display:"inline-flex",gap:theme.spacing(.5),alignItems:"center"})}),getInitialTransform=(placement,theme)=>{switch(placement){case"top":return`translateY(${theme.spacing(1)})`;case"bottom":return`translateY(-${theme.spacing(1)})`;case"left":return`translateX(${theme.spacing(1)})`;case"right":return`translateX(-${theme.spacing(1)})`}};try{InlineToast.displayName="InlineToast",InlineToast.__docgenInfo={description:"",displayName:"InlineToast",props:{suffixIcon:{defaultValue:null,description:"",name:"suffixIcon",required:!1,type:{name:"enum",value:[{value:'"play"'},{value:'"google"'},{value:'"microsoft"'},{value:'"github"'},{value:'"gitlab"'},{value:'"okta"'},{value:'"discord"'},{value:'"hipchat"'},{value:'"amazon"'},{value:'"google-hangouts-alt"'},{value:'"pagerduty"'},{value:'"line"'},{value:'"anchor"'},{value:'"adjust-circle"'},{value:'"angle-double-down"'},{value:'"angle-double-right"'},{value:'"angle-double-left"'},{value:'"angle-double-up"'},{value:'"angle-down"'},{value:'"angle-left"'},{value:'"angle-right"'},{value:'"angle-up"'},{value:'"align-left"'},{value:'"align-right"'},{value:'"api-endpoint"'},{value:'"application-observability"'},{value:'"apps"'},{value:'"archive-alt"'},{value:'"arrow"'},{value:'"arrow-down"'},{value:'"arrow-from-right"'},{value:'"arrow-left"'},{value:'"arrow-random"'},{value:'"arrow-right"'},{value:'"arrow-to-right"'},{value:'"arrow-up"'},{value:'"arrows-h"'},{value:'"arrows-v"'},{value:'"asserts"'},{value:'"expand-arrows"'},{value:'"expand-arrows-alt"'},{value:'"at"'},{value:'"ai"'},{value:'"backward"'},{value:'"bars"'},{value:'"bell"'},{value:'"bell-slash"'},{value:'"bolt"'},{value:'"book"'},{value:'"bookmark"'},{value:'"book-open"'},{value:'"brackets-curly"'},{value:'"browser-alt"'},{value:'"bug"'},{value:'"building"'},{value:'"calculator-alt"'},{value:'"calendar-alt"'},{value:'"calendar-slash"'},{value:'"camera"'},{value:'"capture"'},{value:'"channel-add"'},{value:'"chart-line"'},{value:'"check"'},{value:'"check-circle"'},{value:'"check-square"'},{value:'"circle"'},{value:'"circle-mono"'},{value:'"clipboard-alt"'},{value:'"clock-nine"'},{value:'"cloud"'},{value:'"cloud-download"'},{value:'"cloud-provider"'},{value:'"cloud-upload"'},{value:'"code-branch"'},{value:'"cog"'},{value:'"columns"'},{value:'"comment-alt"'},{value:'"comment-alt-message"'},{value:'"comment-alt-share"'},{value:'"comments-alt"'},{value:'"compass"'},{value:'"compress-arrows"'},{value:'"copy"'},{value:'"corner-up-left"'},{value:'"corner-up-right"'},{value:'"corner-down-right-alt"'},{value:'"create-dashboard"'},{value:'"credit-card"'},{value:'"crosshair"'},{value:'"cube"'},{value:'"dashboard"'},{value:'"database"'},{value:'"dice-three"'},{value:'"docker"'},{value:'"document-info"'},{value:'"document-layout-left"'},{value:'"download-alt"'},{value:'"draggabledots"'},{value:'"drilldown"'},{value:'"edit"'},{value:'"ellipsis-v"'},{value:'"enter"'},{value:'"envelope"'},{value:'"exchange-alt"'},{value:'"exclamation-triangle"'},{value:'"exclamation-circle"'},{value:'"exclamation"'},{value:'"external-link-alt"'},{value:'"eye"'},{value:'"eye-slash"'},{value:'"ellipsis-h"'},{value:'"fa fa-spinner"'},{value:'"favorite"'},{value:'"file-alt"'},{value:'"file-blank"'},{value:'"file-copy-alt"'},{value:'"file-download"'},{value:'"file-edit-alt"'},{value:'"file-export"'},{value:'"file-landscape-alt"'},{value:'"filter"'},{value:'"flip"'},{value:'"folder"'},{value:'"font"'},{value:'"fire"'},{value:'"folder-open"'},{value:'"folder-plus"'},{value:'"folder-upload"'},{value:'"forward"'},{value:'"frontend-observability"'},{value:'"gf-bar-alignment-after"'},{value:'"gf-bar-alignment-before"'},{value:'"gf-bar-alignment-center"'},{value:'"gf-glue"'},{value:'"gf-grid"'},{value:'"gf-interpolation-linear"'},{value:'"gf-interpolation-smooth"'},{value:'"gf-interpolation-step-after"'},{value:'"gf-interpolation-step-before"'},{value:'"gf-landscape"'},{value:'"gf-layout-simple"'},{value:'"gf-logs"'},{value:'"gf-ml"'},{value:'"gf-ml-alt"'},{value:'"gf-movepane-left"'},{value:'"gf-movepane-right"'},{value:'"gf-portrait"'},{value:'"gf-service-account"'},{value:'"gf-show-context"'},{value:'"gf-pin"'},{value:'"gf-prometheus"'},{value:'"gf-traces"'},{value:'"globe"'},{value:'"grafana"'},{value:'"graph-bar"'},{value:'"heart"'},{value:'"heart-rate"'},{value:'"heart-break"'},{value:'"history"'},{value:'"history-alt"'},{value:'"home"'},{value:'"home-alt"'},{value:'"horizontal-align-center"'},{value:'"horizontal-align-left"'},{value:'"horizontal-align-right"'},{value:'"hourglass"'},{value:'"import"'},{value:'"info"'},{value:'"info-circle"'},{value:'"k6"'},{value:'"k6-rounded"'},{value:'"key-skeleton-alt"'},{value:'"keyboard"'},{value:'"kubernetes"'},{value:'"layer-group"'},{value:'"layers-alt"'},{value:'"layers"'},{value:'"layers-slash"'},{value:'"legend-hide"'},{value:'"legend-show"'},{value:'"library-panel"'},{value:'"line-alt"'},{value:'"link"'},{value:'"link-broken"'},{value:'"list-ui-alt"'},{value:'"list-ul"'},{value:'"list-ol"'},{value:'"lock"'},{value:'"map-marker"'},{value:'"map-marker-plus"'},{value:'"map-marker-minus"'},{value:'"message"'},{value:'"minus"'},{value:'"minus-circle"'},{value:'"mobile-android"'},{value:'"monitor"'},{value:'"multi-step"'},{value:'"palette"'},{value:'"panel-add"'},{value:'"paragraph"'},{value:'"pathfinder-unite"'},{value:'"pause"'},{value:'"pause-circle"'},{value:'"pen"'},{value:'"percentage"'},{value:'"plug"'},{value:'"plus"'},{value:'"plus-circle"'},{value:'"plus-square"'},{value:'"power"'},{value:'"presentation-play"'},{value:'"process"'},{value:'"question-circle"'},{value:'"record-audio"'},{value:'"repeat"'},{value:'"rocket"'},{value:'"ruler-combined"'},{value:'"save"'},{value:'"search"'},{value:'"search-minus"'},{value:'"search-plus"'},{value:'"share-alt"'},{value:'"shield"'},{value:'"shield-exclamation"'},{value:'"signal"'},{value:'"signin"'},{value:'"signout"'},{value:'"sitemap"'},{value:'"slack"'},{value:'"sliders-v-alt"'},{value:'"spinner"'},{value:'"sort-amount-down"'},{value:'"sort-amount-up"'},{value:'"square-shape"'},{value:'"star"'},{value:'"step-backward"'},{value:'"stopwatch"'},{value:'"stopwatch-slash"'},{value:'"sync"'},{value:'"sync-slash"'},{value:'"table"'},{value:'"table-collapse-all"'},{value:'"table-expand-all"'},{value:'"tag-alt"'},{value:'"telegram-alt"'},{value:'"text-fields"'},{value:'"thumbs-up"'},{value:'"times"'},{value:'"times-circle"'},{value:'"toggle-on"'},{value:'"toggle-off"'},{value:'"trash-alt"'},{value:'"unarchive"'},{value:'"unlock"'},{value:'"upload"'},{value:'"user"'},{value:'"ban"'},{value:'"window"'},{value:'"window-grid"'},{value:'"users-alt"'},{value:'"user-arrows"'},{value:'"vertical-align-bottom"'},{value:'"vertical-align-center"'},{value:'"vertical-align-top"'},{value:'"web-section"'},{value:'"web-section-alt"'},{value:'"wrap-text"'},{value:'"wrench"'},{value:'"rss"'},{value:'"x"'},{value:'"add-user"'},{value:'"attach"'},{value:'"dollar-alt"'},{value:'"ai-sparkle"'}]}},referenceElement:{defaultValue:null,description:"",name:"referenceElement",required:!0,type:{name:"HTMLElement | null"}},placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"bottom"'},{value:'"top"'},{value:'"right"'},{value:'"left"'}]}},alternativePlacement:{defaultValue:null,description:"@deprecated Placement to use if there is not enough space to show the full toast with the original placement\nThis is now done automatically.",name:"alternativePlacement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"top"'},{value:'"right"'},{value:'"left"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InlineToast/InlineToast.tsx#InlineToast"]={docgenInfo:InlineToast.__docgenInfo,name:"InlineToast",path:"src/components/InlineToast/InlineToast.tsx#InlineToast"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/LoadingPlaceholder/LoadingPlaceholder.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{_:function(){return LoadingPlaceholder}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx")),_Spinner_Spinner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Spinner/Spinner.tsx");const LoadingPlaceholder=({text:text,className:className,...rest})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.container,className),...rest,children:[text," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Spinner_Spinner__WEBPACK_IMPORTED_MODULE_4__.y,{inline:!0})]})},getStyles=theme=>({container:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({marginBottom:theme.spacing(4)})});try{LoadingPlaceholder.displayName="LoadingPlaceholder",LoadingPlaceholder.__docgenInfo={description:"",displayName:"LoadingPlaceholder",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LoadingPlaceholder/LoadingPlaceholder.tsx#LoadingPlaceholder"]={docgenInfo:LoadingPlaceholder.__docgenInfo,name:"LoadingPlaceholder",path:"src/components/LoadingPlaceholder/LoadingPlaceholder.tsx#LoadingPlaceholder"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Monaco/CodeEditor.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{B:function(){return CodeEditor}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react=__webpack_require__("../../node_modules/react/index.js");const monacoLanguageRegistry=new(__webpack_require__("../grafana-data/src/utils/Registry.ts").O);var selectors=__webpack_require__("../grafana-e2e-selectors/src/selectors/index.ts"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),i18n=__webpack_require__("../grafana-i18n/src/i18n.tsx"),useAsync=__webpack_require__("../../node_modules/react-use/esm/useAsync.js");var ErrorWithStack=__webpack_require__("./src/components/ErrorBoundary/ErrorWithStack.tsx"),LoadingPlaceholder=__webpack_require__("./src/components/LoadingPlaceholder/LoadingPlaceholder.tsx");const ReactMonacoEditorLazy=props=>{const styles=(0,ThemeContext.of)(getStyles),{loading:loading,error:error,dependency:dependency}=(importStatement=>{const state=(0,useAsync.A)((async()=>await importStatement));return{...state,dependency:state.value}})(Promise.all([__webpack_require__.e(925),__webpack_require__.e(8926)]).then(__webpack_require__.bind(__webpack_require__,"./src/components/Monaco/ReactMonacoEditor.tsx")));if(loading)return(0,jsx_runtime.jsx)(LoadingPlaceholder._,{text:(0,i18n.t)("grafana-ui.monaco.loading-placeholder","Loading editor"),className:styles.container});if(error)return(0,jsx_runtime.jsx)(ErrorWithStack.D,{title:(0,i18n.t)("grafana-ui.monaco.error-label","React Monaco Editor failed to load"),error:error,errorInfo:{componentStack:error?.stack??""}});const ReactMonacoEditor=dependency.ReactMonacoEditor;return(0,jsx_runtime.jsx)(ReactMonacoEditor,{...props,loading:props.loading??null,wrapperProps:{"data-testid":selectors.Tp.components.ReactMonacoEditor.editorLazy}})},getStyles=theme=>({container:(0,emotion_css_esm.AH)({marginBottom:"unset",marginLeft:theme.spacing(1)})});try{ReactMonacoEditorLazy.displayName="ReactMonacoEditorLazy",ReactMonacoEditorLazy.__docgenInfo={description:"",displayName:"ReactMonacoEditorLazy",props:{line:{defaultValue:null,description:"The line to jump on it",name:"line",required:!1,type:{name:"number"}},options:{defaultValue:null,description:"IStandaloneEditorConstructionOptions",name:"options",required:!1,type:{name:"IStandaloneEditorConstructionOptions"}},onChange:{defaultValue:null,description:"Signature: function(value: string | undefined, ev: monaco.editor.IModelContentChangedEvent) => void\nAn event is emitted when the content of the current model is changed",name:"onChange",required:!1,type:{name:"OnChange"}},className:{defaultValue:null,description:"Class name for the editor container",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:'"100%"'},description:"Width of the editor wrapper",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:'"100%"'},description:"Height of the editor wrapper",name:"height",required:!1,type:{name:"string | number"}},value:{defaultValue:null,description:"Value of the current model",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"Default value of the current model",name:"defaultValue",required:!1,type:{name:"string"}},loading:{defaultValue:{value:'"Loading..."'},description:"The loading screen before the editor will be mounted",name:"loading",required:!1,type:{name:"ReactNode"}},language:{defaultValue:null,description:"Language of the current model",name:"language",required:!1,type:{name:"string"}},path:{defaultValue:null,description:"Path of the current model\nWill be passed as the third argument to `.createModel` method\n`monaco.editor.createModel(..., ..., monaco.Uri.parse(defaultPath))`",name:"path",required:!1,type:{name:"string"}},defaultLanguage:{defaultValue:null,description:"Default language of the current model",name:"defaultLanguage",required:!1,type:{name:"string"}},defaultPath:{defaultValue:null,description:"Default path of the current model\nWill be passed as the third argument to `.createModel` method\n`monaco.editor.createModel(..., ..., monaco.Uri.parse(defaultPath))`",name:"defaultPath",required:!1,type:{name:"string"}},overrideServices:{defaultValue:null,description:"IEditorOverrideServices",name:"overrideServices",required:!1,type:{name:"IEditorOverrideServices"}},saveViewState:{defaultValue:null,description:"Indicator whether to save the models' view states between model changes or not\nDefaults to true",name:"saveViewState",required:!1,type:{name:"boolean"}},keepCurrentModel:{defaultValue:{value:"false"},description:"Indicator whether to dispose the current model when the Editor is unmounted or not",name:"keepCurrentModel",required:!1,type:{name:"boolean"}},wrapperProps:{defaultValue:null,description:"Props applied to the wrapper element",name:"wrapperProps",required:!1,type:{name:"object"}},beforeMount:{defaultValue:null,description:'Signature: function(monaco: Monaco) => void\nAn event is emitted before the editor is mounted\nIt gets the monaco instance as a first argument\nDefaults to "noop"',name:"beforeMount",required:!1,type:{name:"BeforeMount"}},onMount:{defaultValue:null,description:'Signature: function(editor: monaco.editor.IStandaloneCodeEditor, monaco: Monaco) => void\nAn event is emitted when the editor is mounted\nIt gets the editor instance as a first argument and the monaco instance as a second\nDefaults to "noop"',name:"onMount",required:!1,type:{name:"OnMount"}},onValidate:{defaultValue:null,description:'Signature: function(markers: monaco.editor.IMarker[]) => void\nAn event is emitted when the content of the current model is changed\nand the current model markers are ready\nDefaults to "noop"',name:"onValidate",required:!1,type:{name:"OnValidate"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Monaco/ReactMonacoEditorLazy.tsx#ReactMonacoEditorLazy"]={docgenInfo:ReactMonacoEditorLazy.__docgenInfo,name:"ReactMonacoEditorLazy",path:"src/components/Monaco/ReactMonacoEditorLazy.tsx#ReactMonacoEditorLazy"})}catch(__react_docgen_typescript_loader_error){}var CodeEditorSuggestionItemKind=function(CodeEditorSuggestionItemKind){return CodeEditorSuggestionItemKind.Method="method",CodeEditorSuggestionItemKind.Field="field",CodeEditorSuggestionItemKind.Property="property",CodeEditorSuggestionItemKind.Constant="constant",CodeEditorSuggestionItemKind.Text="text",CodeEditorSuggestionItemKind}({});function getCompletionItems(monaco,prefix,suggestions,range){const items=[];for(const suggestion of suggestions)prefix&&!suggestion.label.startsWith(prefix)||items.push({...suggestion,kind:mapKinds(monaco,suggestion.kind),range:range,insertText:suggestion.insertText??suggestion.label});return items}function mapKinds(monaco,sug){switch(sug){case CodeEditorSuggestionItemKind.Method:return monaco.languages.CompletionItemKind.Method;case CodeEditorSuggestionItemKind.Field:return monaco.languages.CompletionItemKind.Field;case CodeEditorSuggestionItemKind.Property:return monaco.languages.CompletionItemKind.Property;case CodeEditorSuggestionItemKind.Constant:return monaco.languages.CompletionItemKind.Constant;case CodeEditorSuggestionItemKind.Text:return monaco.languages.CompletionItemKind.Text}return monaco.languages.CompletionItemKind.Text}function registerSuggestions(monaco,language,getSuggestions,modelId){if(language&&getSuggestions)return monaco.languages.registerCompletionItemProvider(language,{triggerCharacters:["$"],provideCompletionItems:(model,position,context)=>{if(model.id!==modelId)return;const range={startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:position.column,endColumn:position.column};if("$"===context.triggerCharacter)return range.startColumn=position.column-1,{suggestions:getCompletionItems(monaco,"$",getSuggestions(),range)};const currentLine=model.getValueInRange({startLineNumber:position.lineNumber,startColumn:1,endLineNumber:position.lineNumber,endColumn:position.column}),{index:index,prefix:prefix}=function findInsertIndex(line){for(let i=line.length-1;i>0;i--){const ch=line.charAt(i);if("$"===ch)return{index:i,prefix:line.substring(i)};if(" "===ch||"\t"===ch||'"'===ch||"'"===ch)return{index:i+1,prefix:line.substring(i+1)}}return{index:0,prefix:line}}(currentLine);range.startColumn=index+1;const suggestions=getCompletionItems(monaco,prefix,getSuggestions(),range);return suggestions.length?{suggestions:suggestions}:void 0}})}class UnthemedCodeEditor extends react.PureComponent{completionCancel;monaco;modelId;constructor(props){super(props)}componentWillUnmount(){this.completionCancel&&this.completionCancel.dispose(),this.props.onEditorWillUnmount?.()}componentDidUpdate(oldProps){const{getSuggestions:getSuggestions,language:language}=this.props,newLanguage=oldProps.language!==language;if(oldProps.getSuggestions!==getSuggestions||newLanguage){if(this.completionCancel&&this.completionCancel.dispose(),!this.monaco)return void console.warn("Monaco instance not loaded yet");getSuggestions&&this.modelId&&(this.completionCancel=registerSuggestions(this.monaco,language,getSuggestions,this.modelId))}newLanguage&&this.loadCustomLanguage()}loadCustomLanguage=()=>{const{language:language}=this.props,customLanguage=monacoLanguageRegistry.getIfExists(language);return customLanguage?customLanguage.init():Promise.resolve()};getEditorValue=()=>"";onBlur=()=>{const{onBlur:onBlur}=this.props;onBlur&&onBlur(this.getEditorValue())};onFocus=()=>{const{onFocus:onFocus}=this.props;onFocus&&onFocus(this.getEditorValue())};onSave=()=>{const{onSave:onSave}=this.props;onSave&&onSave(this.getEditorValue())};handleBeforeMount=monaco=>{this.monaco=monaco;const{onBeforeEditorMount:onBeforeEditorMount}=this.props;onBeforeEditorMount?.(monaco)};handleOnMount=(editor,monaco)=>{const{getSuggestions:getSuggestions,language:language,onChange:onChange,onEditorDidMount:onEditorDidMount}=this.props;this.modelId=editor.getModel()?.id,this.getEditorValue=()=>editor.getValue(),getSuggestions&&this.modelId&&(this.completionCancel=registerSuggestions(monaco,language,getSuggestions,this.modelId)),editor.onKeyDown((e=>{e.keyCode===monaco.KeyCode.KeyS&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.onSave())})),onChange&&editor.getModel()?.onDidChangeContent((()=>onChange(editor.getValue()))),onEditorDidMount&&onEditorDidMount(editor,monaco)};render(){const{theme:theme,language:language,width:width,height:height,showMiniMap:showMiniMap,showLineNumbers:showLineNumbers,readOnly:readOnly,wordWrap:wordWrap,monacoOptions:monacoOptions}=this.props,{alwaysConsumeMouseWheel:alwaysConsumeMouseWheel,...restMonacoOptions}=monacoOptions??{},value=this.props.value??"",longText=value.length>100,containerStyles=this.props.containerStyles??CodeEditor_getStyles(theme).container,options={wordWrap:wordWrap?"on":"off",tabSize:2,codeLens:!1,contextmenu:!1,minimap:{enabled:longText&&showMiniMap,renderCharacters:!1},readOnly:readOnly,lineNumbersMinChars:4,lineDecorationsWidth:1*theme.spacing.gridSize,overviewRulerBorder:!1,automaticLayout:!0,padding:{top:.5*theme.spacing.gridSize,bottom:.5*theme.spacing.gridSize},fixedOverflowWidgets:!0,scrollbar:{alwaysConsumeMouseWheel:alwaysConsumeMouseWheel??!1}};return showLineNumbers||(options.glyphMargin=!1,options.folding=!1,options.lineNumbers="off",options.lineNumbersMinChars=0),(0,jsx_runtime.jsx)("div",{className:containerStyles,onFocus:this.onFocus,onBlur:this.onBlur,"data-testid":selectors.Tp.components.CodeEditor.container,children:(0,jsx_runtime.jsx)(ReactMonacoEditorLazy,{width:width,height:height,language:language,value:value,options:{...options,...restMonacoOptions??{}},beforeMount:this.handleBeforeMount,onMount:this.handleOnMount,keepCurrentModel:!0})})}}const CodeEditor=(0,ThemeContext.cV)(UnthemedCodeEditor),CodeEditor_getStyles=theme=>({container:(0,emotion_css_esm.AH)({borderRadius:theme.shape.radius.default,border:`1px solid ${theme.components.input.borderColor}`})});try{CodeEditor.displayName="CodeEditor",CodeEditor.__docgenInfo={description:"",displayName:"CodeEditor",props:{onChange:{defaultValue:null,description:"Handler to be performed whenever the text inside the editor changes",name:"onChange",required:!1,type:{name:"CodeEditorChangeHandler"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string | number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onFocus:{defaultValue:null,description:"Handler to be performed when editor is focused",name:"onFocus",required:!1,type:{name:"CodeEditorChangeHandler"}},onBlur:{defaultValue:null,description:"Handler to be performed when editor is blurred",name:"onBlur",required:!1,type:{name:"CodeEditorChangeHandler"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},showMiniMap:{defaultValue:null,description:"",name:"showMiniMap",required:!1,type:{name:"boolean"}},showLineNumbers:{defaultValue:null,description:"",name:"showLineNumbers",required:!1,type:{name:"boolean"}},wordWrap:{defaultValue:null,description:"",name:"wordWrap",required:!1,type:{name:"boolean"}},monacoOptions:{defaultValue:null,description:"",name:"monacoOptions",required:!1,type:{name:"MonacoOptionsWithGrafanaDefaults"}},onBeforeEditorMount:{defaultValue:null,description:"Callback before the editor has mounted that gives you raw access to monaco",name:"onBeforeEditorMount",required:!1,type:{name:'((monaco: typeof import("/src/node_modules/monaco-editor/esm/vs/editor/editor.api")) => void)'}},onEditorDidMount:{defaultValue:null,description:"Callback after the editor has mounted that gives you raw access to monaco",name:"onEditorDidMount",required:!1,type:{name:'((editor: IStandaloneCodeEditor, monaco: typeof import("/src/node_modules/monaco-editor/esm/vs/editor/editor.api")) => void)'}},onEditorWillUnmount:{defaultValue:null,description:"Callback before the edior has unmounted",name:"onEditorWillUnmount",required:!1,type:{name:"(() => void)"}},onSave:{defaultValue:null,description:"Handler to be performed when Cmd/Ctrl+S is pressed",name:"onSave",required:!1,type:{name:"CodeEditorChangeHandler"}},getSuggestions:{defaultValue:null,description:"Language agnostic suggestion completions -- typically for template variables",name:"getSuggestions",required:!1,type:{name:"CodeEditorSuggestionProvider"}},containerStyles:{defaultValue:null,description:"",name:"containerStyles",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Monaco/CodeEditor.tsx#CodeEditor"]={docgenInfo:CodeEditor.__docgenInfo,name:"CodeEditor",path:"src/components/Monaco/CodeEditor.tsx#CodeEditor"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Pagination/Pagination.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d:function(){return Pagination}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_grafana_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../grafana-i18n/src/i18n.tsx"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_Button_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Button/Button.tsx"),_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Icon/Icon.tsx");const Pagination=({currentPage:currentPage,numberOfPages:numberOfPages,onNavigate:onNavigate,hideWhenSinglePage:hideWhenSinglePage,showSmallVersion:showSmallVersion,className:className})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles),pageLengthToCondense=showSmallVersion?1:8,pageButtons=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((()=>{const pages=[...new Array(numberOfPages).keys()],condensePages=numberOfPages>pageLengthToCondense,getListItem=(page,variant)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button_Button__WEBPACK_IMPORTED_MODULE_4__.$n,{size:"sm",variant:variant,onClick:()=>onNavigate(page),children:page})},page);return pages.reduce(((pagesToRender,pageIndex)=>{const page=pageIndex+1,variant=page===currentPage?"primary":"secondary",lowerBoundIndex=pageLengthToCondense,upperBoundIndex=numberOfPages-pageLengthToCondense+1,differenceOfBounds=upperBoundIndex-lowerBoundIndex,currentPageIsBetweenBounds=differenceOfBounds>-1&&currentPage>=lowerBoundIndex&&currentPage<=upperBoundIndex,ellipsisOffset=showSmallVersion?1:3,pageOffset=showSmallVersion?0:2;return condensePages?1===page||page===numberOfPages||currentPage<lowerBoundIndex&&page<lowerBoundIndex||differenceOfBounds>=0&&currentPage>upperBoundIndex&&page>upperBoundIndex||differenceOfBounds<0&&currentPage>=lowerBoundIndex&&page>upperBoundIndex||currentPageIsBetweenBounds&&page>=currentPage-pageOffset&&page<=currentPage+pageOffset?pagesToRender.push(getListItem(page,variant)):(page===lowerBoundIndex&&currentPage<lowerBoundIndex||page===upperBoundIndex&&currentPage>upperBoundIndex||currentPageIsBetweenBounds&&(page===currentPage-ellipsisOffset||page===currentPage+ellipsisOffset))&&pagesToRender.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__.I,{className:styles.ellipsis,name:"ellipsis-v","data-testid":"pagination-ellipsis-icon"})},page)):pagesToRender.push(getListItem(page,variant)),pagesToRender}),[])}),[currentPage,numberOfPages,onNavigate,pageLengthToCondense,showSmallVersion,styles.ellipsis,styles.item]);if(hideWhenSinglePage&&numberOfPages<=1)return null;const previousPageLabel=(0,_grafana_i18n__WEBPACK_IMPORTED_MODULE_6__.t)("grafana-ui.pagination.previous-page","previous page"),nextPageLabel=(0,_grafana_i18n__WEBPACK_IMPORTED_MODULE_6__.t)("grafana-ui.pagination.next-page","next page");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.container,className),role:"navigation",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button_Button__WEBPACK_IMPORTED_MODULE_4__.$n,{"aria-label":previousPageLabel,size:"sm",variant:"secondary",onClick:()=>onNavigate(currentPage-1),disabled:1===currentPage,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__.I,{name:"angle-left"})})}),pageButtons,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button_Button__WEBPACK_IMPORTED_MODULE_4__.$n,{"aria-label":nextPageLabel,size:"sm",variant:"secondary",onClick:()=>onNavigate(currentPage+1),disabled:currentPage===numberOfPages,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__.I,{name:"angle-right"})})})]})})},getStyles=()=>({container:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({float:"right"}),item:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"inline-block",paddingLeft:"10px",marginBottom:"5px"}),ellipsis:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({transform:"rotate(90deg)"})});try{Pagination.displayName="Pagination",Pagination.__docgenInfo={description:"",displayName:"Pagination",props:{currentPage:{defaultValue:null,description:"The current page index being shown.",name:"currentPage",required:!0,type:{name:"number"}},numberOfPages:{defaultValue:null,description:"Number of total pages.",name:"numberOfPages",required:!0,type:{name:"number"}},onNavigate:{defaultValue:null,description:"Callback function for fetching the selected page.",name:"onNavigate",required:!0,type:{name:"(toPage: number) => void"}},hideWhenSinglePage:{defaultValue:null,description:"When set to true and the pagination result is only one page it will not render the pagination at all.",name:"hideWhenSinglePage",required:!1,type:{name:"boolean"}},showSmallVersion:{defaultValue:null,description:"Small version only shows the current page and the navigation buttons.",name:"showSmallVersion",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Pagination/Pagination.tsx#Pagination"]={docgenInfo:Pagination.__docgenInfo,name:"Pagination",path:"src/components/Pagination/Pagination.tsx#Pagination"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/PanelChrome/PanelContext.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d2:function(){return usePanelContext}});var react=__webpack_require__("../../node_modules/react/index.js"),eventemitter3=__webpack_require__("../../node_modules/eventemitter3/index.mjs"),Observable=__webpack_require__("../../node_modules/rxjs/dist/esm5/internal/Observable.js"),filter=__webpack_require__("../../node_modules/rxjs/dist/esm5/internal/operators/filter.js");class ScopedEventBus{path;eventBus;filterConfig;constructor(path,eventBus,filter){this.path=path,this.eventBus=eventBus,this.filterConfig=filter??{onlyLocal:!1}}publish(event){event.origin||(event.origin=this),this.eventBus.publish(event)}filter(event){return!this.filterConfig.onlyLocal||event.origin===this}getStream(eventType){return this.eventBus.getStream(eventType).pipe((0,filter.p)(this.filter.bind(this)))}subscribe(typeFilter,handler){return this.getStream(typeFilter).subscribe({next:handler})}removeAllListeners(){this.eventBus.removeAllListeners()}newScopedBus(key,filter){return new ScopedEventBus([...this.path,key],this,filter)}}const PanelContextRoot=(0,react.createContext)({eventsScope:"global",eventBus:new class EventBusSrv{emitter;subscribers=new Map;constructor(){this.emitter=new eventemitter3.A}publish(event){this.emitter.emit(event.type,event)}subscribe(typeFilter,handler){return this.getStream(typeFilter).subscribe({next:handler})}getStream(eventType){return new Observable.c((observer=>{const handler=event=>{observer.next(event)};return this.emitter.on(eventType.type,handler),this.subscribers.set(handler,observer),()=>{this.emitter.off(eventType.type,handler),this.subscribers.delete(handler)}}))}newScopedBus(key,filter){return new ScopedEventBus([key],this,filter)}emit(event,payload){"string"==typeof event?this.emitter.emit(event,{type:event,payload:payload}):this.emitter.emit(event.name,{type:event.name,payload:payload})}on(event,handler){handler.wrapper=emittedEvent=>{handler(emittedEvent.payload)},"string"==typeof event?this.emitter.on(event,handler.wrapper):this.emitter.on(event.name,handler.wrapper)}off(event,handler){"string"!=typeof event?this.emitter.off(event.name,handler.wrapper):this.emitter.off(event,handler.wrapper)}removeAllListeners(){this.emitter.removeAllListeners();for(const[key,sub]of this.subscribers)sub.complete(),this.subscribers.delete(key)}}}),usePanelContext=(PanelContextRoot.Provider,()=>(0,react.useContext)(PanelContextRoot))},"./src/components/ToolbarButton/ToolbarButton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{I:function(){return ToolbarButton}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_grafana_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../grafana-data/src/types/icon.ts"),_grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../grafana-e2e-selectors/src/selectors/index.ts"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_themes_mixins__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/themes/mixins.ts"),_Button_Button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Button/Button.tsx"),_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Icon/Icon.tsx"),_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Tooltip/Tooltip.tsx");const ToolbarButton=(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((({tooltip:tooltip,icon:icon,iconSize:iconSize,className:className,children:children,imgSrc:imgSrc,imgAlt:imgAlt,fullWidth:fullWidth,isOpen:isOpen,narrow:narrow,variant:variant="default",iconOnly:iconOnly,"aria-label":ariaLabel,isHighlighted:isHighlighted,...rest},ref)=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles),buttonStyles=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)({[styles.button]:!0,[styles.buttonFullWidth]:fullWidth,[styles.narrow]:narrow},styles[variant],className),contentStyles=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)({[styles.content]:!0,[styles.contentWithIcon]:!!icon,[styles.contentWithRightIcon]:void 0!==isOpen}),body=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{ref:ref,className:buttonStyles,"aria-label":getButtonAriaLabel(ariaLabel,tooltip),"aria-expanded":isOpen,type:"button",...rest,children:[renderIcon(icon,iconSize),imgSrc&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{className:styles.img,src:imgSrc,alt:imgAlt??""}),children&&!iconOnly&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:contentStyles,children:children}),!1===isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__.I,{name:"angle-down"}),!0===isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__.I,{name:"angle-up"}),isHighlighted&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:styles.highlight})]});return tooltip?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_5__.m,{ref:ref,content:tooltip,placement:"bottom",children:body}):body}));function getButtonAriaLabel(ariaLabel,tooltip){return ariaLabel||(tooltip?_grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_6__.Tp.components.PageToolbar.item(tooltip):void 0)}function renderIcon(icon,iconSize){return icon?(0,_grafana_data__WEBPACK_IMPORTED_MODULE_7__.n6)(icon)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__.I,{name:icon,size:`${iconSize||"lg"}`}):icon:null}ToolbarButton.displayName="ToolbarButton";const getStyles=theme=>{const primaryVariant=(0,_Button_Button__WEBPACK_IMPORTED_MODULE_8__.U_)(theme,"primary","solid"),destructiveVariant=(0,_Button_Button__WEBPACK_IMPORTED_MODULE_8__.U_)(theme,"destructive","solid"),defaultOld=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({color:theme.colors.text.primary,background:theme.colors.secondary.main,"&:hover":{color:theme.colors.text.primary,background:theme.colors.secondary.shade,border:`1px solid ${theme.colors.border.medium}`}});return{button:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({label:"toolbar-button",position:"relative",display:"flex",alignItems:"center",height:theme.spacing(theme.components.height.md),padding:theme.spacing(0,1),borderRadius:theme.shape.radius.default,lineHeight:theme.components.height.md*theme.spacing.gridSize-2+"px",fontWeight:theme.typography.fontWeightMedium,border:`1px solid ${theme.colors.secondary.border}`,whiteSpace:"nowrap",[theme.transitions.handleMotion("no-preference","reduce")]:{transition:theme.transitions.create(["background","box-shadow","border-color","color"],{duration:theme.transitions.duration.short})},[theme.breakpoints.down("md")]:{width:"auto !important"},"&:focus, &:focus-visible":{...(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_9__.Hi)(theme),zIndex:1},"&:focus:not(:focus-visible)":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_9__.cr)(theme),"&[disabled], &:disabled":{cursor:"not-allowed",opacity:theme.colors.action.disabledOpacity,background:theme.colors.action.disabledBackground,boxShadow:"none","&:hover":{color:theme.colors.text.disabled,background:theme.colors.action.disabledBackground,boxShadow:"none"}}}),default:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({color:theme.colors.text.secondary,background:"transparent",border:"1px solid transparent","&:hover":{color:theme.colors.text.primary,background:theme.colors.action.hover}}),canvas:defaultOld,active:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(defaultOld,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({"&::before":{display:"block",content:'" "',position:"absolute",left:0,right:0,height:"2px",bottom:0,borderRadius:theme.shape.radius.default,backgroundImage:theme.colors.gradients.brandHorizontal}})),primary:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)(primaryVariant),destructive:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)(destructiveVariant),narrow:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({padding:theme.spacing(0,.5)}),img:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({width:"16px",height:"16px",marginRight:theme.spacing(1)}),buttonFullWidth:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({flexGrow:1}),content:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",flexGrow:1}),contentWithIcon:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"none",paddingLeft:theme.spacing(1),[`@media ${(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_9__.uT)(theme.v1.breakpoints.md)}`]:{display:"block"}}),contentWithRightIcon:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({paddingRight:theme.spacing(.5)}),highlight:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({backgroundColor:theme.colors.success.main,borderRadius:theme.shape.radius.circle,width:"6px",height:"6px",position:"absolute",top:"-3px",right:"-3px",zIndex:1})}};try{ToolbarButton.displayName="ToolbarButton",ToolbarButton.__docgenInfo={description:"",displayName:"ToolbarButton",props:{icon:{defaultValue:null,description:"Icon name",name:"icon",required:!1,type:{name:"ReactNode"}},iconSize:{defaultValue:null,description:"Icon size",name:"iconSize",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},tooltip:{defaultValue:null,description:"Tooltip",name:"tooltip",required:!1,type:{name:"string"}},imgSrc:{defaultValue:null,description:"For image icons",name:"imgSrc",required:!1,type:{name:"string"}},imgAlt:{defaultValue:null,description:"Alt text for imgSrc",name:"imgAlt",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"if true or false will show angle-down/up",name:"isOpen",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"Controls flex-grow: 1",name:"fullWidth",required:!1,type:{name:"boolean"}},narrow:{defaultValue:null,description:"reduces padding to xs",name:"narrow",required:!1,type:{name:"boolean"}},variant:{defaultValue:{value:"default"},description:"variant",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"destructive"'},{value:'"canvas"'},{value:'"default"'},{value:'"active"'}]}},iconOnly:{defaultValue:null,description:"Hide any children and only show icon",name:"iconOnly",required:!1,type:{name:"boolean"}},isHighlighted:{defaultValue:null,description:"Show highlight dot",name:"isHighlighted",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"]={docgenInfo:ToolbarButton.__docgenInfo,name:"ToolbarButton",path:"src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tooltip/Popover.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return Popover}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/themes/ThemeContext.tsx"),_utils_tooltipUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/utils/tooltipUtils.ts"),_Portal_Portal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Portal/Portal.tsx");function Popover({content:content,show:show,placement:placement,className:className,wrapperClassName:wrapperClassName,referenceElement:referenceElement,renderArrow:renderArrow,hidePopper:hidePopper,...rest}){const theme=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.$j)(),arrowRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),middleware=[(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.cY)(8),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.UU)({fallbackAxisSideDirection:"end",crossAxis:!1,boundary:document.body}),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.BN)()];renderArrow&&middleware.push((0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.UE)({element:arrowRef}));const{context:context,refs:refs,floatingStyles:floatingStyles}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.we)({open:show,placement:(0,_utils_tooltipUtils__WEBPACK_IMPORTED_MODULE_5__.O)(placement),middleware:middleware,whileElementsMounted:_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.ll,strategy:"fixed"});(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((()=>{refs.setReference(referenceElement)}),[referenceElement,refs]);const{styles:placementStyles}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.DL)(context,{initial:()=>({opacity:0}),duration:theme.transitions.duration.enteringScreen});return show?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Portal_Portal__WEBPACK_IMPORTED_MODULE_7__.ZL,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:refs.setFloating,style:{...floatingStyles,...placementStyles},className:wrapperClassName,...rest,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:className,children:[renderArrow&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.ie,{fill:theme.colors.border.weak,ref:arrowRef,context:context}),"string"==typeof content&&content,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(content)&&react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(content),"function"==typeof content&&content({hidePopper:hidePopper})]})})}):void 0}try{Popover.displayName="Popover",Popover.__docgenInfo={description:"",displayName:"Popover",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"bottom"'},{value:'"top"'},{value:'"right"'},{value:'"left"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"auto-start"'},{value:'"auto-end"'}]}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"PopoverContent"}},referenceElement:{defaultValue:null,description:"",name:"referenceElement",required:!0,type:{name:"HTMLElement"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},renderArrow:{defaultValue:null,description:"",name:"renderArrow",required:!1,type:{name:"boolean"}},hidePopper:{defaultValue:null,description:"",name:"hidePopper",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tooltip/Popover.tsx#Popover"]={docgenInfo:Popover.__docgenInfo,name:"Popover",path:"src/components/Tooltip/Popover.tsx#Popover"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/storybook/DashboardStoryCanvas.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{s:function(){return DashboardStoryCanvas}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx"));const DashboardStoryCanvas=({children:children})=>{const theme=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.$j)(),style=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({width:"100%",height:"100%",padding:"32px",background:theme.colors.background.canvas,overflow:"auto"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:style,children:children})};DashboardStoryCanvas.displayName="DashboardStoryCanvas";try{DashboardStoryCanvas.displayName="DashboardStoryCanvas",DashboardStoryCanvas.__docgenInfo={description:"",displayName:"DashboardStoryCanvas",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/storybook/DashboardStoryCanvas.tsx#DashboardStoryCanvas"]={docgenInfo:DashboardStoryCanvas.__docgenInfo,name:"DashboardStoryCanvas",path:"src/utils/storybook/DashboardStoryCanvas.tsx#DashboardStoryCanvas"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Table/Table.story.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BarGaugeCell:function(){return Table_story_BarGaugeCell},Basic:function(){return Basic},ColoredCells:function(){return ColoredCells},CustomColumn:function(){return CustomColumn},Footer:function(){return Footer},Pagination:function(){return Table_story_Pagination},SubTables:function(){return SubTables},default:function(){return Table_story}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),MutableDataFrame=__webpack_require__("../grafana-data/src/dataframe/MutableDataFrame.ts"),dataFrame=__webpack_require__("../grafana-data/src/types/dataFrame.ts"),valueFormats=__webpack_require__("../grafana-data/src/valueFormats/valueFormats.ts"),thresholds=__webpack_require__("../grafana-data/src/types/thresholds.ts"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),DashboardStoryCanvas=__webpack_require__("./src/utils/storybook/DashboardStoryCanvas.tsx"),react=__webpack_require__("../../node_modules/react/index.js");var ThresholdsMode=function(ThresholdsMode){return ThresholdsMode.Absolute="absolute",ThresholdsMode.Percentage="percentage",ThresholdsMode}({});var common_gen=__webpack_require__("../grafana-schema/src/common/common.gen.ts"),processDataFrame=__webpack_require__("../grafana-data/src/dataframe/processDataFrame.ts"),colorManipulator=__webpack_require__("../grafana-data/src/themes/colorManipulator.ts"),fieldReducer=__webpack_require__("../grafana-data/src/transformations/fieldReducer.ts"),matchers=__webpack_require__("../grafana-data/src/transformations/matchers.ts"),fieldColor=__webpack_require__("../grafana-data/src/types/fieldColor.ts"),utils_location=__webpack_require__("../grafana-data/src/utils/location.ts"),url=__webpack_require__("../grafana-data/src/utils/url.ts");function generateInternalHref(datasourceUid,query,range,panelsState){return utils_location.I.assureBaseUrl(`/explore?left=${encodeURIComponent((0,url.Pp)({...range?.raw?{range:(0,url.sQ)(range.raw)}:{},datasource:datasourceUid,queries:[query],panelsState:panelsState}))}`)}function interpolateObject(obj,scopedVars,replaceVariables){if(!obj)return obj;if("string"==typeof obj)return replaceVariables(obj,scopedVars);return interpolateObjectRecursive(JSON.parse(JSON.stringify(obj)),scopedVars,replaceVariables)}function interpolateObjectRecursive(obj,scopedVars,replaceVariables){for(const k of Object.keys(obj))"string"==typeof obj[k]?obj[k]=replaceVariables(obj[k],scopedVars):"object"==typeof obj[k]&&null!==obj[k]&&(obj[k]=interpolateObjectRecursive(obj[k],scopedVars,replaceVariables));return obj}var displayProcessor=__webpack_require__("../grafana-data/src/field/displayProcessor.ts"),scale=__webpack_require__("../grafana-data/src/field/scale.ts"),Registry=__webpack_require__("../grafana-data/src/utils/Registry.ts");class FieldConfigOptionsRegistry extends Registry.O{}const standardFieldConfigEditorRegistry=new FieldConfigOptionsRegistry;new Registry.O;function applyFieldOverrides(options){if(!options.data)return[];const source=options.fieldConfig;if(!source)return options.data;const fieldConfigRegistry=options.fieldConfigRegistry??standardFieldConfigEditorRegistry;let globalRange,seriesIndex=0;const override=[];if(source.overrides)for(const rule of source.overrides){const info=matchers.sJ.get(rule.matcher.id);info&&override.push({match:info.get(rule.matcher.options),properties:rule.properties})}return options.data.map(((originalFrame,index)=>{const newFrame={...originalFrame};newFrame.fields=newFrame.fields.map((field=>({...field,config:(0,lodash.cloneDeep)(field.config),state:{...field.state}})));for(const field of newFrame.fields){const config=field.config;field.state.scopedVars={__dataContext:{value:{data:options.data,frame:newFrame,frameIndex:index,field:field}}};const context={field:field,data:options.data,dataFrameIndex:index,replaceVariables:options.replaceVariables,fieldConfigRegistry:fieldConfigRegistry};setFieldConfigDefaults(config,source.defaults,context);for(const rule of override)if(rule.match(field,newFrame,options.data))for(const prop of rule.properties)setDynamicConfigValue(config,prop,context);let type=field.type;if(!type||type===dataFrame.PU.other){const t=(0,processDataFrame.dF)(field);t&&(type=t)}const{range:range,newGlobalRange:newGlobalRange}=calculateRange(config,field,globalRange,options.data);if(globalRange=newGlobalRange,field.state.displayName=null,field.state.seriesIndex=seriesIndex,field.state.range=range,field.type=type,field.type!==dataFrame.PU.time&&seriesIndex++,field.display=(0,displayProcessor.J)({field:field,theme:options.theme,timeZone:options.timeZone}),"dateTimeFromNow"!==field.config.unit&&(field.display=cachingDisplayProcessor(field.display,2500)),field.getLinks=getLinksSupplier(newFrame,field,field.state.scopedVars,context.replaceVariables,options.timeZone,options.dataLinkPostProcessor),field.type===dataFrame.PU.nestedFrames)for(const nestedFrames of field.values)for(let nfIndex=0;nfIndex<nestedFrames.length;nfIndex++)for(const valueField of nestedFrames[nfIndex].fields)valueField.display=(0,displayProcessor.J)({field:valueField,theme:options.theme,timeZone:options.timeZone}),valueField.state={scopedVars:{__dataContext:{value:{data:nestedFrames,frame:nestedFrames[nfIndex],frameIndex:nfIndex,field:valueField}}}},valueField.getLinks=getLinksSupplier(nestedFrames[nfIndex],valueField,valueField.state.scopedVars,context.replaceVariables,options.timeZone,options.dataLinkPostProcessor)}return newFrame}))}function calculateRange(config,field,globalRange,data){if(field.type!==dataFrame.PU.number||(0,lodash.isNumber)(config.min)&&(0,lodash.isNumber)(config.max))return{newGlobalRange:globalRange};if(config.fieldMinMax){const localRange=(0,scale.AP)(field),min=config.min??localRange.min,max=config.max??localRange.max;return{range:{min:min,max:max,delta:max-min},newGlobalRange:globalRange}}const newGlobalRange=globalRange??function findNumericFieldMinMax(data){let min=null,max=null;const reducers=[fieldReducer.gy.min,fieldReducer.gy.max];for(const frame of data)for(const field of frame.fields)if(field.type===dataFrame.PU.number){const stats=(0,fieldReducer.Nw)({field:field,reducers:reducers}),statsMin=stats[fieldReducer.gy.min],statsMax=stats[fieldReducer.gy.max];(null===min||statsMin<min)&&(min=statsMin),(null===max||statsMax>max)&&(max=statsMax)}return{min:min,max:max,delta:(max??0)-(min??0)}}(data),min=config.min??newGlobalRange.min,max=config.max??newGlobalRange.max;return{range:{min:min,max:max,delta:max-min},newGlobalRange:newGlobalRange}}function cachingDisplayProcessor(disp,maxCacheSize=2500){const caches=new Map;for(let i=-1;i<=15;i++)caches.set(i,new Map);return(value,decimals)=>{let cache=caches.get(decimals??-1),v=cache.get(value);return v||(cache.size===maxCacheSize&&cache.clear(),v=disp(value,decimals),v.color&&(v.color=(0,colorManipulator.ze)(v.color)),cache.set(value,v)),v}}function setDynamicConfigValue(config,value,context){const item=context.fieldConfigRegistry.getIfExists(value.id);if(!item)return;const val=item.process(value.value,context,item.settings);null==val?item.isCustom&&config.custom?(0,lodash.unset)(config.custom,item.path):(0,lodash.unset)(config,item.path):item.isCustom?(config.custom||(config.custom={}),(0,lodash.set)(config.custom,item.path,val)):(0,lodash.set)(config,item.path,val)}function setFieldConfigDefaults(config,defaults,context){config.links&&defaults.links&&(config.links=[...config.links,...defaults.links]);const defaultBaseStep=defaults?.thresholds?.mode===ThresholdsMode.Absolute&&defaults.thresholds?.steps.find((step=>step.value===-1/0));config.thresholds?.mode===ThresholdsMode.Absolute&&!config.thresholds.steps.some((step=>step.value===-1/0))&&defaultBaseStep&&(config.thresholds.steps=[defaultBaseStep,...config.thresholds.steps]);for(const fieldConfigProperty of context.fieldConfigRegistry.list())fieldConfigProperty.isCustom&&!config.custom&&(config.custom={}),processFieldConfigValue(fieldConfigProperty.isCustom?config.custom:config,fieldConfigProperty.isCustom?defaults.custom:defaults,fieldConfigProperty,context);!function validateFieldConfig(config){const{thresholds:thresholds}=config;config.color?config.color.mode||delete config.color:thresholds&&(config.color={mode:fieldColor.Y.Thresholds});if(config.hasOwnProperty("min")&&config.hasOwnProperty("max")&&config.min>config.max){const tmp=config.max;config.max=config.min,config.min=tmp}}(config)}function processFieldConfigValue(destination,source,fieldConfigProperty,context){const currentConfig=(0,lodash.get)(destination,fieldConfigProperty.path);if(null==currentConfig){const item=context.fieldConfigRegistry.getIfExists(fieldConfigProperty.id);if(!item)return;if(item&&item.shouldApply(context.field)){const val=item.process((0,lodash.get)(source,item.path),context,item.settings);null!=val&&(0,lodash.set)(destination,item.path,val)}}}const defaultInternalLinkPostProcessor=options=>{const{link:link,linkModel:linkModel,dataLinkScopedVars:dataLinkScopedVars,field:field,replaceVariables:replaceVariables}=options;return link.internal?function mapInternalLinkToExplore(options){const{onClickFn:onClickFn,replaceVariables:replaceVariables,link:link,scopedVars:scopedVars,range:range,field:field,internalLink:internalLink}=options,interpolatedQuery=interpolateObject("function"==typeof link.internal?.query?link.internal.query({replaceVariables:replaceVariables,scopedVars:scopedVars}):internalLink.query,scopedVars,replaceVariables),interpolatedPanelsState=interpolateObject(link.internal?.panelsState,scopedVars,replaceVariables),interpolatedCorrelationData=interpolateObject(link.meta?.correlationData,scopedVars,replaceVariables);return{title:replaceVariables(link.title?link.title:internalLink.datasourceName,scopedVars),href:generateInternalHref(internalLink.datasourceUid,interpolatedQuery,range,interpolatedPanelsState),onClick:onClickFn?event=>{event.preventDefault&&event.preventDefault(),onClickFn({datasourceUid:internalLink.datasourceUid,queries:[interpolatedQuery],panelsState:interpolatedPanelsState,correlationHelperData:interpolatedCorrelationData,range:range})}:void 0,target:link?.targetBlank?"_blank":"_self",origin:field}}({link:link,internalLink:link.internal,scopedVars:dataLinkScopedVars,field:field,range:link.internal.range,replaceVariables:replaceVariables}):linkModel},getLinksSupplier=(frame,field,fieldScopedVars,replaceVariables,timeZone,dataLinkPostProcessor)=>config=>{if(!field.config.links||0===field.config.links.length)return[];return field.config.links.map((link=>{const dataContext=function getFieldDataContextClone(frame,field,fieldScopedVars){if(fieldScopedVars?.__dataContext)return{value:{...fieldScopedVars.__dataContext.value}};return{value:{frame:frame,field:field,data:[frame]}}}(frame,field,fieldScopedVars),dataLinkScopedVars={...fieldScopedVars,__dataContext:dataContext},boundReplaceVariables=(value,scopedVars,format)=>replaceVariables(value,{...dataLinkScopedVars,...scopedVars},format);let linkModel;void 0===config.valueRowIndex||isNaN(config.valueRowIndex)?dataContext.value.calculatedValue=config.calculatedValue:dataContext.value.rowIndex=config.valueRowIndex;let href=link.onClick||!link.onBuildUrl?link.url:link.onBuildUrl({origin:field,replaceVariables:boundReplaceVariables});return href&&(href=utils_location.I.assureBaseUrl(href.replace(/\n/g,"")),href=replaceVariables(href,dataLinkScopedVars,common_gen.$m.UriEncode),href?.length>0&&(href=utils_location.I.processUrl(href))),linkModel=link.onClick?{href:href,title:replaceVariables(link.title||"",dataLinkScopedVars),target:link.targetBlank?"_blank":void 0,onClick:(evt,origin)=>{link.onClick({origin:origin??field,e:evt,replaceVariables:boundReplaceVariables})},origin:field,oneClick:link.oneClick??!1}:{href:href,title:replaceVariables(link.title||"",dataLinkScopedVars),target:link.targetBlank?"_blank":void 0,origin:field,oneClick:link.oneClick??!1},(dataLinkPostProcessor||defaultInternalLinkPostProcessor)({frame:frame,field:field,dataLinkScopedVars:dataLinkScopedVars,replaceVariables:replaceVariables,config:config,link:link,linkModel:linkModel})})).filter((link=>!!link))};function prepDataForStorybook(data,theme){return applyFieldOverrides({data:data,fieldConfig:{overrides:[],defaults:{}},theme:theme,replaceVariables:value=>value})}var Button=__webpack_require__("./src/components/Button/Button.tsx"),react_table=__webpack_require__("../../node_modules/react-table/index.js");function isTimeSeriesFrame(frame){if(frame.fields.length<2)return!1;const numberField=frame.fields.find((field=>field.type===dataFrame.PU.number));let timeFieldFound=!1;for(const field of frame.fields)if(isTimeSeriesField(field)){timeFieldFound=!0;break}return timeFieldFound&&void 0!==numberField}function isTimeSeriesField(field){if(field.type!==dataFrame.PU.time)return!1;let greatestTime=null,testWindow=field.values.length>100?100:field.values.length;for(let i=0;i<testWindow;i++){const time=field.values[i];if(!(null===greatestTime||null!==time&&time>greatestTime))return!1;greatestTime=time}return!0}var selectors=__webpack_require__("../grafana-e2e-selectors/src/selectors/index.ts"),i18n=__webpack_require__("../grafana-i18n/src/i18n.tsx"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),lib=__webpack_require__("../../node_modules/react-custom-scrollbars-2/lib/index.js");const ScrollIndicators=({children:children})=>{const[showScrollTopIndicator,setShowTopScrollIndicator]=(0,react.useState)(!1),[showScrollBottomIndicator,setShowBottomScrollIndicator]=(0,react.useState)(!1),scrollTopMarker=(0,react.useRef)(null),scrollBottomMarker=(0,react.useRef)(null),styles=(0,ThemeContext.of)(getStyles);return(0,react.useEffect)((()=>{const intersectionObserver=new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.target===scrollTopMarker.current?setShowTopScrollIndicator(!entry.isIntersecting):entry.target===scrollBottomMarker.current&&setShowBottomScrollIndicator(!entry.isIntersecting)}))}));return[scrollTopMarker,scrollBottomMarker].forEach((ref=>{ref.current&&intersectionObserver.observe(ref.current)})),()=>intersectionObserver.disconnect()}),[]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(styles.scrollIndicator,styles.scrollTopIndicator,{[styles.scrollIndicatorVisible]:showScrollTopIndicator})}),(0,jsx_runtime.jsxs)("div",{className:styles.scrollContent,children:[(0,jsx_runtime.jsx)("div",{ref:scrollTopMarker}),children,(0,jsx_runtime.jsx)("div",{ref:scrollBottomMarker})]}),(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(styles.scrollIndicator,styles.scrollBottomIndicator,{[styles.scrollIndicatorVisible]:showScrollBottomIndicator})})]})},getStyles=theme=>({scrollContent:(0,emotion_css_esm.AH)({flex:1,position:"relative"}),scrollIndicator:(0,emotion_css_esm.AH)({height:theme.spacing(6),left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,[theme.transitions.handleMotion("no-preference","reduce")]:{transition:theme.transitions.create("opacity")},zIndex:1}),scrollTopIndicator:(0,emotion_css_esm.AH)({background:`linear-gradient(0deg, transparent, ${theme.colors.background.canvas})`,top:0}),scrollBottomIndicator:(0,emotion_css_esm.AH)({background:`linear-gradient(180deg, transparent, ${theme.colors.background.canvas})`,bottom:0}),scrollIndicatorVisible:(0,emotion_css_esm.AH)({opacity:1})});try{ScrollIndicators.displayName="ScrollIndicators",ScrollIndicators.__docgenInfo={description:"",displayName:"ScrollIndicators",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomScrollbar/ScrollIndicators.tsx#ScrollIndicators"]={docgenInfo:ScrollIndicators.__docgenInfo,name:"ScrollIndicators",path:"src/components/CustomScrollbar/ScrollIndicators.tsx#ScrollIndicators"})}catch(__react_docgen_typescript_loader_error){}const CustomScrollbar=({autoHide:autoHide=!1,autoHideTimeout:autoHideTimeout=200,setScrollTop:setScrollTop,className:className,testId:testId,autoHeightMin:autoHeightMin="0",autoHeightMax:autoHeightMax="100%",hideTracksWhenNotNeeded:hideTracksWhenNotNeeded=!1,hideHorizontalTrack:hideHorizontalTrack,hideVerticalTrack:hideVerticalTrack,scrollRefCallback:scrollRefCallback,showScrollIndicators:showScrollIndicators=!1,updateAfterMountMs:updateAfterMountMs,scrollTop:scrollTop,onScroll:onScroll,children:children,divId:divId})=>{const ref=(0,react.useRef)(null),styles=(0,ThemeContext.of)(CustomScrollbar_getStyles);function renderTrack(className,hideTrack,passedProps){return passedProps.style&&hideTrack&&(passedProps.style.display="none"),(0,jsx_runtime.jsx)("div",{...passedProps,className:className})}(0,react.useEffect)((()=>{ref.current&&scrollRefCallback&&scrollRefCallback(ref.current.view)}),[ref,scrollRefCallback]),function useScrollTop(scrollBar,scrollTop){(0,react.useEffect)((()=>{scrollBar&&null!=scrollTop&&scrollBar.scrollTop(scrollTop)}),[scrollTop,scrollBar])}(ref.current,scrollTop),(0,react.useEffect)((()=>{updateAfterMountMs&&setTimeout((()=>{const scrollbar=ref.current;scrollbar?.update&&scrollbar.update()}),updateAfterMountMs)}),[updateAfterMountMs]);const renderTrackHorizontal=(0,react.useCallback)((passedProps=>renderTrack("track-horizontal",hideHorizontalTrack,passedProps)),[hideHorizontalTrack]),renderTrackVertical=(0,react.useCallback)((passedProps=>renderTrack("track-vertical",hideVerticalTrack,passedProps)),[hideVerticalTrack]),renderThumbHorizontal=(0,react.useCallback)((passedProps=>(0,jsx_runtime.jsx)("div",{...passedProps,className:"thumb-horizontal"})),[]),renderThumbVertical=(0,react.useCallback)((passedProps=>(0,jsx_runtime.jsx)("div",{...passedProps,className:"thumb-vertical"})),[]),renderView=(0,react.useCallback)((passedProps=>(passedProps.style&&"touch"===passedProps.style.WebkitOverflowScrolling&&(passedProps.style.WebkitOverflowScrolling="auto"),(0,jsx_runtime.jsx)("div",{...passedProps,className:"scrollbar-view",id:divId}))),[divId]),onScrollStop=(0,react.useCallback)((()=>{ref.current&&setScrollTop&&setScrollTop(ref.current.getValues())}),[setScrollTop]);return(0,jsx_runtime.jsx)(lib.Ay,{"data-testid":testId,ref:ref,className:(0,emotion_css_esm.cx)(styles.customScrollbar,className,{[styles.scrollbarWithScrollIndicators]:showScrollIndicators}),onScrollStop:onScrollStop,autoHeight:!0,autoHide:autoHide,autoHideTimeout:autoHideTimeout,hideTracksWhenNotNeeded:hideTracksWhenNotNeeded,autoHeightMax:autoHeightMax,autoHeightMin:autoHeightMin,renderTrackHorizontal:renderTrackHorizontal,renderTrackVertical:renderTrackVertical,renderThumbHorizontal:renderThumbHorizontal,renderThumbVertical:renderThumbVertical,renderView:renderView,onScroll:onScroll,children:showScrollIndicators?(0,jsx_runtime.jsx)(ScrollIndicators,{children:children}):children})};var CustomScrollbar_CustomScrollbar=CustomScrollbar;const CustomScrollbar_getStyles=theme=>({customScrollbar:(0,emotion_css_esm.AH)({display:"flex",flexGrow:1,".scrollbar-view":{display:"flex",flexGrow:1,flexDirection:"column"},".track-vertical":{borderRadius:theme.shape.borderRadius(2),width:`${theme.spacing(1)} !important`,right:0,bottom:theme.spacing(.25),top:theme.spacing(.25)},".track-horizontal":{borderRadius:theme.shape.borderRadius(2),height:`${theme.spacing(1)} !important`,right:theme.spacing(.25),bottom:theme.spacing(.25),left:theme.spacing(.25)},".thumb-vertical":{background:theme.colors.action.focus,borderRadius:theme.shape.borderRadius(2),opacity:0},".thumb-horizontal":{background:theme.colors.action.focus,borderRadius:theme.shape.borderRadius(2),opacity:0},"&:hover":{".thumb-vertical, .thumb-horizontal":{opacity:1,transition:"opacity 0.3s ease-in-out"}}}),scrollbarWithScrollIndicators:(0,emotion_css_esm.AH)({".scrollbar-view":{position:"static !important"}})});try{CustomScrollbar.displayName="CustomScrollbar",CustomScrollbar.__docgenInfo={description:"Wraps component into <Scrollbars> component from `react-custom-scrollbars`",displayName:"CustomScrollbar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},testId:{defaultValue:null,description:"",name:"testId",required:!1,type:{name:"string"}},autoHide:{defaultValue:{value:"false"},description:"",name:"autoHide",required:!1,type:{name:"boolean"}},autoHideTimeout:{defaultValue:{value:"200"},description:"",name:"autoHideTimeout",required:!1,type:{name:"number"}},autoHeightMax:{defaultValue:{value:"100%"},description:"",name:"autoHeightMax",required:!1,type:{name:"string"}},hideTracksWhenNotNeeded:{defaultValue:{value:"false"},description:"",name:"hideTracksWhenNotNeeded",required:!1,type:{name:"boolean"}},hideHorizontalTrack:{defaultValue:null,description:"",name:"hideHorizontalTrack",required:!1,type:{name:"boolean"}},hideVerticalTrack:{defaultValue:null,description:"",name:"hideVerticalTrack",required:!1,type:{name:"boolean"}},scrollRefCallback:{defaultValue:null,description:"",name:"scrollRefCallback",required:!1,type:{name:"RefCallback<HTMLDivElement>"}},scrollTop:{defaultValue:null,description:"",name:"scrollTop",required:!1,type:{name:"number"}},setScrollTop:{defaultValue:null,description:"",name:"setScrollTop",required:!1,type:{name:"((position: positionValues) => void)"}},showScrollIndicators:{defaultValue:{value:"false"},description:"",name:"showScrollIndicators",required:!1,type:{name:"boolean"}},autoHeightMin:{defaultValue:{value:"0"},description:"",name:"autoHeightMin",required:!1,type:{name:"string | number"}},updateAfterMountMs:{defaultValue:null,description:"",name:"updateAfterMountMs",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"UIEventHandler<Element>"}},divId:{defaultValue:null,description:"",name:"divId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomScrollbar/CustomScrollbar.tsx#CustomScrollbar"]={docgenInfo:CustomScrollbar.__docgenInfo,name:"CustomScrollbar",path:"src/components/CustomScrollbar/CustomScrollbar.tsx#CustomScrollbar"})}catch(__react_docgen_typescript_loader_error){}var Pagination=__webpack_require__("./src/components/Pagination/Pagination.tsx"),ClipboardButton=__webpack_require__("./src/components/ClipboardButton/ClipboardButton.tsx"),Drawer=__webpack_require__("./src/components/Drawer/Drawer.tsx"),Stack=__webpack_require__("./src/components/Layout/Stack/Stack.tsx"),CodeEditor=__webpack_require__("./src/components/Monaco/CodeEditor.tsx"),Tab=__webpack_require__("./src/components/Tabs/Tab.tsx"),TabsBar=__webpack_require__("./src/components/Tabs/TabsBar.tsx"),TableCellInspectorMode=function(TableCellInspectorMode){return TableCellInspectorMode.code="code",TableCellInspectorMode.text="text",TableCellInspectorMode}({});function TableCellInspector({value:value,onDismiss:onDismiss,mode:mode}){let displayValue=value;const[currentMode,setMode]=(0,react.useState)(mode);if((0,lodash.isString)(value)){const trimmedValue=value.trim();if("{"===trimmedValue[0]||"["===trimmedValue[0]||"code"===mode)try{value=JSON.parse(value),displayValue=JSON.stringify(value,null,"  ")}catch(error){console.log("Failed to parse JSON in Table cell inspector (this will cause JSON to not print nicely): ",error.message)}}else displayValue=JSON.stringify(value);let text=displayValue;const changeTabs=()=>{setMode("text"===currentMode?"code":"text")},tabBar=(0,jsx_runtime.jsx)(TabsBar.U,{children:[{label:"Plain text",value:"text"},{label:"Code editor",value:"code"}].map(((t,index)=>(0,jsx_runtime.jsx)(Tab.o,{label:t.label,active:t.value===currentMode,onChangeTab:changeTabs},`${t.value}-${index}`)))});return(0,jsx_runtime.jsx)(Drawer._,{onClose:onDismiss,title:(0,i18n.t)("grafana-ui.table.inspect-drawer-title","Inspect value"),tabs:tabBar,children:(0,jsx_runtime.jsxs)(Stack.B,{direction:"column",gap:2,children:[(0,jsx_runtime.jsx)(ClipboardButton.b,{icon:"copy",getText:()=>text,style:{marginLeft:"auto",width:"200px"},children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.table.copy",children:"Copy to Clipboard"})}),"code"===currentMode?(0,jsx_runtime.jsx)(CodeEditor.B,{width:"100%",height:500,language:"json",showLineNumbers:!0,showMiniMap:(text&&text.length)>100,value:text,readOnly:!0,wordWrap:!0}):(0,jsx_runtime.jsx)("pre",{children:text})]})})}try{TableCellInspector.displayName="TableCellInspector",TableCellInspector.__docgenInfo={description:"",displayName:"TableCellInspector",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"code"'},{value:'"text"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableCellInspector.tsx#TableCellInspector"]={docgenInfo:TableCellInspector.__docgenInfo,name:"TableCellInspector",path:"src/components/Table/TableCellInspector.tsx#TableCellInspector"})}catch(__react_docgen_typescript_loader_error){}var fieldState=__webpack_require__("../grafana-data/src/field/fieldState.ts");function getInitialState(initialSortBy,columns){const state={};if(initialSortBy){state.sortBy=[];for(const sortBy of initialSortBy)for(const col of columns)col.Header===sortBy.displayName&&state.sortBy.push({id:col.id,desc:sortBy.desc})}return state}var micro_memoize=__webpack_require__("../../node_modules/micro-memoize/dist/micro-memoize.js"),micro_memoize_default=__webpack_require__.n(micro_memoize),tinycolor=__webpack_require__("../../node_modules/tinycolor2/esm/tinycolor.js"),colors=__webpack_require__("./src/utils/colors.ts"),ConfirmModal=__webpack_require__("./src/components/ConfirmModal/ConfirmModal.tsx"),Field=__webpack_require__("./src/components/Forms/Field.tsx"),FieldSet=__webpack_require__("./src/components/Forms/FieldSet.tsx"),Input=__webpack_require__("./src/components/Input/Input.tsx"),Modal=__webpack_require__("./src/components/Modal/Modal.tsx");function VariablesInputModal({action:action,onDismiss:onDismiss,onShowConfirm:onShowConfirm,variables:variables,setVariables:setVariables}){const styles=(0,ThemeContext.of)(VariablesInputModal_getStyles);return(0,jsx_runtime.jsxs)(Modal.a,{isOpen:!0,title:(0,i18n.t)("grafana-ui.action-editor.button.action-variables-title","Action variables"),onDismiss:onDismiss,className:styles.variablesModal,children:[(0,jsx_runtime.jsx)(FieldSet.n,{children:action.variables.map((variable=>(0,jsx_runtime.jsx)(Field.D,{label:variable.name,children:(0,jsx_runtime.jsx)(Input.p,{type:"text",value:variables[variable.key]??"",onChange:e=>{setVariables({...variables,[variable.key]:e.currentTarget.value})},placeholder:(0,i18n.t)("grafana-ui.action-editor.button.variable-value-placeholder","Value"),width:20})},variable.name)))}),(0,jsx_runtime.jsxs)(Modal.a.ButtonRow,{children:[(0,jsx_runtime.jsx)(Button.$n,{variant:"secondary",onClick:onDismiss,children:(0,i18n.t)("grafana-ui.action-editor.close","Close")}),(0,jsx_runtime.jsx)(Button.$n,{variant:"primary",onClick:()=>{onDismiss(),onShowConfirm()},children:(0,i18n.t)("grafana-ui.action-editor.continue","Continue")})]})]})}const VariablesInputModal_getStyles=()=>({variablesModal:(0,emotion_css_esm.AH)({zIndex:1e4})});try{VariablesInputModal.displayName="VariablesInputModal",VariablesInputModal.__docgenInfo={description:"",displayName:"VariablesInputModal",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"ActionModel<any>"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},onShowConfirm:{defaultValue:null,description:"",name:"onShowConfirm",required:!0,type:{name:"() => void"}},variables:{defaultValue:null,description:"",name:"variables",required:!0,type:{name:"ActionVariableInput"}},setVariables:{defaultValue:null,description:"",name:"setVariables",required:!0,type:{name:"(vars: ActionVariableInput) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Actions/VariablesInputModal.tsx#VariablesInputModal"]={docgenInfo:VariablesInputModal.__docgenInfo,name:"VariablesInputModal",path:"src/components/Actions/VariablesInputModal.tsx#VariablesInputModal"})}catch(__react_docgen_typescript_loader_error){}function ActionButton({action:action,...buttonProps}){const theme=(0,ThemeContext.$j)(),backgroundColor=action.style.backgroundColor||theme.colors.secondary.main,textColor=theme.colors.getContrastText(backgroundColor),[showConfirm,setShowConfirm]=(0,react.useState)(!1),[showVarsModal,setShowVarsModal]=(0,react.useState)(!1),[actionVars,setActionVars]=(0,react.useState)({}),actionHasVariables=action.variables&&action.variables.length>0;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Button.$n,{variant:"primary",size:"sm",onClick:()=>{actionHasVariables?setShowVarsModal(!0):setShowConfirm(!0)},...buttonProps,style:{width:"fit-content",backgroundColor:backgroundColor,color:textColor},children:action.title}),actionHasVariables&&showVarsModal&&(0,jsx_runtime.jsx)(VariablesInputModal,{onDismiss:()=>setShowVarsModal(!1),action:action,onShowConfirm:()=>setShowConfirm(!0),variables:actionVars,setVariables:setActionVars}),showConfirm&&(0,jsx_runtime.jsx)(ConfirmModal.u,{isOpen:!0,title:(0,i18n.t)("grafana-ui.action-editor.button.confirm-action","Confirm action"),body:action.confirmation(actionVars),confirmText:(0,i18n.t)("grafana-ui.action-editor.button.confirm","Confirm"),confirmButtonVariant:"primary",onConfirm:()=>{setShowConfirm(!1),action.onClick(new MouseEvent("click"),null,actionVars)},onDismiss:()=>{setShowConfirm(!1)}})]})}try{ActionButton.displayName="ActionButton",ActionButton.__docgenInfo={description:"",displayName:"ActionButton",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"destructive"'},{value:'"success"'}]}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"enum",value:[{value:'"solid"'},{value:'"outline"'},{value:'"text"'}]}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:'"play" | ReactElement<any, string | JSXElementConstructor<any>> | "google" | "microsoft" | "github" | "gitlab" | "okta" | "discord" | ... 267 more ...'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}},tooltip:{defaultValue:null,description:"Tooltip content to display on hover",name:"tooltip",required:!1,type:{name:"PopoverContent"}},tooltipPlacement:{defaultValue:null,description:"Position of the tooltip",name:"tooltipPlacement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"bottom"'},{value:'"top"'},{value:'"right"'},{value:'"left"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"auto-start"'},{value:'"auto-end"'}]}},iconPlacement:{defaultValue:null,description:"Position of the icon",name:"iconPlacement",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'}]}},action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"ActionModel<Field<any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Actions/ActionButton.tsx#ActionButton"]={docgenInfo:ActionButton.__docgenInfo,name:"ActionButton",path:"src/components/Actions/ActionButton.tsx#ActionButton"})}catch(__react_docgen_typescript_loader_error){}const ActionsCell=props=>{const{cellProps:cellProps,tableStyles:tableStyles,actions:actions}=props,styles=(0,ThemeContext.of)(ActionsCell_getStyles);return(0,jsx_runtime.jsx)("div",{...cellProps,className:(0,emotion_css_esm.cx)(tableStyles.cellContainerText,styles.buttonsGap),children:actions&&actions.map(((action,i)=>(0,jsx_runtime.jsx)(ActionButton,{action:action,variant:"secondary"},i)))})},ActionsCell_getStyles=theme=>({buttonsGap:(0,emotion_css_esm.AH)({gap:6})});try{ActionsCell.displayName="ActionsCell",ActionsCell.__docgenInfo={description:"",displayName:"ActionsCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/ActionsCell.tsx#ActionsCell"]={docgenInfo:ActionsCell.__docgenInfo,name:"ActionsCell",path:"src/components/Table/ActionsCell.tsx#ActionsCell"})}catch(__react_docgen_typescript_loader_error){}var panel=__webpack_require__("../grafana-data/src/types/panel.ts"),BarGauge=__webpack_require__("./src/components/BarGauge/BarGauge.tsx"),floating_ui_react_dom=__webpack_require__("../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),floating_ui_react=__webpack_require__("../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),Portal=__webpack_require__("./src/components/Portal/Portal.tsx");function DataLinkButton({link:link,buttonProps:buttonProps}){return(0,jsx_runtime.jsx)("a",{href:link.href,target:link.target,rel:"noreferrer",onClick:link.onClick?event=>{event.ctrlKey||event.metaKey||event.shiftKey||!link.onClick||(event.preventDefault(),link.onClick(event))}:void 0,children:(0,jsx_runtime.jsx)(Button.$n,{icon:"_blank"===link.target?"external-link-alt":"link",variant:"primary",size:"sm",...buttonProps,children:link.title})})}try{DataLinkButton.displayName="DataLinkButton",DataLinkButton.__docgenInfo={description:"",displayName:"DataLinkButton",props:{link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"LinkModel<Field<any>>"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataLinks/DataLinkButton.tsx#DataLinkButton"]={docgenInfo:DataLinkButton.__docgenInfo,name:"DataLinkButton",path:"src/components/DataLinks/DataLinkButton.tsx#DataLinkButton"})}catch(__react_docgen_typescript_loader_error){}var Icon=__webpack_require__("./src/components/Icon/Icon.tsx");function makeRenderLinksOrActions(renderOneClickTrans,renderItem,itemGap){return(items,styles)=>{if(0===items.length)return;const oneClickItem=items.find((item=>!0===item.oneClick));return null!=oneClickItem?(0,jsx_runtime.jsx)("div",{className:styles.dataLinks,children:(0,jsx_runtime.jsx)(Stack.B,{direction:"column",justifyContent:"flex-start",gap:.5,children:(0,jsx_runtime.jsxs)("span",{className:styles.oneClickWrapper,children:[(0,jsx_runtime.jsx)(Icon.I,{name:"info-circle",size:"lg",className:styles.infoIcon}),renderOneClickTrans(oneClickItem.title)]})})}):(0,jsx_runtime.jsx)("div",{className:styles.dataLinks,children:(0,jsx_runtime.jsx)(Stack.B,{direction:"column",justifyContent:"flex-start",gap:itemGap,children:items.map(((item,i)=>renderItem(item,i,styles)))})})}}const renderDataLinks=makeRenderLinksOrActions((title=>(0,jsx_runtime.jsxs)(i18n.x6,{i18nKey:"grafana-ui.viz-tooltip.footer-click-to-navigate",children:["Click to open ",{linkTitle:title}]})),((item,i,styles)=>(0,jsx_runtime.jsx)(DataLinkButton,{link:item,buttonProps:{className:styles.dataLinkButton,fill:"text"}},i)),.5),renderActions=makeRenderLinksOrActions((title=>(0,jsx_runtime.jsxs)(i18n.x6,{i18nKey:"grafana-ui.viz-tooltip.footer-click-to-action",children:["Click to ",{actionTitle:title}]})),((item,i)=>(0,jsx_runtime.jsx)(ActionButton,{action:item,variant:"secondary"},i))),VizTooltipFooter=({dataLinks:dataLinks,actions:actions=[],annotate:annotate})=>{const styles=(0,ThemeContext.of)(VizTooltipFooter_getStyles),hasOneClickLink=(0,react.useMemo)((()=>dataLinks.some((link=>!0===link.oneClick))),[dataLinks]),hasOneClickAction=(0,react.useMemo)((()=>actions.some((action=>!0===action.oneClick))),[actions]);return(0,jsx_runtime.jsxs)("div",{className:styles.wrapper,children:[!hasOneClickAction&&renderDataLinks(dataLinks,styles),!hasOneClickLink&&renderActions(actions,styles),!hasOneClickLink&&!hasOneClickAction&&null!=annotate&&(0,jsx_runtime.jsx)("div",{className:styles.addAnnotations,children:(0,jsx_runtime.jsx)(Button.$n,{icon:"comment-alt",variant:"secondary",size:"sm",id:"add-annotation-button",onClick:annotate,children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.viz-tooltip.footer-add-annotation",children:"Add annotation"})})})]})},VizTooltipFooter_getStyles=theme=>({wrapper:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"column",flex:1,padding:theme.spacing(0)}),dataLinks:(0,emotion_css_esm.AH)({borderTop:`1px solid ${theme.colors.border.medium}`,padding:theme.spacing(1)}),addAnnotations:(0,emotion_css_esm.AH)({borderTop:`1px solid ${theme.colors.border.medium}`,padding:theme.spacing(1)}),dataLinkButton:(0,emotion_css_esm.AH)({cursor:"pointer","&:hover":{textDecoration:"underline",background:"none"},padding:0,height:"auto","& span":{whiteSpace:"normal",textAlign:"left"}}),oneClickWrapper:(0,emotion_css_esm.AH)({display:"flex",alignItems:"center"}),infoIcon:(0,emotion_css_esm.AH)({color:theme.colors.primary.main,paddingRight:theme.spacing(.5)})});try{VizTooltipFooter.displayName="VizTooltipFooter",VizTooltipFooter.__docgenInfo={description:"",displayName:"VizTooltipFooter",props:{dataLinks:{defaultValue:null,description:"",name:"dataLinks",required:!0,type:{name:"LinkModel<Field<any>>[]"}},actions:{defaultValue:{value:"[]"},description:"",name:"actions",required:!1,type:{name:"ActionModel<Field<any>>[]"}},annotate:{defaultValue:null,description:"",name:"annotate",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VizTooltip/VizTooltipFooter.tsx#VizTooltipFooter"]={docgenInfo:VizTooltipFooter.__docgenInfo,name:"VizTooltipFooter",path:"src/components/VizTooltip/VizTooltipFooter.tsx#VizTooltipFooter"})}catch(__react_docgen_typescript_loader_error){}const VizTooltipWrapper=({children:children,className:className})=>{const styles=(0,ThemeContext.of)(VizTooltipWrapper_getStyles);return(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(styles.wrapper,className),children:children})},VizTooltipWrapper_getStyles=theme=>({wrapper:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"column",fontSize:theme.typography.bodySmall.fontSize})});try{VizTooltipWrapper.displayName="VizTooltipWrapper",VizTooltipWrapper.__docgenInfo={description:"",displayName:"VizTooltipWrapper",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VizTooltip/VizTooltipWrapper.tsx#VizTooltipWrapper"]={docgenInfo:VizTooltipWrapper.__docgenInfo,name:"VizTooltipWrapper",path:"src/components/VizTooltip/VizTooltipWrapper.tsx#VizTooltipWrapper"})}catch(__react_docgen_typescript_loader_error){}const DataLinksActionsTooltip=({links:links,actions:actions,value:value,coords:coords,onTooltipClose:onTooltipClose})=>{const styles=(0,ThemeContext.of)(DataLinksActionsTooltip_getStyles),middleware=[(0,floating_ui_react_dom.UU)({fallbackAxisSideDirection:"end",crossAxis:!1,boundary:document.body}),(0,floating_ui_react_dom.BN)()],virtual=(0,react.useMemo)((()=>{const{clientX:clientX,clientY:clientY}=coords;return{getBoundingClientRect(){return{width:0,height:0,x:clientX,y:clientY,top:clientY,left:clientX,right:clientX,bottom:clientY}}}}),[coords]),{context:context,refs:refs,floatingStyles:floatingStyles}=(0,floating_ui_react.we)({open:!0,placement:"right-start",onOpenChange:onTooltipClose,middleware:middleware}),dismiss=(0,floating_ui_react.s9)(context),{getFloatingProps:getFloatingProps,getReferenceProps:getReferenceProps}=(0,floating_ui_react.bv)([dismiss]);return 0!==links.length||Boolean(actions?.length)?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[value,(0,jsx_runtime.jsx)(Portal.ZL,{children:(0,jsx_runtime.jsx)("div",{ref:el=>{refs.setFloating(el),refs.setReference(virtual)},...getReferenceProps(),...getFloatingProps(),style:floatingStyles,className:styles.tooltipWrapper,"data-testid":selectors.Tp.components.DataLinksActionsTooltip.tooltipWrapper,children:(0,jsx_runtime.jsx)(VizTooltipWrapper,{children:(0,jsx_runtime.jsx)(VizTooltipFooter,{dataLinks:links,actions:actions})})})})]}):null},renderSingleLink=(link,children,className)=>(0,jsx_runtime.jsx)("a",{href:link.href,onClick:link.onClick,target:link.target,title:link.title,"data-testid":selectors.Tp.components.DataLinksContextMenu.singleLink,className:className,children:children}),DataLinksActionsTooltip_getStyles=theme=>({tooltipWrapper:(0,emotion_css_esm.AH)({zIndex:theme.zIndex.portal,whiteSpace:"pre",borderRadius:theme.shape.radius.default,background:theme.colors.background.primary,border:`1px solid ${theme.colors.border.weak}`,boxShadow:theme.shadows.z3,userSelect:"text",fontSize:theme.typography.bodySmall.fontSize})});try{DataLinksActionsTooltip.displayName="DataLinksActionsTooltip",DataLinksActionsTooltip.__docgenInfo={description:"",displayName:"DataLinksActionsTooltip",props:{links:{defaultValue:null,description:"",name:"links",required:!0,type:{name:"LinkModel<any>[]"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},coords:{defaultValue:null,description:"",name:"coords",required:!0,type:{name:"DataLinksActionsTooltipCoords"}},onTooltipClose:{defaultValue:null,description:"",name:"onTooltipClose",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/DataLinksActionsTooltip.tsx#DataLinksActionsTooltip"]={docgenInfo:DataLinksActionsTooltip.__docgenInfo,name:"DataLinksActionsTooltip",path:"src/components/Table/DataLinksActionsTooltip.tsx#DataLinksActionsTooltip"})}catch(__react_docgen_typescript_loader_error){}const defaultScale={mode:thresholds.O.Absolute,steps:[{color:"blue",value:-1/0},{color:"green",value:20}]},BarGaugeCell=props=>{const{field:field,innerWidth:innerWidth,tableStyles:tableStyles,cell:cell,cellProps:cellProps,row:row}=props,displayValue=field.display(cell.value),cellOptions=getCellOptions(field);let config=(0,scale.xg)(field,!1);config.thresholds||(config={...config,thresholds:defaultScale});let valueDisplayMode,barGaugeMode=common_gen.eX.Gradient;cellOptions.type===common_gen.ob.Gauge&&(barGaugeMode=cellOptions.mode??common_gen.eX.Gradient,valueDisplayMode=void 0!==cellOptions.valueDisplayMode?cellOptions.valueDisplayMode:common_gen.$l.Text);const getLinks=()=>(0,lodash.isFunction)(field.getLinks)?field.getLinks({valueRowIndex:row.index}):[],alignmentFactors=getAlignmentFactor(field,displayValue,cell.row.index),renderComponent=()=>(0,jsx_runtime.jsx)(BarGauge.xE,{width:innerWidth,height:tableStyles.cellHeightInner,field:config,display:field.display,text:{valueSize:14},value:displayValue,orientation:panel.wV.Horizontal,theme:tableStyles.theme,alignmentFactors:alignmentFactors,itemSpacing:1,lcdCellWidth:8,displayMode:barGaugeMode,valueDisplayMode:valueDisplayMode}),[tooltipCoords,setTooltipCoords]=(0,react.useState)(),{shouldShowLink:shouldShowLink,hasMultipleLinksOrActions:hasMultipleLinksOrActions}=getDataLinksActionsTooltipUtils(getLinks()),shouldShowTooltip=hasMultipleLinksOrActions&&void 0!==tooltipCoords,links=getLinks();return(0,jsx_runtime.jsx)("div",{...cellProps,className:tableStyles.cellContainer,style:{...cellProps.style,cursor:hasMultipleLinksOrActions?"context-menu":"auto"},onClick:({clientX:clientX,clientY:clientY})=>{setTooltipCoords({clientX:clientX,clientY:clientY})},children:shouldShowLink?renderSingleLink(links[0],renderComponent()):shouldShowTooltip?(0,jsx_runtime.jsx)(DataLinksActionsTooltip,{links:links,value:renderComponent(),coords:tooltipCoords,onTooltipClose:()=>setTooltipCoords(void 0)}):renderComponent()})};try{BarGaugeCell.displayName="BarGaugeCell",BarGaugeCell.__docgenInfo={description:"",displayName:"BarGaugeCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/BarGaugeCell.tsx#BarGaugeCell"]={docgenInfo:BarGaugeCell.__docgenInfo,name:"BarGaugeCell",path:"src/components/Table/Cells/BarGaugeCell.tsx#BarGaugeCell"})}catch(__react_docgen_typescript_loader_error){}const getCellLinks=(field,row)=>{let links;if(field.getLinks&&(links=field.getLinks({valueRowIndex:row.index})),links){for(let i=0;i<links?.length;i++)if(links[i].onClick){const origOnClick=links[i].onClick;links[i].onClick=event=>{event.ctrlKey||event.metaKey||event.shiftKey||(event.preventDefault(),origOnClick(event,{field:field,rowIndex:row.index}))}}return links.filter((link=>link.href||null!=link.onClick))}},DataLinksCell=props=>{const{field:field,row:row,cellProps:cellProps,tableStyles:tableStyles}=props,links=getCellLinks(field,row);return(0,jsx_runtime.jsx)("div",{...cellProps,className:tableStyles.cellContainerText,children:links?.map(((link,idx)=>link.href||null!=link.onClick?(0,jsx_runtime.jsx)("span",{className:tableStyles.cellLink,onClick:link.onClick,children:(0,jsx_runtime.jsx)("a",{href:link.href,target:link.target,children:link.title})},idx):(0,jsx_runtime.jsx)("span",{className:tableStyles.cellLinkEmpty,children:link.title},idx)))})};try{DataLinksCell.displayName="DataLinksCell",DataLinksCell.__docgenInfo={description:"",displayName:"DataLinksCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/DataLinksCell.tsx#DataLinksCell"]={docgenInfo:DataLinksCell.__docgenInfo,name:"DataLinksCell",path:"src/components/Table/Cells/DataLinksCell.tsx#DataLinksCell"})}catch(__react_docgen_typescript_loader_error){}var IconButton=__webpack_require__("./src/components/IconButton/IconButton.tsx");function CellActions({field:field,cell:cell,previewMode:previewMode,showFilters:showFilters,onCellFilterAdded:onCellFilterAdded,setInspectCell:setInspectCell}){const isRightAligned="flex-end"===getTextAlign(field),inspectEnabled=Boolean(field.config.custom?.inspect),commonButtonProps={size:"sm",tooltipPlacement:"top"},onFilterFor=(0,react.useCallback)((event=>{onCellFilterAdded&&onCellFilterAdded({key:field.name,operator:"=",value:cell.value})}),[cell,field,onCellFilterAdded]),onFilterOut=(0,react.useCallback)((event=>{onCellFilterAdded&&onCellFilterAdded({key:field.name,operator:"!=",value:cell.value})}),[cell,field,onCellFilterAdded]);return(0,jsx_runtime.jsx)("div",{className:"cellActions"+(isRightAligned?" cellActionsLeft":""),children:(0,jsx_runtime.jsxs)(Stack.B,{gap:.5,children:[inspectEnabled&&(0,jsx_runtime.jsx)(IconButton.K,{name:"eye",tooltip:(0,i18n.t)("grafana-ui.table.cell-inspect","Inspect value"),onClick:()=>{setInspectCell&&setInspectCell({value:cell.value,mode:previewMode})},...commonButtonProps}),showFilters&&(0,jsx_runtime.jsx)(IconButton.K,{name:"search-plus",onClick:onFilterFor,tooltip:(0,i18n.t)("grafana-ui.table.cell-filter-on","Filter for value"),...commonButtonProps}),showFilters&&(0,jsx_runtime.jsx)(IconButton.K,{name:"search-minus",onClick:onFilterOut,tooltip:(0,i18n.t)("grafana-ui.table.cell-filter-out","Filter out value"),...commonButtonProps})]})})}try{CellActions.displayName="CellActions",CellActions.__docgenInfo={description:"",displayName:"CellActions",props:{previewMode:{defaultValue:null,description:"",name:"previewMode",required:!0,type:{name:"enum",value:[{value:'"code"'},{value:'"text"'}]}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/CellActions.tsx#CellActions"]={docgenInfo:CellActions.__docgenInfo,name:"CellActions",path:"src/components/Table/CellActions.tsx#CellActions"})}catch(__react_docgen_typescript_loader_error){}const DefaultCell=props=>{const{field:field,cell:cell,tableStyles:tableStyles,row:row,cellProps:cellProps,frame:frame,rowStyled:rowStyled,rowExpanded:rowExpanded,textWrapped:textWrapped,height:height}=props,inspectEnabled=Boolean(field.config.custom?.inspect),displayValue=field.display(cell.value),showFilters=props.onCellFilterAdded&&field.config.filterable,showActions=showFilters&&void 0!==cell.value||inspectEnabled,cellOptions=getCellOptions(field);let value;if(cellOptions.type===common_gen.ob.Custom){const CustomCellComponent=cellOptions.cellComponent;value=(0,jsx_runtime.jsx)(CustomCellComponent,{field:field,value:cell.value,rowIndex:row.index,frame:frame})}else value=react.isValidElement(cell.value)?cell.value:(0,valueFormats.cN)(displayValue);const isStringValue="string"==typeof value,cellStyle=function getCellStyle(tableStyles,cellOptions,displayValue,disableOverflowOnHover=!1,isStringValue=!1,shouldWrapText=!1,textWrapped=!1,rowStyled=!1,rowExpanded=!1){let textColor,bgColor,bgHoverColor;const colors=getCellColors(tableStyles.theme,cellOptions,displayValue);return textColor=colors.textColor,bgColor=colors.bgColor,bgHoverColor=colors.bgHoverColor,tableStyles.buildCellContainerStyle(textColor,bgColor,bgHoverColor,!disableOverflowOnHover,isStringValue,shouldWrapText,textWrapped,rowStyled,rowExpanded)}(tableStyles,cellOptions,displayValue,inspectEnabled,isStringValue,displayValue.text.length<=140&&/\s/.test(displayValue.text),textWrapped,rowStyled,rowExpanded);if(isStringValue){let justifyContent=cellProps.style?.justifyContent;"flex-end"===justifyContent?cellProps.style={...cellProps.style,textAlign:"right"}:"center"===justifyContent&&(cellProps.style={...cellProps.style,textAlign:"center"})}height&&(cellProps.style={...cellProps.style,height:height}),textWrapped&&(cellProps.style={...cellProps.style,textWrap:"wrap"});const{key:key,...rest}=cellProps,links=getCellLinks(field,row)||[],[tooltipCoords,setTooltipCoords]=(0,react.useState)(),{shouldShowLink:shouldShowLink,hasMultipleLinksOrActions:hasMultipleLinksOrActions}=getDataLinksActionsTooltipUtils(links),shouldShowTooltip=hasMultipleLinksOrActions&&void 0!==tooltipCoords;return(0,jsx_runtime.jsxs)("div",{...rest,className:cellStyle,style:{...cellProps.style,cursor:hasMultipleLinksOrActions?"context-menu":"auto"},onClick:tooltipOnClickHandler(setTooltipCoords),children:[shouldShowLink?renderSingleLink(links[0],value,getLinkStyle(tableStyles,cellOptions)):shouldShowTooltip?(0,jsx_runtime.jsx)(DataLinksActionsTooltip,{links:links,value:value,coords:tooltipCoords,onTooltipClose:()=>setTooltipCoords(void 0)}):isStringValue?`${value}`:(0,jsx_runtime.jsx)("div",{className:tableStyles.cellText,children:value}),showActions&&(0,jsx_runtime.jsx)(CellActions,{...props,previewMode:TableCellInspectorMode.text,showFilters:showFilters})]},key)},getLinkStyle=(tableStyles,cellOptions)=>cellOptions.type===common_gen.ob.Auto?tableStyles.cellLink:tableStyles.cellLinkForColoredCell;try{DefaultCell.displayName="DefaultCell",DefaultCell.__docgenInfo={description:"",displayName:"DefaultCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/DefaultCell.tsx#DefaultCell"]={docgenInfo:DefaultCell.__docgenInfo,name:"DefaultCell",path:"src/components/Table/Cells/DefaultCell.tsx#DefaultCell"})}catch(__react_docgen_typescript_loader_error){}var WKT=__webpack_require__("../../node_modules/ol/format/WKT.js"),Geometry=__webpack_require__("../../node_modules/ol/geom/Geometry.js");function GeoCell(props){const{cell:cell,tableStyles:tableStyles,cellProps:cellProps}=props;let disp="";return cell.value instanceof Geometry.A?disp=(new WKT.A).writeGeometry(cell.value,{featureProjection:"EPSG:3857",dataProjection:"EPSG:4326"}):null!=cell.value&&(disp=`${cell.value}`),(0,jsx_runtime.jsx)("div",{...cellProps,className:tableStyles.cellContainer,children:(0,jsx_runtime.jsx)("div",{className:tableStyles.cellText,style:{fontFamily:"monospace"},children:disp})})}try{GeoCell.displayName="GeoCell",GeoCell.__docgenInfo={description:"",displayName:"GeoCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/GeoCell.tsx#GeoCell"]={docgenInfo:GeoCell.__docgenInfo,name:"GeoCell",path:"src/components/Table/Cells/GeoCell.tsx#GeoCell"})}catch(__react_docgen_typescript_loader_error){}const ImageCell=props=>{const{field:field,cell:cell,tableStyles:tableStyles,row:row,cellProps:cellProps}=props,cellOptions=getCellOptions(field),{title:title,alt:alt}=cellOptions.type===common_gen.ob.Image?cellOptions:{title:void 0,alt:void 0},displayValue=field.display(cell.value),links=getCellLinks(field,row)||[],[tooltipCoords,setTooltipCoords]=(0,react.useState)(),{shouldShowLink:shouldShowLink,hasMultipleLinksOrActions:hasMultipleLinksOrActions}=getDataLinksActionsTooltipUtils(links),shouldShowTooltip=hasMultipleLinksOrActions&&void 0!==tooltipCoords,img=(0,jsx_runtime.jsx)("img",{style:{height:tableStyles.cellHeight-10,width:"auto"},src:displayValue.text,className:tableStyles.imageCell,alt:alt,title:title});return(0,jsx_runtime.jsx)("div",{...cellProps,className:tableStyles.cellContainer,style:{...cellProps.style,cursor:hasMultipleLinksOrActions?"context-menu":"auto"},onClick:tooltipOnClickHandler(setTooltipCoords),children:shouldShowLink?renderSingleLink(links[0],img):shouldShowTooltip?(0,jsx_runtime.jsx)(DataLinksActionsTooltip,{links:links,value:img,coords:tooltipCoords,onTooltipClose:()=>setTooltipCoords(void 0)}):img})};try{ImageCell.displayName="ImageCell",ImageCell.__docgenInfo={description:"",displayName:"ImageCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/ImageCell.tsx#ImageCell"]={docgenInfo:ImageCell.__docgenInfo,name:"ImageCell",path:"src/components/Table/Cells/ImageCell.tsx#ImageCell"})}catch(__react_docgen_typescript_loader_error){}function JSONViewCell(props){const{cell:cell,tableStyles:tableStyles,cellProps:cellProps,field:field,row:row}=props,inspectEnabled=Boolean(field.config.custom?.inspect),txt=(0,emotion_css_esm.AH)({cursor:"pointer",fontFamily:"monospace"});let value=cell.value,displayValue=value;if((0,lodash.isString)(value))try{value=JSON.parse(value)}catch{}else displayValue=JSON.stringify(value,null," ");const links=getCellLinks(field,row)||[],[tooltipCoords,setTooltipCoords]=(0,react.useState)(),{shouldShowLink:shouldShowLink,hasMultipleLinksOrActions:hasMultipleLinksOrActions}=getDataLinksActionsTooltipUtils(links),shouldShowTooltip=hasMultipleLinksOrActions&&void 0!==tooltipCoords;return(0,jsx_runtime.jsxs)("div",{...cellProps,className:inspectEnabled?tableStyles.cellContainerNoOverflow:tableStyles.cellContainer,children:[(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(tableStyles.cellText,txt),onClick:tooltipOnClickHandler(setTooltipCoords),children:shouldShowLink?renderSingleLink(links[0],displayValue):shouldShowTooltip?(0,jsx_runtime.jsx)(DataLinksActionsTooltip,{links:links,value:displayValue,coords:tooltipCoords,onTooltipClose:()=>setTooltipCoords(void 0)}):(0,jsx_runtime.jsx)("div",{className:tableStyles.cellText,children:displayValue})}),inspectEnabled&&(0,jsx_runtime.jsx)(CellActions,{...props,previewMode:TableCellInspectorMode.code})]})}try{JSONViewCell.displayName="JSONViewCell",JSONViewCell.__docgenInfo={description:"",displayName:"JSONViewCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/JSONViewCell.tsx#JSONViewCell"]={docgenInfo:JSONViewCell.__docgenInfo,name:"JSONViewCell",path:"src/components/Table/Cells/JSONViewCell.tsx#JSONViewCell"})}catch(__react_docgen_typescript_loader_error){}var measureText=__webpack_require__("./src/utils/measureText.ts"),FormattedValueDisplay=__webpack_require__("./src/components/FormattedValueDisplay/FormattedValueDisplay.tsx"),Sparkline=__webpack_require__("./src/components/Sparkline/Sparkline.tsx");const defaultSparklineCellConfig={type:common_gen.ob.Sparkline,drawStyle:common_gen.GR.Line,lineInterpolation:common_gen.dx.Smooth,lineWidth:1,fillOpacity:17,gradientMode:common_gen.on.Hue,pointSize:2,barAlignment:common_gen.Nj.Center,showPoints:common_gen.yL.Never,hideValue:!1},SparklineCell=props=>{const{field:field,innerWidth:innerWidth,tableStyles:tableStyles,cell:cell,cellProps:cellProps,timeRange:timeRange}=props,sparkline=function getSparkline(value){if(Array.isArray(value))return{y:{name:"test",type:dataFrame.PU.number,values:value,config:{}}};if((0,processDataFrame.ci)(value)){const timeField=value.fields.find((x=>x.type===dataFrame.PU.time)),numberField=value.fields.find((x=>x.type===dataFrame.PU.number));if(timeField&&numberField)return{x:timeField,y:numberField}}return}(cell.value),theme=(0,ThemeContext.$j)();if(!sparkline)return(0,jsx_runtime.jsx)("div",{...cellProps,className:tableStyles.cellContainer,children:field.config.noValue||"no data"});sparkline.x&&!sparkline.x.config.interval&&sparkline.x.values.length>1&&(sparkline.x.config.interval=sparkline.x.values[1]-sparkline.x.values[0]),sparkline.y.values=sparkline.y.values.map((v=>Number.isFinite(v)?v:null));const range=(0,scale.AP)(sparkline.y);sparkline.y.config.min=range.min,sparkline.y.config.max=range.max,sparkline.y.state={range:range},sparkline.timeRange=timeRange;const cellOptions=function getTableSparklineCellOptions(field){let options=getCellOptions(field);options.type===common_gen.ob.Auto&&(options={...options,type:common_gen.ob.Sparkline});if(options.type===common_gen.ob.Sparkline)return options;throw new Error(`Expected options type ${common_gen.ob.Sparkline} but got ${options.type}`)}(field),config={color:field.config.color,custom:{...defaultSparklineCellConfig,...cellOptions}},hideValue=field.config.custom?.cellOptions?.hideValue;let valueWidth=0,valueElement=null;if(!hideValue){const value=(0,processDataFrame.LI)(cell.value)?cell.value.value:null,displayValue=field.display(value),alignmentFactor=getAlignmentFactor(field,displayValue,cell.row.index);valueWidth=(0,measureText.kD)((0,valueFormats.cN)(alignmentFactor),16).width+theme.spacing.gridSize,valueElement=(0,jsx_runtime.jsx)(FormattedValueDisplay.i,{style:{width:valueWidth-theme.spacing.gridSize+"px",textAlign:"right",marginRight:theme.spacing(1)},value:displayValue})}return(0,jsx_runtime.jsxs)("div",{...cellProps,className:tableStyles.cellContainer,children:[valueElement,(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Sparkline.O,{width:innerWidth-valueWidth,height:tableStyles.cellHeightInner,sparkline:sparkline,config:config,theme:tableStyles.theme})})]})};try{SparklineCell.displayName="SparklineCell",SparklineCell.__docgenInfo={description:"",displayName:"SparklineCell",props:{tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},cellProps:{defaultValue:null,description:"",name:"cellProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"Field<any>"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},innerWidth:{defaultValue:null,description:"",name:"innerWidth",required:!0,type:{name:"number"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ActionModel<any>[]"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"readonly any[]"}},getRowId:{defaultValue:null,description:"",name:"getRowId",required:!1,type:{name:"((originalRow: any, relativeIndex: number, parent?: Row<any>) => string)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"Partial<TableState<any>>"}},stateReducer:{defaultValue:null,description:"",name:"stateReducer",required:!1,type:{name:"((newState: TableState<any>, action: ActionType, previousState: TableState<any>, instance?: TableInstance<any>) => TableState<...>)"}},useControlledState:{defaultValue:null,description:"",name:"useControlledState",required:!1,type:{name:"((state: TableState<any>, meta: MetaBase<any>) => TableState<any>)"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"Partial<Column<any>>"}},getSubRows:{defaultValue:null,description:"",name:"getSubRows",required:!1,type:{name:"((originalRow: any, relativeIndex: number) => any[])"}},autoResetHiddenColumns:{defaultValue:null,description:"",name:"autoResetHiddenColumns",required:!1,type:{name:"boolean"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnInstance<any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row<any>"}},cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<any, any>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/SparklineCell.tsx#SparklineCell"]={docgenInfo:SparklineCell.__docgenInfo,name:"SparklineCell",path:"src/components/Table/Cells/SparklineCell.tsx#SparklineCell"})}catch(__react_docgen_typescript_loader_error){}const FooterCell=props=>{const cell=(0,emotion_css_esm.AH)({width:"100%",listStyle:"none"}),list=(0,emotion_css_esm.AH)({width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"});return props.value&&!Array.isArray(props.value)?(0,jsx_runtime.jsx)("span",{children:props.value}):props.value&&Array.isArray(props.value)&&props.value.length>0?(0,jsx_runtime.jsx)("ul",{className:cell,children:props.value.map(((v,i)=>{const key=Object.keys(v)[0];return(0,jsx_runtime.jsxs)("li",{className:list,children:[(0,jsx_runtime.jsx)("span",{children:key}),(0,jsx_runtime.jsx)("span",{children:v[key]})]},i)}))}):EmptyCell},EmptyCell=()=>(0,jsx_runtime.jsx)("span",{children:""});try{FooterCell.displayName="FooterCell",FooterCell.__docgenInfo={description:"",displayName:"FooterCell",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"FooterItem"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/FooterCell.tsx#FooterCell"]={docgenInfo:FooterCell.__docgenInfo,name:"FooterCell",path:"src/components/Table/Cells/FooterCell.tsx#FooterCell"})}catch(__react_docgen_typescript_loader_error){}function FooterRow(props){const{totalColumnsWidth:totalColumnsWidth,footerGroups:footerGroups,isPaginationVisible:isPaginationVisible,tableStyles:tableStyles}=props,e2eSelectorsTable=selectors.Tp.components.Panels.Visualization.Table;return(0,jsx_runtime.jsx)("div",{style:{position:isPaginationVisible?"relative":"absolute",width:totalColumnsWidth?`${totalColumnsWidth}px`:"100%",bottom:"0px"},children:footerGroups.map((footerGroup=>{const{key:key,...footerGroupProps}=footerGroup.getFooterGroupProps();return(0,react.createElement)("div",{className:tableStyles.tfoot,...footerGroupProps,key:key,"data-testid":e2eSelectorsTable.footer},footerGroup.headers.map((column=>function renderFooterCell(column,tableStyles){const{key:key,...footerProps}=column.getHeaderProps();if(!footerProps)return null;return footerProps.style=footerProps.style??{},footerProps.style.position="absolute",footerProps.style.justifyContent=column.justifyContent,(0,jsx_runtime.jsx)("div",{className:tableStyles.headerCell,...footerProps,children:column.render("Footer")},key)}(column,tableStyles))))}))})}function getFooterValue(index,footerValues,isCountRowsSet){if(void 0===footerValues)return EmptyCell;if(isCountRowsSet){if(void 0===footerValues[index])return EmptyCell;const key=fieldReducer.AS.get(fieldReducer.gy.count).name;return FooterCell({value:[{[key]:String(footerValues[index])}]})}return FooterCell({value:footerValues[index]})}try{FooterRow.displayName="FooterRow",FooterRow.__docgenInfo={description:"",displayName:"FooterRow",props:{totalColumnsWidth:{defaultValue:null,description:"",name:"totalColumnsWidth",required:!0,type:{name:"number"}},footerGroups:{defaultValue:null,description:"",name:"footerGroups",required:!0,type:{name:"HeaderGroup<{}>[]"}},footerValues:{defaultValue:null,description:"",name:"footerValues",required:!0,type:{name:"FooterItem[]"}},isPaginationVisible:{defaultValue:null,description:"",name:"isPaginationVisible",required:!0,type:{name:"boolean"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/FooterRow.tsx#FooterRow"]={docgenInfo:FooterRow.__docgenInfo,name:"FooterRow",path:"src/components/Table/TableRT/FooterRow.tsx#FooterRow"})}catch(__react_docgen_typescript_loader_error){}function RowExpander({row:row,tableStyles:tableStyles}){return(0,jsx_runtime.jsx)("div",{className:tableStyles.expanderCell,...row.getToggleRowExpandedProps(),children:(0,jsx_runtime.jsx)(Icon.I,{"aria-label":row.isExpanded?(0,i18n.t)("grafana-ui.row-expander.collapse","Collapse row"):(0,i18n.t)("grafana-ui.row-expander.expand","Expand row"),name:row.isExpanded?"angle-down":"angle-right",size:"lg"})})}try{RowExpander.displayName="RowExpander",RowExpander.__docgenInfo={description:"",displayName:"RowExpander",props:{row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"GrafanaTableRow"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/RowExpander.tsx#RowExpander"]={docgenInfo:RowExpander.__docgenInfo,name:"RowExpander",path:"src/components/Table/TableRT/RowExpander.tsx#RowExpander"})}catch(__react_docgen_typescript_loader_error){}function getTextAlign(field){if(!field)return"flex-start";if(field.config.custom){switch(field.config.custom.align){case"right":return"flex-end";case"left":return"flex-start";case"center":return"center"}}return field.type===dataFrame.PU.number?"flex-end":"flex-start"}function getCellComponent(displayMode,field){switch(displayMode){case common_gen.ob.Custom:case common_gen.ob.ColorText:case common_gen.ob.ColorBackground:return DefaultCell;case common_gen.ob.Image:return ImageCell;case common_gen.ob.Gauge:return BarGaugeCell;case common_gen.ob.Sparkline:return SparklineCell;case common_gen.ob.JSONView:return JSONViewCell;case common_gen.ob.DataLinks:return DataLinksCell;case common_gen.ob.Actions:return ActionsCell;case common_gen.ob.Pill:return DefaultCell}if(field.type===dataFrame.PU.geo)return GeoCell;if(field.type===dataFrame.PU.frame){const firstValue=field.values[0];return(0,processDataFrame.ci)(firstValue)&&isTimeSeriesFrame(firstValue)?SparklineCell:JSONViewCell}return field.type===dataFrame.PU.other?JSONViewCell:DefaultCell}function filterByValue(field){return function(rows,id,filterValues){return 0===rows.length?rows:filterValues&&field?rows.filter((row=>{if(!row.values.hasOwnProperty(id))return!1;const value=rowToFieldValue(row,field);return void 0!==filterValues.find((filter=>filter.value===value))})):rows}}function rowToFieldValue(row,field){if(!field||!row)return"";const fieldValue=field.values[row.index],displayValue=field.display?field.display(fieldValue):fieldValue;return field.display?(0,valueFormats.cN)(displayValue):displayValue}function sortOptions(a,b){return void 0===a.label&&void 0===b.label?0:void 0===a.label&&void 0!==b.label?-1:void 0!==a.label&&void 0===b.label?1:a.label<b.label?-1:a.label>b.label?1:0}function sortCaseInsensitive(a,b,id){return String(a.values[id]).localeCompare(String(b.values[id]),void 0,{sensitivity:"base"})}function sortNumber(rowA,rowB,id){const a=toNumber(rowA.values[id]),b=toNumber(rowB.values[id]);return a===b?0:a>b?1:-1}function toNumber(value){return(0,processDataFrame.LI)(value)?value.value??Number.NEGATIVE_INFINITY:null==value||""===value||isNaN(value)?Number.NEGATIVE_INFINITY:"number"==typeof value?value:Number(value)}function getFooterItems(filterFields,values,options,theme2){return addMissingColumnIndex(filterFields),filterFields.map(((data,i)=>{if(data?.field?.type!==dataFrame.PU.number){if(0===i&&options.reducer&&options.reducer.length>0){return fieldReducer.AS.get(options.reducer[0]).name}return}let newField=(0,lodash.clone)(data.field);if(newField.values=values[data.id],newField.state=void 0,data.field=newField,options.fields&&options.fields.length>0){return options.fields.find((f=>f===data?.field?.name))?getFormattedValue(data.field,options.reducer,theme2):void 0}return getFormattedValue(data.field,options.reducer||[],theme2)}))}function getFormattedValue(field,reducer,theme){const calc=reducer[0];if(void 0===calc)return"";const format=field.display??(0,displayProcessor.J)({field:field,theme:theme}),fieldCalcValue=(0,fieldReducer.Nw)({field:field,reducers:reducer})[calc];return fieldReducer.AS.get(calc).preservesUnits?(0,valueFormats.cN)(format(fieldCalcValue)):(0,valueFormats.cN)({text:fieldCalcValue})}const defaultCellOptions={type:common_gen.ob.Auto};function getCellOptions(field){return field.config.custom?.displayMode?function migrateTableDisplayModeToCellOptions(displayMode){switch(displayMode){case"basic":case"gradient-gauge":case"lcd-gauge":let gaugeMode=common_gen.eX.Basic;return"gradient-gauge"===displayMode?gaugeMode=common_gen.eX.Gradient:"lcd-gauge"===displayMode&&(gaugeMode=common_gen.eX.Lcd),{type:common_gen.ob.Gauge,mode:gaugeMode};case"color-background":case"color-background-solid":let mode=common_gen.Wq.Basic;return"color-background"===displayMode&&(mode=common_gen.Wq.Gradient),{type:common_gen.ob.ColorBackground,mode:mode};default:return{type:displayMode}}}(field.config.custom?.displayMode):field.config.custom?.cellOptions?field.config.custom.cellOptions:defaultCellOptions}function addMissingColumnIndex(columns){const missingIndex=columns.findIndex(((field,index)=>field?.id!==String(index)));-1!==missingIndex&&"expander"!==columns[missingIndex]?.id&&(columns.splice(missingIndex,0,{id:String(missingIndex)}),addMissingColumnIndex(columns))}function getAlignmentFactor(field,displayValue,rowIndex){let alignmentFactor=field.state?.alignmentFactors;if(alignmentFactor)return(0,valueFormats.cN)(alignmentFactor).length<(0,valueFormats.cN)(displayValue).length&&(alignmentFactor={...displayValue},field.state.alignmentFactors=alignmentFactor),alignmentFactor;{alignmentFactor={...displayValue};const maxIndex=Math.min(field.values.length,rowIndex+1e3);for(let i=rowIndex+1;i<maxIndex;i++){const nextDisplayValue=field.display(field.values[i]);(0,valueFormats.cN)(alignmentFactor).length>(0,valueFormats.cN)(nextDisplayValue).length&&(alignmentFactor.text=displayValue.text)}return field.state?field.state.alignmentFactors=alignmentFactor:field.state={alignmentFactors:alignmentFactor},alignmentFactor}}function isPointTimeValAroundTableTimeVal(pointTime,rowTime,threshold){return Math.abs(Math.floor(pointTime)-rowTime)<threshold}function getCellColors(theme,cellOptions,displayValue){const darkeningFactor=theme.isDark?1:-.7;let textColor,bgColor,bgHoverColor;if(cellOptions.type===common_gen.ob.ColorText)textColor=displayValue.color;else if(cellOptions.type===common_gen.ob.ColorBackground){const mode=cellOptions.mode??common_gen.Wq.Gradient;if(mode===common_gen.Wq.Basic)textColor=(0,colors.mZ)(displayValue.color,theme.isDark),bgColor=(0,tinycolor.A)(displayValue.color).toRgbString(),bgHoverColor=(0,tinycolor.A)(displayValue.color).setAlpha(1).toRgbString();else if(mode===common_gen.Wq.Gradient){const hoverColor=(0,tinycolor.A)(displayValue.color).setAlpha(1).toRgbString(),bgColor2=(0,tinycolor.A)(displayValue.color).darken(10*darkeningFactor).spin(5);textColor=(0,colors.mZ)(displayValue.color,theme.isDark),bgColor=`linear-gradient(120deg, ${bgColor2.toRgbString()}, ${displayValue.color})`,bgHoverColor=`linear-gradient(120deg, ${bgColor2.setAlpha(1).toRgbString()}, ${hoverColor})`}}return{textColor:textColor,bgColor:bgColor,bgHoverColor:bgHoverColor}}function guessTextBoundingBox(text,headerGroup,osContext,lineHeight,defaultRowHeight,padding=0){const width=Number(headerGroup?.width??300),PADDING=2*padding;if(null!==osContext&&"string"==typeof text){const words=text.split(/\s/),lines=[];let currentLine="",wordCount=0,extraLines=0;for(let i=0;i<words.length;i++){const currentWord=words[i];let lineWidth=osContext.measureText(currentLine+" "+currentWord).width;lineWidth<width-PADDING?(currentLine+=" "+currentWord,wordCount++):(lines.push({width:lineWidth,line:currentLine}),currentLine=currentWord,wordCount=0)}for(let i=0;i<lines.length;i++)if(lines[i].width>width){extraLines+=Math.floor(lines[i].width/width)-1}let lineNumber=lines.length+extraLines,height=38;return height=lineNumber>5?lineNumber*lineHeight*1.17:lineNumber*lineHeight+42,height+=PADDING,{width:width,height:height}}return{width:width,height:defaultRowHeight}}const getDataLinksActionsTooltipUtils=(links,actions)=>{const hasMultipleLinksOrActions=links.length>1||Boolean(actions?.length);return{shouldShowLink:1===links.length&&!Boolean(actions?.length),hasMultipleLinksOrActions:hasMultipleLinksOrActions}},tooltipOnClickHandler=setTooltipCoords=>event=>{if((event=>event.target===event.currentTarget)(event)){const{clientX:clientX,clientY:clientY}=event;setTooltipCoords({clientX:clientX,clientY:clientY})}};var icon=__webpack_require__("./src/types/icon.ts"),Popover=__webpack_require__("./src/components/Tooltip/Popover.tsx"),index_esm=__webpack_require__("../../node_modules/react-window/dist/index.esm.js"),ButtonSelect=__webpack_require__("./src/components/Dropdown/ButtonSelect.tsx"),FilterInput=__webpack_require__("./src/components/FilterInput/FilterInput.tsx"),Checkbox=__webpack_require__("./src/components/Forms/Checkbox.tsx"),Label=__webpack_require__("./src/components/Forms/Label.tsx");const operatorSelectableValues={Contains:{label:"Contains",value:"Contains",description:"Contains"},"=":{label:"=",value:"=",description:"Equals"},"!=":{label:"!=",value:"!=",description:"Not equals"},">":{label:">",value:">",description:"Greater"},">=":{label:">=",value:">=",description:"Greater or Equal"},"<":{label:"<",value:"<",description:"Less"},"<=":{label:"<=",value:"<=",description:"Less or Equal"},Expression:{label:"Expression",value:"Expression",description:'Bool Expression (Char $ represents the column value in the expression, e.g. "$ >= 10 && $ <= 12")'}},OPERATORS=Object.values(operatorSelectableValues),REGEX_OPERATOR=operatorSelectableValues.Contains,XPR_OPERATOR=operatorSelectableValues.Expression,comparableValue=value=>{if(value=value.trim().replace(/\\/g,""),/^(\d{4}-\d{2}-\d{2}|\d{4}\/\d{2}\/\d{2})/.test(value)){const date=new Date(value);if(!isNaN(date.getTime())){const fmt=(0,valueFormats.j_)("dateTimeAsIso");return(0,valueFormats.cN)(fmt(date.getTime()))}}const num=parseFloat(value);if(!isNaN(num))return num;const lvalue=value.toLowerCase();return"true"===lvalue||"false"===lvalue?"true"===lvalue:value},FilterList=({options:options,values:values,caseSensitive:caseSensitive,showOperators:showOperators,onChange:onChange,searchFilter:searchFilter,setSearchFilter:setSearchFilter,operator:operator,setOperator:setOperator})=>{const regex=(0,react.useMemo)((()=>new RegExp(searchFilter,caseSensitive?void 0:"i")),[searchFilter,caseSensitive]),items=(0,react.useMemo)((()=>options.filter((option=>{if(showOperators&&searchFilter&&operator.value!==REGEX_OPERATOR.value){if(operator.value===XPR_OPERATOR.value){if(void 0===option.value)return!1;try{const xpr=searchFilter.replace(/\\/g,""),fnc=new Function("$",`'use strict'; return ${xpr};`);return fnc(comparableValue(option.value))}catch(_){}return!1}{if(void 0===option.value)return!1;const value1=comparableValue(option.value),value2=comparableValue(searchFilter);switch(operator.value){case"=":return value1===value2;case"!=":return value1!==value2;case">":return value1>value2;case">=":return value1>=value2;case"<":return value1<value2;case"<=":return value1<=value2}return!1}}return void 0!==option.label&&regex.test(option.label)}))),[options,regex,showOperators,operator,searchFilter]),selectedItems=(0,react.useMemo)((()=>items.filter((item=>values.includes(item)))),[items,values]),selectCheckValue=(0,react.useMemo)((()=>items.length===selectedItems.length),[items,selectedItems]),selectCheckIndeterminate=(0,react.useMemo)((()=>selectedItems.length>0&&items.length>selectedItems.length),[items,selectedItems]),selectCheckLabel=(0,react.useMemo)((()=>selectedItems.length?`${selectedItems.length} selected`:"Select all"),[selectedItems]),selectCheckDescription=(0,react.useMemo)((()=>items.length!==selectedItems.length?"Add all displayed values to the filter":"Remove all displayed values from the filter"),[items,selectedItems]),styles=(0,ThemeContext.of)(FilterList_getStyles),gutter=(0,ThemeContext.$j)().spacing.gridSize,height=(0,react.useMemo)((()=>Math.min(28*items.length,140)+gutter),[gutter,items.length]),onCheckedChanged=(0,react.useCallback)((option=>event=>{const newValues=event.currentTarget.checked?values.concat(option):values.filter((c=>c.value!==option.value));onChange(newValues)}),[onChange,values]),onSelectChanged=(0,react.useCallback)((()=>{if(items.length===selectedItems.length){const newValues=values.filter((item=>!items.includes(item)));onChange(newValues)}else{const newValues=[...new Set([...values,...items])];onChange(newValues)}}),[onChange,values,items,selectedItems]);return(0,jsx_runtime.jsxs)(Stack.B,{direction:"column",gap:.25,children:[!showOperators&&(0,jsx_runtime.jsx)(FilterInput.Z,{placeholder:(0,i18n.t)("grafana-ui.table.filter-placeholder","Filter values"),onChange:setSearchFilter,value:searchFilter}),showOperators&&(0,jsx_runtime.jsxs)(Stack.B,{direction:"row",gap:0,children:[(0,jsx_runtime.jsx)(ButtonSelect.f,{variant:"canvas",options:OPERATORS,onChange:setOperator,value:operator,tooltip:operator.description}),(0,jsx_runtime.jsx)(FilterInput.Z,{placeholder:(0,i18n.t)("grafana-ui.table.filter-placeholder","Filter values"),onChange:setSearchFilter,value:searchFilter})]}),items.length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(index_esm.Y1,{height:height,itemCount:items.length,itemSize:28,itemData:{items:items,values:selectedItems,onCheckedChanged:onCheckedChanged,className:styles.filterListRow},width:"100%",className:styles.filterList,children:ItemRenderer}),(0,jsx_runtime.jsxs)(Stack.B,{direction:"column",gap:.25,children:[(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(styles.selectDivider)}),(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(styles.filterListRow),children:(0,jsx_runtime.jsx)(Checkbox.S,{value:selectCheckValue,indeterminate:selectCheckIndeterminate,label:selectCheckLabel,description:selectCheckDescription,onChange:onSelectChanged})})]})]}):(0,jsx_runtime.jsx)(Label.J,{className:styles.noValuesLabel,children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.table.no-values-label",children:"No values"})})]})};function ItemRenderer({index:index,style:style,data:{onCheckedChanged:onCheckedChanged,items:items,values:values,className:className}}){const option=items[index],{value:value,label:label}=option,isChecked=void 0!==values.find((s=>s.value===value));return(0,jsx_runtime.jsx)("div",{className:className,style:style,title:label,children:(0,jsx_runtime.jsx)(Checkbox.S,{value:isChecked,label:label,onChange:onCheckedChanged(option)})})}const FilterList_getStyles=theme=>({filterList:(0,emotion_css_esm.AH)({label:"filterList"}),filterListRow:(0,emotion_css_esm.AH)({label:"filterListRow",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",padding:theme.spacing(.5),":hover":{backgroundColor:theme.colors.action.hover}}),selectDivider:(0,emotion_css_esm.AH)({label:"selectDivider",width:"100%",borderTop:`1px solid ${theme.colors.border.medium}`,padding:theme.spacing(.5,2)}),noValuesLabel:(0,emotion_css_esm.AH)({paddingTop:theme.spacing(1)})});try{FilterList.displayName="FilterList",FilterList.__docgenInfo={description:"",displayName:"FilterList",props:{values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"SelectableValue<any>[]"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SelectableValue<any>[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(options: SelectableValue<any>[]) => void"}},caseSensitive:{defaultValue:null,description:"",name:"caseSensitive",required:!1,type:{name:"boolean"}},showOperators:{defaultValue:null,description:"",name:"showOperators",required:!1,type:{name:"boolean"}},searchFilter:{defaultValue:null,description:"",name:"searchFilter",required:!0,type:{name:"string"}},setSearchFilter:{defaultValue:null,description:"",name:"setSearchFilter",required:!0,type:{name:"(value: string) => void"}},operator:{defaultValue:null,description:"",name:"operator",required:!0,type:{name:"SelectableValue<string>"}},setOperator:{defaultValue:null,description:"",name:"setOperator",required:!0,type:{name:"(item: SelectableValue<string>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/FilterList.tsx#FilterList"]={docgenInfo:FilterList.__docgenInfo,name:"FilterList",path:"src/components/Table/TableRT/FilterList.tsx#FilterList"})}catch(__react_docgen_typescript_loader_error){}var ClickOutsideWrapper=__webpack_require__("./src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx");const FilterPopup=({column:{preFilteredRows:preFilteredRows,filterValue:filterValue,setFilter:setFilter},onClose:onClose,field:field,searchFilter:searchFilter,setSearchFilter:setSearchFilter,operator:operator,setOperator:setOperator})=>{const theme=(0,ThemeContext.$j)(),uniqueValues=(0,react.useMemo)((()=>function calculateUniqueFieldValues(rows,field){if(!field||0===rows.length)return{};const set={};for(let index=0;index<rows.length;index++){const value=rowToFieldValue(rows[index],field);set[value||"(Blanks)"]=value}return set}(preFilteredRows,field)),[preFilteredRows,field]),options=(0,react.useMemo)((()=>function valuesToOptions(unique){return Object.keys(unique).reduce(((all,key)=>all.concat({value:unique[key],label:key})),[]).sort(sortOptions)}(uniqueValues)),[uniqueValues]),filteredOptions=(0,react.useMemo)((()=>function getFilteredOptions(options,filterValues){return filterValues?options.filter((option=>filterValues.some((filtered=>filtered.value===option.value)))):[]}(options,filterValue)),[options,filterValue]),[values,setValues]=(0,react.useState)(filteredOptions),[matchCase,setMatchCase]=(0,react.useState)(!1),onCancel=(0,react.useCallback)((event=>onClose()),[onClose]),onFilter=(0,react.useCallback)((event=>{const filtered=values.length?values:void 0;setFilter(filtered),onClose()}),[setFilter,values,onClose]),onClearFilter=(0,react.useCallback)((event=>{setFilter(void 0),onClose()}),[setFilter,onClose]),clearFilterVisible=(0,react.useMemo)((()=>void 0!==filterValue),[filterValue]),styles=(0,ThemeContext.of)(FilterPopup_getStyles);return(0,jsx_runtime.jsx)(ClickOutsideWrapper.N,{onClick:onCancel,useCapture:!0,children:(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(styles.filterContainer),onClick:stopPropagation,children:(0,jsx_runtime.jsxs)(Stack.B,{direction:"column",gap:3,children:[(0,jsx_runtime.jsxs)(Stack.B,{direction:"column",gap:.5,children:[(0,jsx_runtime.jsxs)(Stack.B,{justifyContent:"space-between",alignItems:"center",children:[(0,jsx_runtime.jsx)(Label.J,{className:styles.label,children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.table.filter-popup-heading",children:"Filter by values:"})}),(0,jsx_runtime.jsx)(IconButton.K,{name:"text-fields",tooltip:(0,i18n.t)("grafana-ui.table.filter-popup-match-case","Match case"),style:{color:matchCase?theme.colors.text.link:theme.colors.text.disabled},onClick:()=>{setMatchCase((s=>!s))}})]}),(0,jsx_runtime.jsx)("div",{className:(0,emotion_css_esm.cx)(styles.listDivider)}),(0,jsx_runtime.jsx)(FilterList,{onChange:setValues,values:values,options:options,caseSensitive:matchCase,showOperators:!0,searchFilter:searchFilter,setSearchFilter:setSearchFilter,operator:operator,setOperator:setOperator})]}),(0,jsx_runtime.jsxs)(Stack.B,{gap:3,children:[(0,jsx_runtime.jsxs)(Stack.B,{children:[(0,jsx_runtime.jsx)(Button.$n,{size:"sm",onClick:onFilter,children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.table.filter-popup-apply",children:"Ok"})}),(0,jsx_runtime.jsx)(Button.$n,{size:"sm",variant:"secondary",onClick:onCancel,children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.table.filter-popup-cancel",children:"Cancel"})})]}),clearFilterVisible&&(0,jsx_runtime.jsx)(Stack.B,{children:(0,jsx_runtime.jsx)(Button.$n,{fill:"text",size:"sm",onClick:onClearFilter,children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"grafana-ui.table.filter-popup-clear",children:"Clear filter"})})})]})]})})})},FilterPopup_getStyles=theme=>({filterContainer:(0,emotion_css_esm.AH)({label:"filterContainer",width:"100%",minWidth:"250px",height:"100%",maxHeight:"400px",backgroundColor:theme.colors.background.primary,border:`1px solid ${theme.colors.border.weak}`,padding:theme.spacing(2),boxShadow:theme.shadows.z3,borderRadius:theme.shape.radius.default}),listDivider:(0,emotion_css_esm.AH)({label:"listDivider",width:"100%",borderTop:`1px solid ${theme.colors.border.medium}`,padding:theme.spacing(.5,2)}),label:(0,emotion_css_esm.AH)({marginBottom:0})}),stopPropagation=event=>{event.stopPropagation()};try{FilterPopup.displayName="FilterPopup",FilterPopup.__docgenInfo={description:"",displayName:"FilterPopup",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"any"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"Field<any>"}},searchFilter:{defaultValue:null,description:"",name:"searchFilter",required:!0,type:{name:"string"}},setSearchFilter:{defaultValue:null,description:"",name:"setSearchFilter",required:!0,type:{name:"(value: string) => void"}},operator:{defaultValue:null,description:"",name:"operator",required:!0,type:{name:"SelectableValue<string>"}},setOperator:{defaultValue:null,description:"",name:"setOperator",required:!0,type:{name:"(item: SelectableValue<string>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/FilterPopup.tsx#FilterPopup"]={docgenInfo:FilterPopup.__docgenInfo,name:"FilterPopup",path:"src/components/Table/TableRT/FilterPopup.tsx#FilterPopup"})}catch(__react_docgen_typescript_loader_error){}const Filter=({column:column,field:field,tableStyles:tableStyles})=>{const ref=(0,react.useRef)(null),[isPopoverVisible,setPopoverVisible]=(0,react.useState)(!1),styles=(0,ThemeContext.of)(Filter_getStyles),filterEnabled=(0,react.useMemo)((()=>Boolean(column.filterValue)),[column.filterValue]),onShowPopover=(0,react.useCallback)((()=>setPopoverVisible(!0)),[setPopoverVisible]),onClosePopover=(0,react.useCallback)((()=>setPopoverVisible(!1)),[setPopoverVisible]),[searchFilter,setSearchFilter]=(0,react.useState)(""),[operator,setOperator]=(0,react.useState)(REGEX_OPERATOR);return field&&field.config.custom?.filterable?(0,jsx_runtime.jsxs)("button",{className:(0,emotion_css_esm.cx)(tableStyles.headerFilter,filterEnabled?styles.filterIconEnabled:styles.filterIconDisabled),ref:ref,type:"button",onClick:onShowPopover,children:[(0,jsx_runtime.jsx)(Icon.I,{name:"filter"}),isPopoverVisible&&ref.current&&(0,jsx_runtime.jsx)(Popover.A,{content:(0,jsx_runtime.jsx)(FilterPopup,{column:column,tableStyles:tableStyles,field:field,onClose:onClosePopover,searchFilter:searchFilter,setSearchFilter:setSearchFilter,operator:operator,setOperator:setOperator}),placement:"bottom-start",referenceElement:ref.current,show:!0})]}):null},Filter_getStyles=theme=>({filterIconEnabled:(0,emotion_css_esm.AH)({label:"filterIconEnabled",color:theme.colors.primary.text}),filterIconDisabled:(0,emotion_css_esm.AH)({label:"filterIconDisabled",color:theme.colors.text.disabled})});try{Filter.displayName="Filter",Filter.__docgenInfo={description:"",displayName:"Filter",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"any"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"Field<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/Filter.tsx#Filter"]={docgenInfo:Filter.__docgenInfo,name:"Filter",path:"src/components/Table/TableRT/Filter.tsx#Filter"})}catch(__react_docgen_typescript_loader_error){}const HeaderRow=props=>{const{headerGroups:headerGroups,showTypeIcons:showTypeIcons,tableStyles:tableStyles}=props,e2eSelectorsTable=selectors.Tp.components.Panels.Visualization.Table;return(0,jsx_runtime.jsx)("div",{role:"rowgroup",className:tableStyles.headerRow,children:headerGroups.map((headerGroup=>{const{key:key,...headerGroupProps}=headerGroup.getHeaderGroupProps();return(0,react.createElement)("div",{className:tableStyles.thead,...headerGroupProps,key:key,"aria-label":e2eSelectorsTable.header,role:"row"},headerGroup.headers.map(((column,index)=>function renderHeaderCell(column,tableStyles,showTypeIcons){const{key:key,...headerProps}=column.getHeaderProps(),field=column.field??null,tableFieldOptions=field?.config.custom;column.canResize&&(headerProps.style.userSelect=column.isResizing?"none":"auto");headerProps.style.position="absolute",headerProps.style.justifyContent=column.justifyContent,headerProps.style.left=column.totalLeft;let headerContent=column.render("Header"),sortHeaderContent=column.canSort&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("button",{...column.getSortByToggleProps(),className:tableStyles.headerCellLabel,children:[showTypeIcons&&(0,jsx_runtime.jsx)(Icon.I,{name:(0,icon.SS)(field),title:field?.type,size:"sm",className:tableStyles.typeIcon}),(0,jsx_runtime.jsx)("div",{children:headerContent}),column.isSorted&&(column.isSortedDesc?(0,jsx_runtime.jsx)(Icon.I,{size:"lg",name:"arrow-down",className:tableStyles.sortIcon}):(0,jsx_runtime.jsx)(Icon.I,{name:"arrow-up",size:"lg",className:tableStyles.sortIcon}))]}),column.canFilter&&(0,jsx_runtime.jsx)(Filter,{column:column,tableStyles:tableStyles,field:field})]});sortHeaderContent&&tableFieldOptions?.headerComponent?sortHeaderContent=(0,jsx_runtime.jsx)(tableFieldOptions.headerComponent,{field:field,defaultContent:sortHeaderContent}):tableFieldOptions?.headerComponent&&(headerContent=(0,jsx_runtime.jsx)(tableFieldOptions.headerComponent,{field:field,defaultContent:headerContent}));return(0,jsx_runtime.jsxs)("div",{className:tableStyles.headerCell,...headerProps,role:"columnheader",children:[column.canSort&&sortHeaderContent,!column.canSort&&headerContent,!column.canSort&&column.canFilter&&(0,jsx_runtime.jsx)(Filter,{column:column,tableStyles:tableStyles,field:field}),column.canResize&&(0,jsx_runtime.jsx)("div",{...column.getResizerProps(),className:tableStyles.resizeHandle})]},key)}(column,tableStyles,showTypeIcons))))}))})};try{HeaderRow.displayName="HeaderRow",HeaderRow.__docgenInfo={description:"",displayName:"HeaderRow",props:{headerGroups:{defaultValue:null,description:"",name:"headerGroups",required:!0,type:{name:"HeaderGroup<{}>[]"}},showTypeIcons:{defaultValue:null,description:"",name:"showTypeIcons",required:!1,type:{name:"boolean"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/HeaderRow.tsx#HeaderRow"]={docgenInfo:HeaderRow.__docgenInfo,name:"HeaderRow",path:"src/components/Table/TableRT/HeaderRow.tsx#HeaderRow"})}catch(__react_docgen_typescript_loader_error){}var Subscription=__webpack_require__("../../node_modules/rxjs/dist/esm5/internal/Subscription.js"),debounceTime=__webpack_require__("../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),common=__webpack_require__("../grafana-data/src/events/common.ts"),PanelContext=__webpack_require__("./src/components/PanelChrome/PanelContext.ts");const TableCell=({cell:cell,tableStyles:tableStyles,onCellFilterAdded:onCellFilterAdded,timeRange:timeRange,userProps:userProps,frame:frame,rowStyled:rowStyled,rowExpanded:rowExpanded,textWrapped:textWrapped,height:height,getActions:getActions,replaceVariables:replaceVariables,setInspectCell:setInspectCell})=>{const cellProps=cell.getCellProps(),field=cell.column.field;if(!field?.display)return null;if(cellProps.style){cellProps.style.wordBreak="break-word",cellProps.style.minWidth=cellProps.style.width;const justifyContent=cell.column.justifyContent;"flex-end"!==justifyContent||field.config.unit?cellProps.style.justifyContent=justifyContent:(cellProps.style.textAlign="right",cellProps.style.direction="rtl",cellProps.style.unicodeBidi="plaintext")}let innerWidth=("number"==typeof cell.column.width?cell.column.width:24)-2*tableStyles.cellPadding;const actions=getActions?getActions(frame,field,cell.row.index,replaceVariables):[];return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:cell.render("Cell",{field:field,tableStyles:tableStyles,onCellFilterAdded:onCellFilterAdded,cellProps:cellProps,innerWidth:innerWidth,timeRange:timeRange,userProps:userProps,frame:frame,rowStyled:rowStyled,rowExpanded:rowExpanded,textWrapped:textWrapped,height:height,actions:actions,setInspectCell:setInspectCell})})};try{TableCell.displayName="TableCell",TableCell.__docgenInfo={description:"",displayName:"TableCell",props:{cell:{defaultValue:null,description:"",name:"cell",required:!0,type:{name:"Cell<{}, any>"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},columnCount:{defaultValue:null,description:"",name:"columnCount",required:!0,type:{name:"number"}},timeRange:{defaultValue:null,description:"",name:"timeRange",required:!1,type:{name:"TimeRange"}},userProps:{defaultValue:null,description:"",name:"userProps",required:!1,type:{name:"object"}},frame:{defaultValue:null,description:"",name:"frame",required:!0,type:{name:"DataFrame"}},rowStyled:{defaultValue:null,description:"",name:"rowStyled",required:!1,type:{name:"boolean"}},rowExpanded:{defaultValue:null,description:"",name:"rowExpanded",required:!1,type:{name:"boolean"}},textWrapped:{defaultValue:null,description:"",name:"textWrapped",required:!1,type:{name:"boolean"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},getActions:{defaultValue:null,description:"",name:"getActions",required:!1,type:{name:"GetActionsFunction"}},replaceVariables:{defaultValue:null,description:"",name:"replaceVariables",required:!1,type:{name:"InterpolateFunction"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Cells/TableCell.tsx#TableCell"]={docgenInfo:TableCell.__docgenInfo,name:"TableCell",path:"src/components/Table/Cells/TableCell.tsx#TableCell"})}catch(__react_docgen_typescript_loader_error){}function ExpandedRow({tableStyles:tableStyles,nestedData:nestedData,rowIndex:rowIndex,width:width,cellHeight:cellHeight}){const frames=nestedData.values,subTables=[],theme=(0,ThemeContext.$j)(),styles=(0,ThemeContext.of)(ExpandedRow_getStyles);let top=tableStyles.rowHeight+theme.spacing.gridSize;return frames[rowIndex].forEach(((nf,nfIndex)=>{const noHeader=!!nf.meta?.custom?.noHeader,height=tableStyles.rowHeight*(nf.length+(noHeader?0:1)),subTable={height:height,paddingLeft:50,position:"absolute",top:top,backgroundColor:theme.colors.background.primary,color:theme.colors.text.primary};top+=height+theme.spacing.gridSize,subTables.push((0,jsx_runtime.jsx)("div",{style:subTable,children:(0,jsx_runtime.jsx)(Table,{data:nf,width:width-50,height:tableStyles.rowHeight*(nf.length+1),noHeader:noHeader,cellHeight:cellHeight})},`subTable_${rowIndex}_${nfIndex}`))})),(0,jsx_runtime.jsx)("div",{className:styles.subTables,children:subTables})}const ExpandedRow_getStyles=theme=>({subTables:(0,emotion_css_esm.AH)({"&:before":{content:'""',position:"absolute",width:"1px",top:theme.spacing(5),left:theme.spacing(1),bottom:theme.spacing(2),background:theme.colors.border.medium}})});try{ExpandedRow.displayName="ExpandedRow",ExpandedRow.__docgenInfo={description:"",displayName:"ExpandedRow",props:{nestedData:{defaultValue:null,description:"",name:"nestedData",required:!0,type:{name:"Field<any>"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},cellHeight:{defaultValue:null,description:"",name:"cellHeight",required:!0,type:{name:"enum",value:[{value:'"auto"'},{value:'"lg"'},{value:'"md"'},{value:'"sm"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/ExpandedRow.tsx#ExpandedRow"]={docgenInfo:ExpandedRow.__docgenInfo,name:"ExpandedRow",path:"src/components/Table/TableRT/ExpandedRow.tsx#ExpandedRow"})}catch(__react_docgen_typescript_loader_error){}const RowsList=props=>{const{data:data,rows:rows,headerHeight:headerHeight,footerPaginationEnabled:footerPaginationEnabled,rowHeight:rowHeight,itemCount:itemCount,pageIndex:pageIndex,tableState:tableState,prepareRow:prepareRow,onCellFilterAdded:onCellFilterAdded,width:width,cellHeight:cellHeight=common_gen.qM.Sm,timeRange:timeRange,tableStyles:tableStyles,nestedDataField:nestedDataField,listHeight:listHeight,listRef:listRef,enableSharedCrosshair:enableSharedCrosshair=!1,initialRowIndex:initialRowIndex,headerGroups:headerGroups,longestField:longestField,textWrapField:textWrapField,getActions:getActions,replaceVariables:replaceVariables,setInspectCell:setInspectCell}=props,[rowHighlightIndex,setRowHighlightIndex]=(0,react.useState)(initialRowIndex);void 0===initialRowIndex&&void 0!==rowHighlightIndex&&setRowHighlightIndex(void 0);const theme=(0,ThemeContext.$j)(),panelContext=(0,PanelContext.d2)();let osContext=null;void 0!==window.OffscreenCanvas&&(osContext=new OffscreenCanvas(256,1024).getContext("2d")),null!=osContext&&(osContext.font=`${theme.typography.fontSize}px ${theme.typography.body.fontFamily}`);const threshold=(0,react.useMemo)((()=>{const timeField=data.fields.find((f=>f.type===dataFrame.PU.time));return timeField?function calculateAroundPointThreshold(timeField){let max=-Number.MAX_VALUE,min=Number.MAX_VALUE;if(timeField.values.length<2)return 0;for(let i=0;i<timeField.values.length;i++){const value=timeField.values[i];value>max&&(max=value),value<min&&(min=value)}return(max-min)/timeField.values.length}(timeField):0}),[data]),onRowHover=(0,react.useCallback)(((idx,frame)=>{if(!panelContext||!enableSharedCrosshair)return;const timeField=frame.fields.find((f=>f.type===dataFrame.PU.time));timeField&&panelContext.eventBus.publish(new common.b_({point:{time:timeField.values[idx]}}))}),[enableSharedCrosshair,panelContext]),onRowLeave=(0,react.useCallback)((()=>{panelContext&&enableSharedCrosshair&&panelContext.eventBus.publish(new common.ql)}),[enableSharedCrosshair,panelContext]),onDataHoverEvent=(0,react.useCallback)((evt=>{if(evt.payload.point?.time&&void 0!==evt.payload.rowIndex){const timeField=data.fields.find((f=>f.type===dataFrame.PU.time)),time=timeField.values[evt.payload.rowIndex],pointTime=evt.payload.point.time;if(isPointTimeValAroundTableTimeVal(pointTime,time,threshold))return void setRowHighlightIndex(evt.payload.rowIndex);const matchedRowIndex=timeField.values.findIndex((t=>isPointTimeValAroundTableTimeVal(pointTime,t,threshold)));if(-1!==matchedRowIndex)return void setRowHighlightIndex(matchedRowIndex);setRowHighlightIndex(void 0)}}),[data.fields,threshold]);let scrollTop;if((0,react.useEffect)((()=>{if(!panelContext||!enableSharedCrosshair||!function hasTimeField(data){return data.fields.some((field=>field.type===dataFrame.PU.time))}(data)||footerPaginationEnabled)return;const subs=new Subscription.yU;return subs.add(panelContext.eventBus.getStream(common.b_).pipe((0,debounceTime.B)(250)).subscribe({next:evt=>{panelContext.eventBus!==evt.origin&&onDataHoverEvent(evt)}})),subs.add(panelContext.eventBus.getStream(common.ql).pipe((0,debounceTime.B)(250)).subscribe({next:evt=>{panelContext.eventBus!==evt.origin&&setRowHighlightIndex(void 0)}})),()=>{subs.unsubscribe()}}),[data,enableSharedCrosshair,footerPaginationEnabled,onDataHoverEvent,panelContext]),void 0!==rowHighlightIndex){const firstMatchedRowIndex=rows.findIndex((row=>row.index===rowHighlightIndex));-1!==firstMatchedRowIndex&&(scrollTop=headerHeight+(firstMatchedRowIndex-1)*rowHeight)}const rowIndexForPagination=(0,react.useCallback)((index=>tableState.pageIndex*tableState.pageSize+index),[tableState.pageIndex,tableState.pageSize]);let rowBg,textWrapFinal;for(const field of data.fields){const fieldOptions=field.config.custom;void 0!==fieldOptions&&void 0!==fieldOptions.cellOptions&&fieldOptions.cellOptions.type===common_gen.ob.ColorBackground&&fieldOptions.cellOptions.applyToRow&&(rowBg=rowIndex=>{const display=field.display(field.values.get(rowIndex));return getCellColors(tableStyles.theme,fieldOptions.cellOptions,display)}),void 0!==textWrapField?textWrapFinal=textWrapField:void 0!==longestField&&(textWrapFinal=longestField)}const RenderRow=(0,react.useCallback)((({index:index,style:style,rowHighlightIndex:rowHighlightIndex})=>{const indexForPagination=rowIndexForPagination(index),row=rows[indexForPagination];let additionalProps={};prepareRow(row);const expandedRowStyle=tableState.expanded[row.id]?(0,emotion_css_esm.AH)({"&:hover":{background:"inherit"}}):{},rowExpanded=nestedDataField&&tableState.expanded[row.id];if(void 0!==rowHighlightIndex&&row.index===rowHighlightIndex&&(style={...style,backgroundColor:theme.components.table.rowSelected},additionalProps={"aria-selected":"true"}),rowBg){const{bgColor:bgColor,textColor:textColor}=rowBg(row.index);style.background=bgColor,style.color=textColor,style.borderLeft=`2px solid ${bgColor}`}if(textWrapFinal){const seriesIndex=data.fields.filter((field=>!Boolean(field.config.custom?.hidden))).findIndex((field=>field.name===textWrapFinal.name)),pxLineHeight=theme.typography.body.lineHeight*theme.typography.fontSize,bbox=guessTextBoundingBox(textWrapFinal.values[row.index],headerGroups[0].headers[seriesIndex],osContext,pxLineHeight,tableStyles.rowHeight,tableStyles.cellPadding);style.height=bbox.height}const{key:key,...rowProps}=row.getRowProps({style:style,...additionalProps});return(0,jsx_runtime.jsxs)("div",{...rowProps,className:(0,emotion_css_esm.cx)(tableStyles.row,expandedRowStyle),onMouseEnter:()=>onRowHover(row.index,data),onMouseLeave:onRowLeave,children:[rowExpanded&&(0,jsx_runtime.jsx)(ExpandedRow,{nestedData:nestedDataField,tableStyles:tableStyles,rowIndex:row.index,width:width,cellHeight:cellHeight}),row.cells.map(((cell,index)=>(0,jsx_runtime.jsx)(TableCell,{tableStyles:tableStyles,cell:cell,onCellFilterAdded:onCellFilterAdded,columnIndex:index,columnCount:row.cells.length,timeRange:timeRange,frame:data,rowStyled:void 0!==rowBg,rowExpanded:rowExpanded,textWrapped:void 0!==textWrapFinal,height:Number(style.height)-1,getActions:getActions,replaceVariables:replaceVariables,setInspectCell:setInspectCell},index)))]},key)}),[rowIndexForPagination,rows,prepareRow,tableState.expanded,nestedDataField,rowBg,textWrapFinal,tableStyles,onRowLeave,width,cellHeight,theme.components.table.rowSelected,theme.typography.body.lineHeight,theme.typography.fontSize,data,headerGroups,osContext,onRowHover,onCellFilterAdded,timeRange,getActions,replaceVariables,setInspectCell]);return(0,react.useEffect)((()=>{listRef.current&&listRef.current.resetAfterIndex(0)}),[rows,listRef]),(0,jsx_runtime.jsx)(CustomScrollbar_CustomScrollbar,{onScroll:event=>{const{scrollTop:scrollTop}=event.currentTarget;null!==listRef.current&&listRef.current.scrollTo(scrollTop)},hideHorizontalTrack:!0,scrollTop:scrollTop,children:(0,jsx_runtime.jsx)(index_esm._m,{height:listHeight,itemCount:itemCount,itemSize:index=>{const indexForPagination=rowIndexForPagination(index),row=rows[indexForPagination];if(tableState.expanded[row.id]&&nestedDataField)return function getExpandedRowHeight(nestedData,rowIndex,tableStyles){return nestedData.values[rowIndex].reduce(((acc,frame)=>{if(frame.length){const noHeader=!!frame.meta?.custom?.noHeader;return acc+tableStyles.rowHeight*(frame.length+(noHeader?0:1))+8}return acc}),tableStyles.rowHeight)??tableStyles.rowHeight}(nestedDataField,row.index,tableStyles);if(textWrapFinal){const seriesIndex=data.fields.filter((field=>!Boolean(field.config.custom?.hidden))).findIndex((field=>field.name===textWrapFinal.name)),pxLineHeight=theme.typography.fontSize*theme.typography.body.lineHeight;return guessTextBoundingBox(textWrapFinal.values[row.index],headerGroups[0].headers[seriesIndex],osContext,pxLineHeight,tableStyles.rowHeight,tableStyles.cellPadding).height}return tableStyles.rowHeight},width:"100%",ref:listRef,style:{overflow:void 0},children:({index:index,style:style})=>RenderRow({index:index,style:style,rowHighlightIndex:rowHighlightIndex})},`${rowHeight}${pageIndex}`)})};try{RowsList.displayName="RowsList",RowsList.__docgenInfo={description:"",displayName:"RowsList",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DataFrame"}},rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"Row<{}>[]"}},enableSharedCrosshair:{defaultValue:null,description:"",name:"enableSharedCrosshair",required:!0,type:{name:"boolean"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!0,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number"}},itemCount:{defaultValue:null,description:"",name:"itemCount",required:!0,type:{name:"number"}},pageIndex:{defaultValue:null,description:"",name:"pageIndex",required:!0,type:{name:"number"}},listHeight:{defaultValue:null,description:"",name:"listHeight",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},cellHeight:{defaultValue:null,description:"",name:"cellHeight",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"lg"'},{value:'"md"'},{value:'"sm"'}]}},listRef:{defaultValue:null,description:"",name:"listRef",required:!0,type:{name:"RefObject<VariableSizeList<any>>"}},tableState:{defaultValue:null,description:"",name:"tableState",required:!0,type:{name:"TableState<{}>"}},tableStyles:{defaultValue:null,description:"",name:"tableStyles",required:!0,type:{name:"{ theme: GrafanaTheme2; cellHeight: number; buildCellContainerStyle: (color?: string | undefined, background?: string | undefined, backgroundHover?: string | undefined, overflowOnHover?: boolean | undefined, asCellText?: boolean | undefined, textShouldWrap?: boolean | undefined, textWrapped?: boolean | undefined, ro..."}},nestedDataField:{defaultValue:null,description:"",name:"nestedDataField",required:!1,type:{name:"Field<any>"}},prepareRow:{defaultValue:null,description:"",name:"prepareRow",required:!0,type:{name:"(row: Row<{}>) => void"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},timeRange:{defaultValue:null,description:"",name:"timeRange",required:!1,type:{name:"TimeRange"}},footerPaginationEnabled:{defaultValue:null,description:"",name:"footerPaginationEnabled",required:!0,type:{name:"boolean"}},initialRowIndex:{defaultValue:null,description:"",name:"initialRowIndex",required:!1,type:{name:"number"}},headerGroups:{defaultValue:null,description:"",name:"headerGroups",required:!0,type:{name:"HeaderGroup<{}>[]"}},longestField:{defaultValue:null,description:"",name:"longestField",required:!1,type:{name:"Field<any>"}},textWrapField:{defaultValue:null,description:"",name:"textWrapField",required:!1,type:{name:"Field<any>"}},getActions:{defaultValue:null,description:"",name:"getActions",required:!1,type:{name:"GetActionsFunction"}},replaceVariables:{defaultValue:null,description:"",name:"replaceVariables",required:!1,type:{name:"InterpolateFunction"}},setInspectCell:{defaultValue:null,description:"",name:"setInspectCell",required:!1,type:{name:"TableInspectCellCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/RowsList.tsx#RowsList"]={docgenInfo:RowsList.__docgenInfo,name:"RowsList",path:"src/components/Table/TableRT/RowsList.tsx#RowsList"})}catch(__react_docgen_typescript_loader_error){}const COLUMN_MIN_WIDTH=150,Table=(0,react.memo)((props=>{const{ariaLabel:ariaLabel,data:data,height:height,onCellFilterAdded:onCellFilterAdded,onColumnResize:onColumnResize,width:width,columnMinWidth:columnMinWidth=COLUMN_MIN_WIDTH,noHeader:noHeader,resizable:resizable=!0,initialSortBy:initialSortBy,footerOptions:footerOptions,showTypeIcons:showTypeIcons,footerValues:footerValues,enablePagination:enablePagination,cellHeight:cellHeight=common_gen.qM.Sm,timeRange:timeRange,enableSharedCrosshair:enableSharedCrosshair=!1,initialRowIndex:initialRowIndex,fieldConfig:fieldConfig,getActions:getActions,replaceVariables:replaceVariables}=props,listRef=(0,react.useRef)(null),tableDivRef=(0,react.useRef)(null),variableSizeListScrollbarRef=(0,react.useRef)(null),theme=(0,ThemeContext.$j)(),tableStyles=function useTableStyles(theme,cellHeightOption){const borderColor=theme.colors.border.weak,resizerColor=theme.colors.primary.border,cellHeight=function getCellHeight(theme,cellHeightOption,cellPadding){const bodyFontSize=theme.typography.fontSize,lineHeight=theme.typography.body.lineHeight;switch(cellHeightOption){case"md":return 42;case"lg":return 48;default:return 2*cellPadding+bodyFontSize*lineHeight}}(theme,cellHeightOption,6),rowHeight=cellHeight+2,buildCellContainerStyle=(color,background,backgroundHover,overflowOnHover,asCellText,textShouldWrap,textWrapped,rowStyled,rowExpanded)=>(0,emotion_css_esm.AH)({label:overflowOnHover?"cellContainerOverflow":"cellContainerNoOverflow",padding:"6px",width:"100%",height:rowExpanded?"auto !important":rowHeight-1+"px",wordBreak:textWrapped?"break-all":"inherit",display:"flex",...asCellText?{overflow:"hidden",textOverflow:"ellipsis",userSelect:"text",whiteSpace:"nowrap"}:{},alignItems:"center",borderRight:`1px solid ${borderColor}`,color:rowStyled?"inherit":color??void 0,background:rowStyled?void 0:background??void 0,backgroundClip:"padding-box","&:last-child:not(:only-child)":{borderRight:"none"},"&:hover":{overflow:overflowOnHover&&!textWrapped?"visible":void 0,width:textShouldWrap||!overflowOnHover?"auto":"auto !important",height:!textShouldWrap&&!overflowOnHover||textWrapped?rowHeight-1+"px":"auto !important",minHeight:rowHeight-1+"px",wordBreak:textShouldWrap?"break-word":void 0,whiteSpace:textShouldWrap&&overflowOnHover?"normal":"nowrap",boxShadow:overflowOnHover?`0 0 2px ${theme.colors.primary.main}`:void 0,background:rowStyled?"inherit":backgroundHover??theme.colors.background.primary,zIndex:1,".cellActions":{background:theme.components.tooltip.background,color:theme.components.tooltip.text,visibility:"visible",opacity:1,width:"auto",borderRadius:theme.shape.radius.default}},a:{color:"inherit"},".cellActions":{display:"flex",position:overflowOnHover?void 0:"absolute",top:overflowOnHover?void 0:"1px",right:overflowOnHover?void 0:0,margin:overflowOnHover?theme.spacing(0,0,0,1):"auto",visibility:"hidden",opacity:0,width:0,alignItems:"center",height:"100%",padding:theme.spacing(.5,0,.5,.5),background:theme.components.tooltip.background,color:theme.components.tooltip.text},".cellActionsLeft":{right:"auto !important",left:0}});return{theme:theme,cellHeight:cellHeight,buildCellContainerStyle:buildCellContainerStyle,cellPadding:6,cellHeightInner:cellHeight-12,rowHeight:rowHeight,table:(0,emotion_css_esm.AH)({height:"100%",width:"100%",overflow:"auto",display:"flex",flexDirection:"column"}),thead:(0,emotion_css_esm.AH)({label:"thead",height:"28px",overflowY:"auto",overflowX:"hidden",position:"relative"}),tfoot:(0,emotion_css_esm.AH)({label:"tfoot",height:"28px",borderTop:`1px solid ${borderColor}`,overflowY:"auto",overflowX:"hidden",position:"relative"}),headerRow:(0,emotion_css_esm.AH)({label:"row",borderBottom:`1px solid ${borderColor}`}),headerCell:(0,emotion_css_esm.AH)({height:"100%",padding:"0 6px",overflow:"hidden",whiteSpace:"nowrap",display:"flex",alignItems:"center",fontWeight:theme.typography.fontWeightMedium,"&:last-child":{borderRight:"none"}}),headerCellLabel:(0,emotion_css_esm.AH)({border:"none",padding:0,background:"inherit",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:theme.typography.fontWeightMedium,display:"flex",alignItems:"center",marginRight:theme.spacing(.5),"&:hover":{textDecoration:"underline",color:theme.colors.text.link}}),cellContainerText:buildCellContainerStyle(void 0,void 0,void 0,!0,!0),cellContainerTextNoOverflow:buildCellContainerStyle(void 0,void 0,void 0,!1,!0),cellContainer:buildCellContainerStyle(void 0,void 0,void 0,!0,!1),cellContainerNoOverflow:buildCellContainerStyle(void 0,void 0,void 0,!1,!1),cellText:(0,emotion_css_esm.AH)({overflow:"hidden",textOverflow:"ellipsis",userSelect:"text",whiteSpace:"nowrap",cursor:"text"}),sortIcon:(0,emotion_css_esm.AH)({marginLeft:theme.spacing(.5)}),cellLink:(0,emotion_css_esm.AH)({cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",userSelect:"text",whiteSpace:"nowrap",color:`${theme.colors.text.link} !important`,fontWeight:theme.typography.fontWeightMedium,paddingRight:theme.spacing(1.5),"&:hover":{textDecoration:"underline",color:theme.colors.text.link}}),cellLinkEmpty:(0,emotion_css_esm.AH)({overflow:"hidden",textOverflow:"ellipsis",userSelect:"text",whiteSpace:"nowrap",fontWeight:theme.typography.fontWeightMedium,paddingRight:theme.spacing(1.5)}),cellLinkForColoredCell:(0,emotion_css_esm.AH)({cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",userSelect:"text",whiteSpace:"nowrap",fontWeight:theme.typography.fontWeightMedium,textDecoration:"underline"}),imageCellLink:(0,emotion_css_esm.AH)({cursor:"pointer",overflow:"hidden",height:"100%"}),headerFilter:(0,emotion_css_esm.AH)({background:"transparent",border:"none",label:"headerFilter",padding:0}),paginationWrapper:(0,emotion_css_esm.AH)({display:"flex",height:`${cellHeight}px`,justifyContent:"center",alignItems:"center",width:"100%",li:{marginBottom:0}}),paginationSummary:(0,emotion_css_esm.AH)({color:theme.colors.text.secondary,fontSize:theme.typography.bodySmall.fontSize,display:"flex",justifyContent:"flex-end",padding:theme.spacing(0,1,0,2)}),tableContentWrapper:totalColumnsWidth=>{const width=void 0!==totalColumnsWidth?`${totalColumnsWidth}px`:"100%";return(0,emotion_css_esm.AH)({label:"tableContentWrapper",width:width,display:"flex",flexDirection:"column"})},row:(0,emotion_css_esm.AH)({label:"row",borderBottom:`1px solid ${borderColor}`,"&:hover":{backgroundColor:theme.components.table.rowHoverBackground},"&:last-child":{borderBottom:0}}),imageCell:(0,emotion_css_esm.AH)({height:"100%"}),resizeHandle:(0,emotion_css_esm.AH)({label:"resizeHandle",cursor:"col-resize !important",display:"inline-block",background:resizerColor,opacity:0,[theme.transitions.handleMotion("no-preference","reduce")]:{transition:"opacity 0.2s ease-in-out"},width:"8px",height:"100%",position:"absolute",right:"-4px",borderRadius:theme.shape.radius.default,top:0,touchAction:"none","&:hover":{opacity:1}}),typeIcon:(0,emotion_css_esm.AH)({marginRight:theme.spacing(1),color:theme.colors.text.secondary}),noData:(0,emotion_css_esm.AH)({alignItems:"center",display:"flex",height:"100%",justifyContent:"center",width:"100%"}),expanderCell:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"column",justifyContent:"center",height:`${rowHeight}px`,cursor:"pointer"})}}(theme,cellHeight),headerHeight=noHeader?0:tableStyles.rowHeight,[footerItems,setFooterItems]=(0,react.useState)(footerValues),noValuesDisplayText=fieldConfig?.defaults?.noValue??"No data",[inspectCell,setInspectCell]=(0,react.useState)(null),footerHeight=(0,react.useMemo)((()=>{let length=0;if(!footerItems)return 0;for(const fv of footerItems)Array.isArray(fv)&&fv.length>length&&(length=fv.length);return length>1?36*length:36}),[footerItems]),memoizedData=(0,react.useMemo)((()=>data.fields.length?Array(data.length).fill(0):[]),[data]),isCountRowsSet=Boolean(footerOptions?.countRows&&footerOptions.reducer&&footerOptions.reducer.length&&footerOptions.reducer[0]===fieldReducer.gy.count),nestedDataField=data.fields.find((f=>f.type===dataFrame.PU.nestedFrames)),hasNestedData=void 0!==nestedDataField,memoizedColumns=(0,react.useMemo)((()=>function getColumns(data,availableWidth,columnMinWidth,expander,footerValues,isCountRowsSet){const columns=[];let fieldCountWithoutWidth=0;expander&&(columns.push({Header:()=>null,id:"expander",Cell:RowExpander,width:50,minWidth:50,filter:(_rows,_id,_filterValues)=>[],justifyContent:"left",field:data.fields[0],sortType:"basic"}),availableWidth-=50);for(const[fieldIndex,field]of data.fields.entries()){const fieldTableOptions=field.config.custom||{};if(fieldTableOptions.hidden||field.type===dataFrame.PU.nestedFrames)continue;fieldTableOptions.width?availableWidth-=fieldTableOptions.width:fieldCountWithoutWidth++;const selectSortType=type=>{switch(type){case dataFrame.PU.number:case dataFrame.PU.frame:return"number";case dataFrame.PU.time:return"basic";default:return"alphanumeric-insensitive"}},Cell=getCellComponent(fieldTableOptions.cellOptions?.type,field);columns.push({Cell:Cell,id:fieldIndex.toString(),field:field,Header:fieldTableOptions.hideHeader?"":(0,fieldState.Ct)(field,data),accessor:(_row,i)=>field.values[i],sortType:selectSortType(field.type),width:fieldTableOptions.width,minWidth:fieldTableOptions.minWidth??columnMinWidth,filter:micro_memoize_default()(filterByValue(field)),justifyContent:getTextAlign(field),Footer:getFooterValue(fieldIndex,footerValues,isCountRowsSet)})}let sharedWidth=availableWidth/fieldCountWithoutWidth;for(let i=fieldCountWithoutWidth;i>0;i--)for(const column of columns)!column.width&&column.minWidth>sharedWidth&&(column.width=column.minWidth,fieldCountWithoutWidth-=1,sharedWidth=(availableWidth-=column.width)/fieldCountWithoutWidth);for(const column of columns)column.width||(column.width=sharedWidth),column.minWidth=50;return columns}(data,width,columnMinWidth,hasNestedData,footerItems,isCountRowsSet)),[data,width,columnMinWidth,hasNestedData,footerItems,isCountRowsSet]),toggleAllRowsExpandedRef=(0,react.useRef)(),stateReducer=function useTableStateReducer({onColumnResize:onColumnResize,onSortByChange:onSortByChange,data:data}){return(0,react.useCallback)(((newState,action)=>{switch(action.type){case"columnDoneResizing":if(onColumnResize){const info=newState.columnResizing?.headerIdWidths?.[0],columnIdString=info?.[0],fieldIndex=parseInt(columnIdString,10),width=Math.round(newState.columnResizing.columnWidths?.[columnIdString]),field=data.fields?.[fieldIndex];if(!field)return newState;const fieldDisplayName=(0,fieldState.Ct)(field,data);onColumnResize(fieldDisplayName,width)}case"toggleSortBy":if(onSortByChange){const sortByFields=[];for(const sortItem of newState.sortBy){const field=data.fields[parseInt(sortItem.id,10)];field&&sortByFields.push({displayName:(0,fieldState.Ct)(field,data),desc:sortItem.desc})}onSortByChange(sortByFields)}case"toggleRowExpanded":if(action.id)return{...newState,lastExpandedOrCollapsedIndex:parseInt(action.id,10)}}return newState}),[data,onColumnResize,onSortByChange])}({onColumnResize:onColumnResize,onSortByChange:state=>{toggleAllRowsExpandedRef.current(!1),props.onSortByChange&&props.onSortByChange(state)},data:data}),hasUniqueId=!!data.meta?.uniqueRowIdFields?.length,options=(0,react.useMemo)((()=>{const options={columns:memoizedColumns,data:memoizedData,disableResizing:!resizable,stateReducer:stateReducer,autoResetPage:!1,initialState:getInitialState(initialSortBy,memoizedColumns),autoResetFilters:!1,sortTypes:{number:sortNumber,"alphanumeric-insensitive":sortCaseInsensitive}};return hasUniqueId&&(options.getRowId=(row,relativeIndex)=>function getRowUniqueId(dataFrame,rowIndex){if(void 0!==dataFrame.meta?.uniqueRowIdFields)return dataFrame.meta.uniqueRowIdFields.map((fieldIndex=>dataFrame.fields[fieldIndex].values[rowIndex])).join("-")}(data,relativeIndex),options.autoResetExpanded=!1),options}),[initialSortBy,memoizedColumns,memoizedData,resizable,stateReducer,hasUniqueId,data]),{getTableProps:getTableProps,headerGroups:headerGroups,footerGroups:footerGroups,rows:rows,prepareRow:prepareRow,totalColumnsWidth:totalColumnsWidth,page:page,state:state,gotoPage:gotoPage,setPageSize:setPageSize,pageOptions:pageOptions,toggleAllRowsExpanded:toggleAllRowsExpanded}=(0,react_table.useTable)(options,react_table.useFilters,react_table.useSortBy,react_table.useAbsoluteLayout,react_table.useResizeColumns,react_table.useExpanded,react_table.usePagination),extendedState=state;toggleAllRowsExpandedRef.current=toggleAllRowsExpanded,(0,react.useEffect)((()=>{footerOptions||setFooterItems(footerValues)}),[footerValues,footerOptions]),(0,react.useEffect)((()=>{if(!footerOptions)return;if(!footerOptions.show)return void setFooterItems(void 0);if(isCountRowsSet){const footerItemsCountRows=[];return footerItemsCountRows[0]=rows.length.toString()??data.length.toString(),void setFooterItems(footerItemsCountRows)}const footerItems=getFooterItems(headerGroups[0].headers,function createFooterCalculationValues(rows){const values=[];for(const key in rows)for(const[valKey,val]of Object.entries(rows[key].values))void 0===values[valKey]&&(values[valKey]=[]),values[valKey].push(val);return values}(rows),footerOptions,theme);setFooterItems(footerItems)}),[footerOptions,theme,state.filters,data]);let listHeight=height-(headerHeight+footerHeight);enablePagination&&(listHeight-=tableStyles.cellHeight);const pageSize=Math.round(listHeight/tableStyles.rowHeight)-1;(0,react.useEffect)((()=>{pageSize<=0||setPageSize(pageSize)}),[pageSize,setPageSize]),(0,react.useEffect)((()=>{data.length/pageSize<state.pageIndex&&gotoPage(0)}),[data]),function useResetVariableListSizeCache(extendedState,listRef,data,hasUniqueId){const expandedRowsRepr=JSON.stringify(Object.keys(extendedState.expanded));(0,react.useEffect)((()=>{let resetIndex=0;hasUniqueId||(Number.isFinite(extendedState.lastExpandedOrCollapsedIndex)&&(resetIndex=extendedState.lastExpandedOrCollapsedIndex),resetIndex=0===extendedState.pageIndex?resetIndex-1:resetIndex-extendedState.pageIndex-extendedState.pageIndex*extendedState.pageSize),listRef.current?.resetAfterIndex(Math.max(resetIndex,0))}),[extendedState.lastExpandedOrCollapsedIndex,extendedState.pageSize,extendedState.pageIndex,listRef,data,expandedRowsRepr,hasUniqueId])}(extendedState,listRef,data,hasUniqueId),function useFixScrollbarContainer(variableSizeListScrollbarRef,tableDivRef){(0,react.useEffect)((()=>{if(variableSizeListScrollbarRef.current&&tableDivRef.current){const listVerticalScrollbarHTML=variableSizeListScrollbarRef.current.querySelector(".track-vertical"),tableScrollbarView=tableDivRef.current.firstChild;tableScrollbarView&&listVerticalScrollbarHTML&&(listVerticalScrollbarHTML.remove(),tableScrollbarView instanceof HTMLElement&&(tableScrollbarView.querySelector(":scope > .track-vertical")?.remove(),tableScrollbarView.append(listVerticalScrollbarHTML)))}}))}(variableSizeListScrollbarRef,tableDivRef);const onNavigate=(0,react.useCallback)((toPage=>{gotoPage(toPage-1)}),[gotoPage]),itemCount=enablePagination?page.length:rows.length;let paginationEl=null;if(enablePagination){const itemsRangeStart=state.pageIndex*state.pageSize+1;let itemsRangeEnd=itemsRangeStart+state.pageSize-1;const isSmall=width<550;itemsRangeEnd>data.length&&(itemsRangeEnd=data.length);const numRows=rows.length,displayedEnd=itemsRangeEnd<rows.length?itemsRangeEnd:rows.length;paginationEl=(0,jsx_runtime.jsxs)("div",{className:tableStyles.paginationWrapper,children:[(0,jsx_runtime.jsx)(Pagination.d,{currentPage:state.pageIndex+1,numberOfPages:pageOptions.length,showSmallVersion:isSmall,onNavigate:onNavigate}),isSmall?null:(0,jsx_runtime.jsx)("div",{className:tableStyles.paginationSummary,children:(0,jsx_runtime.jsxs)(i18n.x6,{i18nKey:"grafana-ui.table.pagination-summary",children:[{itemsRangeStart:itemsRangeStart}," - ",{displayedEnd:displayedEnd}," of ",{numRows:numRows}," rows"]})})]})}const longestField=fieldConfig?function guessLongestField(fieldConfig,data){let longestField;if(fieldConfig.defaults.custom?.cellOptions?.wrapText){const stringFields=data.fields.filter((field=>field.type===dataFrame.PU.string));if(stringFields.length>=1&&stringFields[0].values.length>0){let longestLength=0;if(stringFields[0].values.length<=30)for(const field of stringFields){const fieldLength=field.values.find((v=>null!=v))?.length??0;fieldLength>longestLength&&(longestLength=fieldLength,longestField=field)}else for(const field of stringFields){const vals=(0,lodash.sampleSize)(field.values,3),meanLength=(vals[0]?.length+vals[1]?.length+vals[2]?.length)/3;meanLength>longestLength&&(longestLength=meanLength,longestField=field)}}}return longestField}(fieldConfig,data):void 0;let textWrapField;return void 0!==fieldConfig&&data.fields.forEach((field=>{fieldConfig.overrides.forEach((override=>{if((0,matchers.NS)(override.matcher)(field,data,[data]))for(const property of override.properties)"custom.cellOptions"===property.id&&property.value.wrapText&&(textWrapField=field)}))})),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{...getTableProps(),className:tableStyles.table,"aria-label":ariaLabel,role:"table",ref:tableDivRef,style:{width:width,height:height},children:[(0,jsx_runtime.jsx)(CustomScrollbar,{hideVerticalTrack:!0,children:(0,jsx_runtime.jsxs)("div",{className:tableStyles.tableContentWrapper(totalColumnsWidth),children:[!noHeader&&(0,jsx_runtime.jsx)(HeaderRow,{headerGroups:headerGroups,showTypeIcons:showTypeIcons,tableStyles:tableStyles}),itemCount>0?(0,jsx_runtime.jsx)("div",{"data-testid":selectors.Tp.components.Panels.Visualization.Table.body,ref:variableSizeListScrollbarRef,children:(0,jsx_runtime.jsx)(RowsList,{headerGroups:headerGroups,data:data,rows:rows,width:width,cellHeight:cellHeight,headerHeight:headerHeight,rowHeight:tableStyles.rowHeight,itemCount:itemCount,pageIndex:state.pageIndex,listHeight:listHeight,listRef:listRef,tableState:state,prepareRow:prepareRow,timeRange:timeRange,onCellFilterAdded:onCellFilterAdded,nestedDataField:nestedDataField,tableStyles:tableStyles,footerPaginationEnabled:Boolean(enablePagination),enableSharedCrosshair:enableSharedCrosshair,initialRowIndex:initialRowIndex,longestField:longestField,textWrapField:textWrapField,getActions:getActions,replaceVariables:replaceVariables,setInspectCell:setInspectCell})}):(0,jsx_runtime.jsx)("div",{style:{height:height-headerHeight,width:width},className:tableStyles.noData,children:noValuesDisplayText}),footerItems&&(0,jsx_runtime.jsx)(FooterRow,{isPaginationVisible:Boolean(enablePagination),footerValues:footerItems,footerGroups:footerGroups,totalColumnsWidth:totalColumnsWidth,tableStyles:tableStyles})]})}),paginationEl]}),null!==inspectCell&&(0,jsx_runtime.jsx)(TableCellInspector,{mode:inspectCell.mode,value:inspectCell.value,onDismiss:()=>{setInspectCell(null)}})]})}));Table.displayName="Table";try{Table.displayName="Table",Table.__docgenInfo={description:"",displayName:"Table",props:{ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DataFrame"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},columnMinWidth:{defaultValue:null,description:"Minimal column width specified in pixels",name:"columnMinWidth",required:!1,type:{name:"number"}},noHeader:{defaultValue:null,description:"",name:"noHeader",required:!1,type:{name:"boolean"}},showTypeIcons:{defaultValue:null,description:"",name:"showTypeIcons",required:!1,type:{name:"boolean"}},resizable:{defaultValue:null,description:"",name:"resizable",required:!1,type:{name:"boolean"}},initialSortBy:{defaultValue:null,description:"",name:"initialSortBy",required:!1,type:{name:"TableSortByFieldState[]"}},onColumnResize:{defaultValue:null,description:"",name:"onColumnResize",required:!1,type:{name:"TableColumnResizeActionCallback"}},onSortByChange:{defaultValue:null,description:"",name:"onSortByChange",required:!1,type:{name:"TableSortByActionCallback"}},onCellFilterAdded:{defaultValue:null,description:"",name:"onCellFilterAdded",required:!1,type:{name:"TableFilterActionCallback"}},footerOptions:{defaultValue:null,description:"",name:"footerOptions",required:!1,type:{name:"TableFooterCalc"}},footerValues:{defaultValue:null,description:"",name:"footerValues",required:!1,type:{name:"FooterItem[]"}},enablePagination:{defaultValue:null,description:"",name:"enablePagination",required:!1,type:{name:"boolean"}},cellHeight:{defaultValue:null,description:"",name:"cellHeight",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"lg"'},{value:'"md"'},{value:'"sm"'}]}},timeRange:{defaultValue:null,description:"@alpha Used by SparklineCell when provided",name:"timeRange",required:!1,type:{name:"TimeRange"}},enableSharedCrosshair:{defaultValue:null,description:"",name:"enableSharedCrosshair",required:!1,type:{name:"boolean"}},initialRowIndex:{defaultValue:null,description:"",name:"initialRowIndex",required:!1,type:{name:"number"}},fieldConfig:{defaultValue:null,description:"",name:"fieldConfig",required:!1,type:{name:"FieldConfigSource<any>"}},getActions:{defaultValue:null,description:"",name:"getActions",required:!1,type:{name:"GetActionsFunction"}},replaceVariables:{defaultValue:null,description:"",name:"replaceVariables",required:!1,type:{name:"InterpolateFunction"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableRT/Table.tsx#Table"]={docgenInfo:Table.__docgenInfo,name:"Table",path:"src/components/Table/TableRT/Table.tsx#Table"})}catch(__react_docgen_typescript_loader_error){}var react_lib=__webpack_require__("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("../../node_modules/@storybook/addon-docs/node_modules/@storybook/blocks/dist/index.mjs");function _createMdxContent(props){const _components={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,react_lib.R)(),...props.components};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"table",children:"Table"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Used for displaying tabular data"}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"sub-tables",children:"Sub-tables"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Sub-tables are supported by adding ",(0,jsx_runtime.jsx)(_components.code,{children:"FieldType.nestedFrames"})," to the field that contains the nested data in your dataframe."]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"This nested fields values can contain an array of one or more dataframes. Each of these dataframes will be rendered as one unique sub-table."}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"For each dataframe and index in the nested field, the dataframe will be rendered as one or more sub-tables below the main dataframe row at that index."}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"unique-rowid",children:"Unique rowId"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["In some cases it makes sense to persist the opened/closed state of the sub-tables. For example: with streaming queries where a user may manipulate the state while additional data is still loading. In such cases use ",(0,jsx_runtime.jsx)(_components.code,{children:"dataframe.meta.uniqueRowIdFields"})," property to specify which fields create unique row id and table will use it to persist the state across data changes."]}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"custom-dataframe-properties",children:"Custom dataframe properties"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Each dataframe also supports using the following custom property under ",(0,jsx_runtime.jsx)(_components.code,{children:"dataframe.meta.custom"}),":"]}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsxs)(_components.li,{children:["\n",(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"noHeader"}),": boolean - Hides that sub-tables header."]}),"\n"]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:["\n",(0,jsx_runtime.jsxs)(_components.p,{children:["@deprecated use ",(0,jsx_runtime.jsx)(_components.code,{children:"FieldType.nestedFrames"})," instead"]}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"parentRowIndex"}),": number - The index of the parent row in the main dataframe (under the ",(0,jsx_runtime.jsx)(_components.code,{children:"data"})," prop of the Table component)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"table-rendering",children:"Table rendering"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Table component only works in conjunction with the applyFieldOverrides function from the @grafana/data package otherwise data will not render."}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-javascript",children:"import { DataFrame, applyFieldOverrides, GrafanaTheme2 } from '@grafana/data';\nimport { Table, useTheme2 } from '@grafana/ui';\n\nconst TableComponent = (dataFrame: DataFrame) => {\n  const theme = useTheme2();\n  const displayData = applyFieldOverrides({\n    data: dataFrame,\n    fieldConfig: {\n      defaults: {\n        custom: {\n          align: 'auto',\n          cellOptions: {\n            type: 'gauge',\n            mode: 'gradient',\n          },\n          inspect: false,\n        },\n        mappings: [],\n        unit: 'locale',\n      },\n      overrides: [],\n    },\n    theme,\n    replaceVariables: (value) => value,\n  });\n\n  return (\n    <Table\n      data={displayData}\n      width={1000}\n      height={400}\n      columnMinWidth={50}\n      footerOptions={{ show: true, reducer: ['sum'] }}\n    />\n  )\n}\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"cell-rendering",children:"Cell rendering"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Cell rendering is controlled by table specific field config in the DataFrame passed as ",(0,jsx_runtime.jsx)(_components.code,{children:"data"})," prop. Each field can set its ",(0,jsx_runtime.jsx)(_components.code,{children:"field.config.custom"})," to be type ",(0,jsx_runtime.jsx)(_components.code,{children:"TableFieldOptions"}),". ",(0,jsx_runtime.jsx)(_components.code,{children:"TableFieldOptions"})," contain generic options to control some aspects of the cell and column rendering. They also contain ",(0,jsx_runtime.jsx)(_components.code,{children:"cellOptions"})," property which can be further used to control type of cell renderer that will be used. ",(0,jsx_runtime.jsx)(_components.code,{children:"cellOptions"})," subtypes:"]}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableAutoCellOptions"}),": Default cell renderer that does not have to be specified in the ",(0,jsx_runtime.jsx)(_components.code,{children:"field.config"}),". Just displays the value with appropriate formatting."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableSparklineCellOptions"}),": Shows a small, time series chart inside the cell. The field values have to be an array of numbers or a DataFrame."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableBarGaugeCellOptions"}),": Show a gauge inside the cell."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableColoredBackgroundCellOptions"}),": Show the cell with a colored background."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableColorTextCellOptions"}),": Make the text inside the cell colored."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableImageCellOptions"}),": Show an image inside the cell."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableJsonViewCellOptions"}),": Shows a formatted and indented JSON text."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.strong,{children:"TableCustomCellOptions"}),": Allows to specify a custom cell renderer as React function component."]}),"\n"]}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"usage",children:"Usage"}),"\n",(0,jsx_runtime.jsx)(dist.ov,{of:Table})]})}const meta={title:"Plugins/Table",component:Table,parameters:{controls:{exclude:["onColumnResize","onSortByChange","onCellFilterAdded","ariaLabel","data","initialSortBy"]},docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,react_lib.R)(),...props.components};return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}}},args:{width:700,height:500,columnMinWidth:130}};function buildData(theme,config,rows=1e3){const data=new MutableDataFrame.k({fields:[{name:"Time",type:dataFrame.PU.time,values:[]},{name:"Quantity",type:dataFrame.PU.number,values:[],config:{decimals:0,custom:{align:"center",width:80}}},{name:"Status",type:dataFrame.PU.string,values:[]},{name:"Value",type:dataFrame.PU.number,values:[],config:{decimals:2}},{name:"Progress",type:dataFrame.PU.number,values:[],config:{unit:"percent",min:0,max:100,custom:{width:150}}}]});for(const field of data.fields)field.config=(0,lodash.merge)(field.config,config[field.name]);for(let i=0;i<rows;i++)data.appendRow([(new Date).getTime(),2*Math.random(),Math.random()>.7?"Active":"Cancelled",100*Math.random(),100*Math.random()]);return prepDataForStorybook([data],theme)[0]}const defaultThresholds={steps:[{color:"blue",value:-1/0},{color:"green",value:20}],mode:thresholds.O.Absolute},Basic=args=>{const data=buildData((0,ThemeContext.$j)(),{});return(0,jsx_runtime.jsx)(DashboardStoryCanvas.s,{children:(0,jsx_runtime.jsx)(Table,{...args,data:data})})},Table_story_BarGaugeCell=args=>{const data=buildData((0,ThemeContext.$j)(),{Progress:{custom:{width:200,cellOptions:{type:"gauge",mode:"gradient"}},thresholds:defaultThresholds}});return(0,jsx_runtime.jsx)(DashboardStoryCanvas.s,{children:(0,jsx_runtime.jsx)(Table,{...args,data:data})})},ColoredCells=args=>{const data=buildData((0,ThemeContext.$j)(),{Progress:{custom:{width:80,displayMode:"color-background"},thresholds:defaultThresholds}});return(0,jsx_runtime.jsx)(DashboardStoryCanvas.s,{children:(0,jsx_runtime.jsx)(Table,{...args,data:data})})},Footer=args=>{const data=buildData((0,ThemeContext.$j)(),{}),footer=function buildFooterData(data){const valueSum=data.fields[3].values.reduce(((prev,curr)=>prev+curr),0),valueField=data.fields[3],displayValue=valueField.display?valueField.display(valueSum):valueSum;return["Totals","10",void 0,[{sum:valueField.display?(0,valueFormats.cN)(displayValue):displayValue},{min:String(5.2)}],"100%"]}(data);return(0,jsx_runtime.jsx)(DashboardStoryCanvas.s,{children:(0,jsx_runtime.jsx)(Table,{...args,data:data,footerValues:footer})})},Table_story_Pagination=args=>(0,jsx_runtime.jsx)(Basic,{...args});Table_story_Pagination.args={enablePagination:!0};const SubTables=args=>{const data=function buildSubTablesData(theme,config,rows){const data=buildData(theme,{},rows),allNestedFrames=[];for(let i=0;i<rows;i++){const nestedFrames=[];for(let i=0;i<3*Math.random();i++){const nestedData=new MutableDataFrame.k({fields:[{name:"Time",type:dataFrame.PU.time,values:[]},{name:"Quantity",type:dataFrame.PU.number,values:[],config:{decimals:0,custom:{align:"center"}}},{name:"Quality",type:dataFrame.PU.string,values:[]},{name:"Progress",type:dataFrame.PU.number,values:[],config:{unit:"percent",min:0,max:100}}]});for(const field of nestedData.fields)field.config=(0,lodash.merge)(field.config,config[field.name]);for(let i=0;i<4*Math.random();i++)nestedData.appendRow([(new Date).getTime(),2*Math.random(),Math.random()>.7?"Good":"Bad",100*Math.random()]);nestedFrames.push(nestedData)}allNestedFrames.push(prepDataForStorybook(nestedFrames,theme))}return data.fields=[...data.fields,{name:"nested",type:dataFrame.PU.nestedFrames,values:allNestedFrames,config:{}}],data}((0,ThemeContext.$j)(),{},100);return(0,jsx_runtime.jsx)(DashboardStoryCanvas.s,{children:(0,jsx_runtime.jsx)(Table,{...args,data:data})})},CustomColumn=args=>{const data=buildData((0,ThemeContext.$j)(),{}),options={type:common_gen.ob.Custom,cellComponent:props=>(0,jsx_runtime.jsx)(Button.$n,{onClick:()=>alert(`Canceling order from ${props.frame.fields.find((f=>"Time"===f.name))?.values[props.rowIndex]}`),children:"Cancel"})},customCellField={name:"Actions",type:dataFrame.PU.other,values:[],config:{decimals:0,custom:{cellOptions:options}},display:()=>({text:"",numeric:0})};for(let i=0;i<data.length;i++)customCellField.values.push(null);return data.fields=[customCellField,...data.fields],(0,jsx_runtime.jsx)(DashboardStoryCanvas.s,{children:(0,jsx_runtime.jsx)(Table,{...args,data:data})})};var Table_story=meta;Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"args => {\n  const theme = useTheme2();\n  const data = buildData(theme, {});\n  return <DashboardStoryCanvas>\n      <Table {...args} data={data} />\n    </DashboardStoryCanvas>;\n}",...Basic.parameters?.docs?.source}}},Table_story_BarGaugeCell.parameters={...Table_story_BarGaugeCell.parameters,docs:{...Table_story_BarGaugeCell.parameters?.docs,source:{originalSource:"args => {\n  const theme = useTheme2();\n  const data = buildData(theme, {\n    Progress: {\n      custom: {\n        width: 200,\n        cellOptions: {\n          type: 'gauge',\n          mode: 'gradient'\n        }\n      },\n      thresholds: defaultThresholds\n    }\n  });\n  return <DashboardStoryCanvas>\n      <Table {...args} data={data} />\n    </DashboardStoryCanvas>;\n}",...Table_story_BarGaugeCell.parameters?.docs?.source}}},ColoredCells.parameters={...ColoredCells.parameters,docs:{...ColoredCells.parameters?.docs,source:{originalSource:"args => {\n  const theme = useTheme2();\n  const data = buildData(theme, {\n    Progress: {\n      custom: {\n        width: 80,\n        displayMode: 'color-background'\n      },\n      thresholds: defaultThresholds\n    }\n  });\n  return <DashboardStoryCanvas>\n      <Table {...args} data={data} />\n    </DashboardStoryCanvas>;\n}",...ColoredCells.parameters?.docs?.source}}},Footer.parameters={...Footer.parameters,docs:{...Footer.parameters?.docs,source:{originalSource:"args => {\n  const theme = useTheme2();\n  const data = buildData(theme, {});\n  const footer = buildFooterData(data);\n  return <DashboardStoryCanvas>\n      <Table {...args} data={data} footerValues={footer} />\n    </DashboardStoryCanvas>;\n}",...Footer.parameters?.docs?.source}}},Table_story_Pagination.parameters={...Table_story_Pagination.parameters,docs:{...Table_story_Pagination.parameters?.docs,source:{originalSource:"args => <Basic {...args} />",...Table_story_Pagination.parameters?.docs?.source}}},SubTables.parameters={...SubTables.parameters,docs:{...SubTables.parameters?.docs,source:{originalSource:"args => {\n  const theme = useTheme2();\n  const data = buildSubTablesData(theme, {}, 100);\n  return <DashboardStoryCanvas>\n      <Table {...args} data={data} />\n    </DashboardStoryCanvas>;\n}",...SubTables.parameters?.docs?.source}}},CustomColumn.parameters={...CustomColumn.parameters,docs:{...CustomColumn.parameters?.docs,source:{originalSource:"args => {\n  const theme = useTheme2();\n  const data = buildData(theme, {});\n  const options: TableCustomCellOptions = {\n    type: TableCellDisplayMode.Custom,\n    cellComponent: props => {\n      return <Button onClick={() => alert(`Canceling order from ${props.frame.fields.find(f => f.name === 'Time')?.values[props.rowIndex]}`)}>\n          Cancel\n        </Button>;\n    }\n  };\n  const customCellField: Field = {\n    name: 'Actions',\n    type: FieldType.other,\n    values: [],\n    config: {\n      decimals: 0,\n      custom: {\n        cellOptions: options\n      }\n    },\n    display: () => ({\n      text: '',\n      numeric: 0\n    })\n  };\n  for (let i = 0; i < data.length; i++) {\n    customCellField.values.push(null);\n  }\n  data.fields = [customCellField, ...data.fields];\n  return <DashboardStoryCanvas>\n      <Table {...args} data={data} />\n    </DashboardStoryCanvas>;\n}",...CustomColumn.parameters?.docs?.source}}}}}]);