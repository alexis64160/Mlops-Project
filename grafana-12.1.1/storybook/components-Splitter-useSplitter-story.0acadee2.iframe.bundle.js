"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[4070],{"../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{R:function(){return useMDXComponents},x:function(){return MDXProvider}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const emptyComponents={},MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyComponents);function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return"function"==typeof components?components(contextComponents):{...contextComponents,...components}}),[contextComponents,components])}function MDXProvider(properties){let allComponents;return allComponents=properties.disableParentContext?"function"==typeof properties.components?properties.components(emptyComponents):properties.components||emptyComponents:useMDXComponents(properties.components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},properties.children)}},"./src/components/DragHandle/DragHandle.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{l:function(){return getDragStyles}});var _emotion_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js");const getDragStyles=(theme,handlePosition)=>{const position=handlePosition||"middle",baseColor=theme.colors.emphasize(theme.colors.background.secondary,.15),hoverColor=theme.colors.primary.border,clickTargetSize=theme.spacing(2);let verticalOffset="50%",horizontalOffset="50%";switch(position){case"start":verticalOffset="0%",horizontalOffset="0%";break;case"end":verticalOffset="100%",horizontalOffset="100%"}const dragHandleBase=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({position:"relative","&:before":{content:'""',position:"absolute",transition:theme.transitions.create("border-color"),zIndex:1},"&:after":{background:baseColor,content:'""',position:"absolute",transition:theme.transitions.create("background"),transform:"translate(-50%, -50%)",borderRadius:theme.shape.radius.pill,zIndex:1},"&:hover":{"&:before":{borderColor:hoverColor},"&:after":{background:hoverColor}}}),beforeVertical={borderRight:"1px solid transparent",height:"100%",left:verticalOffset,transform:"translateX(-50%)"},beforeHorizontal={borderTop:"1px solid transparent",top:horizontalOffset,transform:"translateY(-50%)"};return{dragHandleVertical:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(dragHandleBase,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({cursor:"col-resize",width:clickTargetSize,"&:before":beforeVertical,"&:after":{left:verticalOffset,top:"50%",height:200,width:4}})),dragHandleHorizontal:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(dragHandleBase,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({height:clickTargetSize,cursor:"row-resize","&:before":beforeHorizontal,"&:after":{left:"50%",top:horizontalOffset,height:4,width:200}})),dragHandleBaseVertical:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(dragHandleBase,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({cursor:"col-resize",width:clickTargetSize,"&:before":beforeVertical})),dragHandleBaseHorizontal:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(dragHandleBase,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({cursor:"row-resize",height:clickTargetSize,"&:before":beforeHorizontal}))}}},"./src/components/Layout/Box/Box.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{a:function(){return Box}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Layout/utils/responsiveness.tsx"),_utils_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Layout/utils/styles.ts");const Box=(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(((props,ref)=>{const{children:children,margin:margin,marginX:marginX,marginY:marginY,marginTop:marginTop,marginBottom:marginBottom,marginLeft:marginLeft,marginRight:marginRight,padding:padding,paddingX:paddingX,paddingY:paddingY,paddingTop:paddingTop,paddingBottom:paddingBottom,paddingLeft:paddingLeft,paddingRight:paddingRight,display:display,backgroundColor:backgroundColor,grow:grow,shrink:shrink,basis:basis,flex:flex,borderColor:borderColor,borderStyle:borderStyle,borderRadius:borderRadius,direction:direction,justifyContent:justifyContent,alignItems:alignItems,boxShadow:boxShadow,element:element,gap:gap,width:width,minWidth:minWidth,maxWidth:maxWidth,height:height,minHeight:minHeight,maxHeight:maxHeight,position:position,...rest}=props,styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles,margin,marginX,marginY,marginTop,marginBottom,marginLeft,marginRight,padding,paddingX,paddingY,paddingTop,paddingBottom,paddingLeft,paddingRight,display,backgroundColor,grow,shrink,basis,flex,borderColor,borderStyle,borderRadius,direction,justifyContent,alignItems,boxShadow,gap,position),sizeStyles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(_utils_styles__WEBPACK_IMPORTED_MODULE_4__.E,width,minWidth,maxWidth,height,minHeight,maxHeight),Element=element??"div";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Element,{ref:ref,className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.root,sizeStyles),...rest,children:children})}));Box.displayName="Box";const customBorderColor=(color,theme)=>{switch(color){case"error":case"success":case"info":case"warning":return theme.colors[color].borderTransparent;default:return color?theme.colors.border[color]:void 0}},customBackgroundColor=(color,theme)=>{switch(color){case"error":case"success":case"info":case"warning":return theme.colors[color].transparent;default:return color?theme.colors.background[color]:void 0}},getStyles=(theme,margin,marginX,marginY,marginTop,marginBottom,marginLeft,marginRight,padding,paddingX,paddingY,paddingTop,paddingBottom,paddingLeft,paddingRight,display,backgroundColor,grow,shrink,basis,flex,borderColor,borderStyle,borderRadius,direction,justifyContent,alignItems,boxShadow,gap,position)=>({root:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)([(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,margin,(val=>({margin:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,marginX,(val=>({marginLeft:theme.spacing(val),marginRight:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,marginY,(val=>({marginTop:theme.spacing(val),marginBottom:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,marginTop,(val=>({marginTop:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,marginBottom,(val=>({marginBottom:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,marginLeft,(val=>({marginLeft:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,marginRight,(val=>({marginRight:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,padding,(val=>({padding:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,paddingX,(val=>({paddingLeft:theme.spacing(val),paddingRight:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,paddingY,(val=>({paddingTop:theme.spacing(val),paddingBottom:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,paddingTop,(val=>({paddingTop:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,paddingBottom,(val=>({paddingBottom:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,paddingLeft,(val=>({paddingLeft:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,paddingRight,(val=>({paddingRight:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,display,(val=>({display:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,backgroundColor,(val=>({backgroundColor:customBackgroundColor(val,theme)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,direction,(val=>({flexDirection:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,grow,(val=>({flexGrow:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,shrink,(val=>({flexShrink:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,basis,(val=>({flexBasis:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,flex,(val=>({flex:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,borderStyle,(val=>({borderStyle:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,borderColor,(val=>({borderColor:customBorderColor(val,theme)}))),(borderStyle||borderColor)&&{borderWidth:"1px"},(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,justifyContent,(val=>({justifyContent:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,alignItems,(val=>({alignItems:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,borderRadius,(val=>({borderRadius:theme.shape.radius[val]}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,boxShadow,(val=>({boxShadow:theme.shadows[val]}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,gap,(val=>({gap:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,position,(val=>({position:val})))])});try{Box.displayName="Box",Box.__docgenInfo={description:"",displayName:"Box",props:{margin:{defaultValue:null,description:"Sets the property `margin`",name:"margin",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginX:{defaultValue:null,description:"Sets the properties `margin-top` and `margin-bottom`. Higher priority than margin.",name:"marginX",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginY:{defaultValue:null,description:"Sets the properties `margin-left` and `margin-right`. Higher priority than margin.",name:"marginY",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginTop:{defaultValue:null,description:"Sets the property `margin-top`. Higher priority than margin and marginY.",name:"marginTop",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginBottom:{defaultValue:null,description:"Sets the property `margin-bottom`. Higher priority than margin and marginXY",name:"marginBottom",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginLeft:{defaultValue:null,description:"Sets the property `margin-left`. Higher priority than margin and marginX.",name:"marginLeft",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginRight:{defaultValue:null,description:"Sets the property `margin-right`. Higher priority than margin and marginX.",name:"marginRight",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},padding:{defaultValue:null,description:"Sets the property `padding`",name:"padding",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingX:{defaultValue:null,description:"Sets the properties `padding-top` and `padding-bottom`. Higher priority than padding.",name:"paddingX",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingY:{defaultValue:null,description:"Sets the properties `padding-left` and `padding-right`. Higher priority than padding.",name:"paddingY",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingTop:{defaultValue:null,description:"Sets the property `padding-top`. Higher priority than padding and paddingY.",name:"paddingTop",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingBottom:{defaultValue:null,description:"Sets the property `padding-bottom`. Higher priority than padding and paddingY.",name:"paddingBottom",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingLeft:{defaultValue:null,description:"Sets the property `padding-left`. Higher priority than padding and paddingX.",name:"paddingLeft",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingRight:{defaultValue:null,description:"Sets the property `padding-right`. Higher priority than padding and paddingX.",name:"paddingRight",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},borderStyle:{defaultValue:null,description:"",name:"borderStyle",required:!1,type:{name:"ResponsiveProp<BorderStyle>"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"ResponsiveProp<BorderColor>"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"ResponsiveProp<keyof Radii>"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"ResponsiveProp<AlignItems>"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"ResponsiveProp<Direction>"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"ResponsiveProp<JustifyContent>"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"ResponsiveProp<BackgroundColor>"}},display:{defaultValue:null,description:"",name:"display",required:!1,type:{name:"ResponsiveProp<Display>"}},boxShadow:{defaultValue:null,description:"",name:"boxShadow",required:!1,type:{name:"ResponsiveProp<keyof ThemeShadows>"}},element:{defaultValue:null,description:"Sets the HTML element that will be rendered as a Box. Defaults to 'div'",name:"element",required:!1,type:{name:"ElementType"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"ResponsiveProp<Position>"}},grow:{defaultValue:null,description:"Sets the property `flex-grow`",name:"grow",required:!1,type:{name:"ResponsiveProp<number>"}},shrink:{defaultValue:null,description:"Sets the property `flex-shrink`",name:"shrink",required:!1,type:{name:"ResponsiveProp<number>"}},basis:{defaultValue:null,description:"Sets the property `flex-basis`",name:"basis",required:!1,type:{name:"ResponsiveProp<FlexBasis>"}},flex:{defaultValue:null,description:"Sets the property `flex`",name:"flex",required:!1,type:{name:"ResponsiveProp<Flex>"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"ResponsiveProp<MinWidth<number>>"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"ResponsiveProp<MaxWidth<number>>"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"ResponsiveProp<Width<number>>"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"ResponsiveProp<MinHeight<number>>"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"ResponsiveProp<MaxHeight<number>>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"ResponsiveProp<Height<number>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/Box/Box.tsx#Box"]={docgenInfo:Box.__docgenInfo,name:"Box",path:"src/components/Layout/Box/Box.tsx#Box"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Layout/utils/responsiveness.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function breakpointCSS(theme,prop,getCSS,key){const value=prop[key];if(null!=value)return{[theme.breakpoints.up(key)]:getCSS(value)}}function getResponsiveStyle(theme,prop,getCSS){return null==prop?null:"object"==typeof prop&&"xs"in prop?[breakpointCSS(theme,prop,getCSS,"xs"),breakpointCSS(theme,prop,getCSS,"sm"),breakpointCSS(theme,prop,getCSS,"md"),breakpointCSS(theme,prop,getCSS,"lg"),breakpointCSS(theme,prop,getCSS,"xl"),breakpointCSS(theme,prop,getCSS,"xxl")]:getCSS(prop)}__webpack_require__.d(__webpack_exports__,{Y:function(){return getResponsiveStyle}});try{getResponsiveStyle.displayName="getResponsiveStyle",getResponsiveStyle.__docgenInfo={description:"Function that converts a ResponsiveProp object into CSS",displayName:"getResponsiveStyle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/utils/responsiveness.tsx#getResponsiveStyle"]={docgenInfo:getResponsiveStyle.__docgenInfo,name:"getResponsiveStyle",path:"src/components/Layout/utils/responsiveness.tsx#getResponsiveStyle"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Layout/utils/styles.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:function(){return getSizeStyles}});var _emotion_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_responsiveness__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Layout/utils/responsiveness.tsx");const getSizeStyles=(theme,width,minWidth,maxWidth,height,minHeight,maxHeight)=>(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)([(0,_responsiveness__WEBPACK_IMPORTED_MODULE_1__.Y)(theme,width,(val=>({width:theme.spacing(val)}))),(0,_responsiveness__WEBPACK_IMPORTED_MODULE_1__.Y)(theme,minWidth,(val=>({minWidth:theme.spacing(val)}))),(0,_responsiveness__WEBPACK_IMPORTED_MODULE_1__.Y)(theme,maxWidth,(val=>({maxWidth:theme.spacing(val)}))),(0,_responsiveness__WEBPACK_IMPORTED_MODULE_1__.Y)(theme,height,(val=>({height:theme.spacing(val)}))),(0,_responsiveness__WEBPACK_IMPORTED_MODULE_1__.Y)(theme,minHeight,(val=>({minHeight:theme.spacing(val)}))),(0,_responsiveness__WEBPACK_IMPORTED_MODULE_1__.Y)(theme,maxHeight,(val=>({maxHeight:theme.spacing(val)})))])},"./src/utils/storybook/DashboardStoryCanvas.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{s:function(){return DashboardStoryCanvas}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx"));const DashboardStoryCanvas=({children:children})=>{const theme=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.$j)(),style=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({width:"100%",height:"100%",padding:"32px",background:theme.colors.background.canvas,overflow:"auto"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:style,children:children})};DashboardStoryCanvas.displayName="DashboardStoryCanvas";try{DashboardStoryCanvas.displayName="DashboardStoryCanvas",DashboardStoryCanvas.__docgenInfo={description:"",displayName:"DashboardStoryCanvas",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/storybook/DashboardStoryCanvas.tsx#DashboardStoryCanvas"]={docgenInfo:DashboardStoryCanvas.__docgenInfo,name:"DashboardStoryCanvas",path:"src/utils/storybook/DashboardStoryCanvas.tsx#DashboardStoryCanvas"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Splitter/useSplitter.story.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:function(){return Basic},default:function(){return useSplitter_story}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),DashboardStoryCanvas=__webpack_require__("./src/utils/storybook/DashboardStoryCanvas.tsx"),Box=__webpack_require__("./src/components/Layout/Box/Box.tsx"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),react=__webpack_require__("../../node_modules/react/index.js"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),DragHandle=__webpack_require__("./src/components/DragHandle/DragHandle.tsx");const VERTICAL_KEYS=new Set(["ArrowUp","ArrowDown"]),HORIZONTAL_KEYS=new Set(["ArrowLeft","ArrowRight"]),propsForDirection={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function useSplitter(options){const{direction:direction,initialSize:initialSize=(options.usePixels?300:.5),dragPosition:dragPosition="middle",onResizing:onResizing,onSizeChanged:onSizeChanged,usePixels:usePixels}=options,handleSize=function getPixelSize(size="md"){return{xs:4,sm:8,md:16,lg:32}[size]}(options.handleSize),splitterRef=(0,react.useRef)(null),firstPaneRef=(0,react.useRef)(null),secondPaneRef=(0,react.useRef)(null),containerRef=(0,react.useRef)(null),containerSize=(0,react.useRef)(null),primarySizeRef=(0,react.useRef)(null),referencePaneSize=(0,react.useRef)(void 0),savedPos=(0,react.useRef)(void 0),measurementProp=propsForDirection[direction].dim,clientAxis=propsForDirection[direction].axis,minDimProp=propsForDirection[direction].min,maxDimProp=propsForDirection[direction].max,dragStart=(0,react.useRef)(null),onPointerDown=(0,react.useCallback)((e=>{firstPaneRef.current&&secondPaneRef.current&&(primarySizeRef.current=firstPaneRef.current.getBoundingClientRect()[measurementProp],containerSize.current=containerRef.current.getBoundingClientRect()[measurementProp],dragStart.current=e[clientAxis],splitterRef.current.setPointerCapture(e.pointerId),referencePaneSize.current=usePixels?measureElement(secondPaneRef.current,usePixels):measureElement(firstPaneRef.current),savedPos.current=void 0)}),[measurementProp,clientAxis,usePixels]),onUpdateSize=(0,react.useCallback)((diff=>{if(!containerSize.current||!primarySizeRef.current||!secondPaneRef.current)return;const firstPanePixels=primarySizeRef.current,secondPanePixels=containerSize.current-firstPanePixels-handleSize,dims=referencePaneSize.current;if(usePixels){const newSize=(0,lodash.clamp)(secondPanePixels-diff,dims[minDimProp],dims[maxDimProp]);secondPaneRef.current.style.flexBasis=`${newSize}px`,splitterRef.current.ariaValueNow=`${newSize}`,onResizing?.(newSize,firstPanePixels+diff,newSize)}else{const newSize=(0,lodash.clamp)(primarySizeRef.current+diff,dims[minDimProp],dims[maxDimProp]),newFlex=newSize/(containerSize.current-handleSize);firstPaneRef.current.style.flexGrow=`${newFlex}`,secondPaneRef.current.style.flexGrow=""+(1-newFlex),splitterRef.current.ariaValueNow=function ariaValue(value,min,max){return`${(0,lodash.clamp)((value-min)/(max-min)*100,0,100)}`}(newSize,dims[minDimProp],dims[maxDimProp]),onResizing?.(newFlex,newSize,secondPanePixels-diff)}}),[onResizing,handleSize,usePixels,minDimProp,maxDimProp]),onPointerMove=(0,react.useCallback)((e=>{null!==dragStart.current&&onUpdateSize(e[clientAxis]-dragStart.current)}),[onUpdateSize,clientAxis]),onPointerUp=(0,react.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),dragStart.current=null,splitterRef.current.releasePointerCapture(e.pointerId);const firstPaneSize=firstPaneRef.current.getBoundingClientRect()[measurementProp],secondPanePixels=containerSize.current-firstPaneSize-handleSize;onSizeChanged?.(parseFloat(firstPaneRef.current.style.flexGrow),firstPaneSize,secondPanePixels)}),[onSizeChanged,handleSize,measurementProp]),pressedKeys=(0,react.useRef)(new Set),keysLastHandledAt=(0,react.useRef)(null),handlePressedKeys=(0,react.useCallback)((time=>{if(0===pressedKeys.current.size)return void(keysLastHandledAt.current=null);if(null===primarySizeRef.current)return;const dx=.3*(time-(keysLastHandledAt.current??time));let sizeChange=0;"row"===direction?(pressedKeys.current.has("ArrowLeft")&&(sizeChange-=dx),pressedKeys.current.has("ArrowRight")&&(sizeChange+=dx)):(pressedKeys.current.has("ArrowUp")&&(sizeChange-=dx),pressedKeys.current.has("ArrowDown")&&(sizeChange+=dx)),primarySizeRef.current=firstPaneRef.current.getBoundingClientRect()[measurementProp],containerSize.current=containerRef.current.getBoundingClientRect()[measurementProp],onUpdateSize(sizeChange),keysLastHandledAt.current=time,window.requestAnimationFrame(handlePressedKeys)}),[direction,measurementProp,onUpdateSize]),onKeyDown=(0,react.useCallback)((e=>{if(!(firstPaneRef.current&&secondPaneRef.current&&splitterRef.current&&containerRef.current))return;if(!("column"===direction&&VERTICAL_KEYS.has(e.key)||"row"===direction&&HORIZONTAL_KEYS.has(e.key))||pressedKeys.current.has(e.key))return;savedPos.current=void 0,e.preventDefault(),e.stopPropagation(),primarySizeRef.current=firstPaneRef.current.getBoundingClientRect()[measurementProp],containerSize.current=containerRef.current.getBoundingClientRect()[measurementProp],referencePaneSize.current=measureElement(usePixels?secondPaneRef.current:firstPaneRef.current);if(!pressedKeys.current.has(e.key)){const initiateAnimationLoop=0===pressedKeys.current.size;pressedKeys.current.add(e.key),initiateAnimationLoop&&window.requestAnimationFrame(handlePressedKeys)}}),[direction,handlePressedKeys,,measurementProp,usePixels]),onKeyUp=(0,react.useCallback)((e=>{if(("row"!==direction||HORIZONTAL_KEYS.has(e.key))&&("column"!==direction||VERTICAL_KEYS.has(e.key))&&(pressedKeys.current.delete(e.key),null!==primarySizeRef.current)){const secondPanePixels=containerSize.current-primarySizeRef.current-handleSize;onSizeChanged?.(parseFloat(firstPaneRef.current.style.flexGrow),primarySizeRef.current,secondPanePixels)}}),[direction,onSizeChanged,handleSize]),onDoubleClick=(0,react.useCallback)((()=>{firstPaneRef.current&&secondPaneRef.current&&(usePixels?secondPaneRef.current.style.flexBasis=`${initialSize}px`:(firstPaneRef.current.style.flexGrow="0.5",secondPaneRef.current.style.flexGrow="0.5",primarySizeRef.current=firstPaneRef.current.getBoundingClientRect()[measurementProp],splitterRef.current.ariaValueNow="50"))}),[measurementProp,usePixels,initialSize]),onBlur=(0,react.useCallback)((()=>{if(pressedKeys.current.size>0&&(pressedKeys.current.clear(),dragStart.current=null,"number"==typeof primarySizeRef.current)){const secondPanePixels=containerSize.current-primarySizeRef.current-handleSize;onSizeChanged?.(parseFloat(firstPaneRef.current.style.flexGrow),primarySizeRef.current,secondPanePixels)}}),[onSizeChanged,handleSize]),styles=(0,ThemeContext.of)(getStyles,direction),dragStyles=(0,ThemeContext.of)(DragHandle.l,dragPosition),dragHandleStyle="column"===direction?dragStyles.dragHandleHorizontal:dragStyles.dragHandleVertical,id=(0,react.useId)(),primaryStyles={flexGrow:(0,lodash.clamp)(initialSize,0,1),[minDimProp]:"min-content"},secondaryStyles={flexGrow:(0,lodash.clamp)(1-initialSize,0,1),[minDimProp]:"min-content"};usePixels&&(primaryStyles.flexGrow=1,secondaryStyles.flexGrow="unset",secondaryStyles.flexBasis=`${initialSize}px`);const primaryId=`start-panel-${id}`;return{containerProps:{ref:containerRef,className:styles.container},primaryProps:{ref:firstPaneRef,className:styles.panel,style:primaryStyles,id:primaryId},secondaryProps:{ref:secondPaneRef,className:styles.panel,style:secondaryStyles},splitterProps:{onPointerUp:onPointerUp,onPointerDown:onPointerDown,onPointerMove:onPointerMove,onKeyDown:onKeyDown,onKeyUp:onKeyUp,onDoubleClick:onDoubleClick,onBlur:onBlur,ref:splitterRef,style:{[measurementProp]:`${handleSize}px`},role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":100*initialSize,"aria-controls":primaryId,"aria-label":"Pane resize widget",tabIndex:0,className:dragHandleStyle}}}function measureElement(ref,usePixels){const savedBodyOverflow=document.body.style.overflow,savedWidth=ref.style.width,savedHeight=ref.style.height,savedFlex=ref.style.flexGrow,savedFlexBasis=ref.style.flexBasis;document.body.style.overflow="hidden",ref.style.flexGrow="0",ref.style.flexBasis="0";const{width:minWidth,height:minHeight}=ref.getBoundingClientRect();ref.style.flexGrow="100";const{width:maxWidth,height:maxHeight}=ref.getBoundingClientRect();return document.body.style.overflow=savedBodyOverflow,ref.style.width=savedWidth,ref.style.height=savedHeight,ref.style.flexGrow=savedFlex,ref.style.flexBasis=savedFlexBasis,{minWidth:minWidth,maxWidth:maxWidth,minHeight:minHeight,maxHeight:maxHeight}}function getStyles(theme,direction){return{container:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"row"===direction?"row":"column",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,emotion_css_esm.AH)({display:"flex",position:"relative",flexBasis:0})}}var lib=__webpack_require__("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js");function _createMdxContent(props){const _components={code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...(0,lib.R)(),...props.components};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"usesplitter",children:"useSplitter"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"The splitter creates two resizable panes, either horizontally or vertically."}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"usage",children:"Usage"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-tsx",children:'import { useSplitter } from \'@grafana/ui\';\n\nconst { containerProps, primaryProps, secondaryProps, splitterProps } = useSplitter({\n  direction: \'row\',\n  initialSize: 0.5,\n  dragPosition: \'end\',\n});\n\nreturn (\n  <div {...containerProps}>\n    <div {...primaryProps}>\n      <Box display="flex" grow={1} backgroundColor="primary" padding={2}>\n        Primary\n      </Box>\n    </div>\n    <div {...splitterProps} />\n    <div {...secondaryProps}>\n      <Box display="flex" grow={1} backgroundColor="primary" padding={2}>\n        Secondary\n      </Box>\n    </div>\n  </div>\n);\n'})})]})}const meta={title:"Utilities/useSplitter",parameters:{docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,lib.R)(),...props.components};return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}},controls:{exclude:[]}},argTypes:{initialSize:{control:{type:"number",min:.1,max:1}},direction:{control:{type:"radio"},options:["row","column"]},dragPosition:{control:{type:"radio"},options:["start","middle","end"]},hasSecondPane:{type:"boolean",options:[!0,!1]}}},Basic=options=>{const{containerProps:containerProps,primaryProps:primaryProps,secondaryProps:secondaryProps,splitterProps:splitterProps}=useSplitter({...options});return options.hasSecondPane||(primaryProps.style.flexGrow=1),(0,jsx_runtime.jsx)(DashboardStoryCanvas.s,{children:(0,jsx_runtime.jsx)("div",{style:{display:"flex",width:"700px",height:"500px"},children:(0,jsx_runtime.jsxs)("div",{...containerProps,children:[(0,jsx_runtime.jsx)("div",{...primaryProps,children:(0,jsx_runtime.jsx)(Box.a,{display:"flex",grow:1,backgroundColor:"primary",padding:2,children:"Primary"})}),options.hasSecondPane&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{...splitterProps}),(0,jsx_runtime.jsx)("div",{...secondaryProps,children:(0,jsx_runtime.jsx)(Box.a,{display:"flex",grow:1,backgroundColor:"primary",padding:2,children:"Secondary"})})]})]})})})};Basic.args={direction:"row",dragPosition:"middle",hasSecondPane:!0};var useSplitter_story=meta;Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:'options => {\n  const {\n    containerProps,\n    primaryProps,\n    secondaryProps,\n    splitterProps\n  } = useSplitter({\n    ...options\n  });\n  if (!options.hasSecondPane) {\n    primaryProps.style.flexGrow = 1;\n  }\n  return <DashboardStoryCanvas>\n      <div style={{\n      display: \'flex\',\n      width: \'700px\',\n      height: \'500px\'\n    }}>\n        <div {...containerProps}>\n          <div {...primaryProps}>\n            <Box display="flex" grow={1} backgroundColor="primary" padding={2}>\n              Primary\n            </Box>\n          </div>\n          {options.hasSecondPane && <>\n              <div {...splitterProps} />\n              <div {...secondaryProps}>\n                <Box display="flex" grow={1} backgroundColor="primary" padding={2}>\n                  Secondary\n                </Box>\n              </div>\n            </>}\n        </div>\n      </div>\n    </DashboardStoryCanvas>;\n}',...Basic.parameters?.docs?.source}}}}}]);