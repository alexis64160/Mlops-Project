"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[2575],{"../grafana-data/src/text/string.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$f:function(){return escapeRegex},AP:function(){return stringStartsAsRegEx},dO:function(){return stringToJsRegex},jD:function(){return escapeStringForRegex},xb:function(){return unEscapeStringFromRegex}});__webpack_require__("../../node_modules/lodash/lodash.js");const specialMatcher="([\\"+["(","[","{","}","]",")","\\","|","*","+","-",".","?","<",">","#","&","^","$"].join("\\")+"])",specialCharEscape=new RegExp(specialMatcher,"g"),specialCharUnescape=new RegExp("(\\\\)"+specialMatcher,"g");function escapeStringForRegex(value){return value?value.replace(specialCharEscape,"\\$1"):value}function unEscapeStringFromRegex(value){return value?value.replace(specialCharUnescape,"$2"):value}function stringStartsAsRegEx(str){return!!str&&"/"===str[0]}function stringToJsRegex(str){if(!stringStartsAsRegEx(str))return new RegExp(`^${str}$`);const match=str.match(new RegExp("^/(.*?)/(g?i?m?y?s?)$"));if(!match)throw new Error(`'${str}' is not a valid regular expression.`);return new RegExp(match[1],match[2])}function escapeRegex(value){return value.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&")}},"./src/components/Combobox/ComboboxList.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{e:function(){return ComboboxList}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),esm=__webpack_require__("../../node_modules/@tanstack/react-virtual/dist/esm/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),Checkbox=__webpack_require__("./src/components/Forms/Checkbox.tsx"),ScrollContainer=__webpack_require__("./src/components/ScrollContainer/ScrollContainer.tsx"),i18n=__webpack_require__("../grafana-i18n/src/i18n.tsx"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),Box=__webpack_require__("./src/components/Layout/Box/Box.tsx"),Stack=__webpack_require__("./src/components/Layout/Stack/Stack.tsx"),Text=__webpack_require__("./src/components/Text/Text.tsx");const AsyncError=()=>(0,jsx_runtime.jsxs)(MessageRow,{children:[(0,jsx_runtime.jsx)(Text.E,{color:"warning",children:(0,jsx_runtime.jsx)(Icon.I,{name:"exclamation-triangle",size:"md"})}),(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"combobox.async.error",children:"An error occurred while loading options."})]}),NotFoundError=()=>(0,jsx_runtime.jsx)(MessageRow,{children:(0,jsx_runtime.jsx)(i18n.x6,{i18nKey:"combobox.options.no-found",children:"No options found."})}),MessageRow=({children:children})=>(0,jsx_runtime.jsx)(Box.a,{padding:2,children:(0,jsx_runtime.jsx)(Stack.B,{justifyContent:"center",alignItems:"center",direction:"column",children:children})});var getComboboxStyles=__webpack_require__("./src/components/Combobox/getComboboxStyles.ts"),types=__webpack_require__("./src/components/Combobox/types.ts"),utils=__webpack_require__("./src/components/Combobox/utils.ts");const ComboboxList=({options:options,highlightedIndex:highlightedIndex,selectedItems:selectedItems=[],scrollRef:scrollRef,getItemProps:getItemProps,enableAllOption:enableAllOption,isMultiSelect:isMultiSelect=!1,error:error=!1})=>{const styles=(0,ThemeContext.of)(getComboboxStyles.C3),estimateSize=(0,react.useCallback)((index=>{const firstGroupItem=(0,utils.S)(options[index],index>0?options[index-1]:void 0),hasDescription="description"in options[index],hasGroup="group"in options[index];let itemHeight=getComboboxStyles.Aj;return hasDescription&&(itemHeight=getComboboxStyles.pg),firstGroupItem&&hasGroup&&(itemHeight+=getComboboxStyles.Aj),itemHeight}),[options]),rowVirtualizer=(0,esm.Te)({count:options.length,getScrollElement:()=>scrollRef.current,estimateSize:estimateSize,overscan:4}),isOptionSelected=(0,react.useCallback)((item=>selectedItems.some((opt=>opt.value===item.value))),[selectedItems]),allItemsSelected=enableAllOption&&selectedItems.length===options.length-1;return(0,jsx_runtime.jsxs)(ScrollContainer.P,{showScrollIndicators:!0,maxHeight:"inherit",ref:scrollRef,padding:.5,children:[(0,jsx_runtime.jsx)("div",{style:{height:rowVirtualizer.getTotalSize()},className:styles.menuUlContainer,children:rowVirtualizer.getVirtualItems().map(((virtualRow,index,allVirtualRows)=>{const item=options[virtualRow.index],startingNewGroup=(0,utils.S)(item,options[virtualRow.index-1]),groupHeaderIndex=allVirtualRows.find((row=>options[row.index].group===item.group)),groupHeaderItem=groupHeaderIndex&&options[groupHeaderIndex.index],itemId=`combobox-option-${item.value}`,groupHeaderId=groupHeaderItem?`combobox-option-group-${groupHeaderItem.value}`:void 0;return(0,jsx_runtime.jsxs)("div",{className:styles.listItem,style:{height:virtualRow.size,transform:`translateY(${virtualRow.start}px)`},children:[startingNewGroup&&(0,jsx_runtime.jsx)("div",{role:"presentation","data-testid":"combobox-option-group",id:groupHeaderId,className:(0,emotion_css_esm.cx)(styles.optionGroupHeader,item.group&&styles.optionGroupLabel,0===virtualRow.index&&styles.optionFirstGroupHeader),children:item.group}),(0,jsx_runtime.jsxs)("div",{className:(0,emotion_css_esm.cx)(styles.option,!isMultiSelect&&isOptionSelected(item)&&styles.optionSelected,highlightedIndex===virtualRow.index&&styles.optionFocused),...getItemProps({item:item,index:virtualRow.index,id:itemId,"aria-describedby":groupHeaderId}),children:[isMultiSelect&&(0,jsx_runtime.jsx)("div",{className:styles.optionAccessory,children:(0,jsx_runtime.jsx)(Checkbox.S,{value:allItemsSelected||isOptionSelected(item),indeterminate:item.value===types.A&&selectedItems.length>0&&!allItemsSelected,"aria-labelledby":itemId,onClick:e=>{e.stopPropagation()}},itemId)}),(0,jsx_runtime.jsxs)("div",{className:styles.optionBody,children:[(0,jsx_runtime.jsx)("div",{className:styles.optionLabel,children:item.label??item.value}),item.description&&(0,jsx_runtime.jsx)("div",{className:styles.optionDescription,children:item.description})]})]})]},item.value)}))}),(0,jsx_runtime.jsxs)("div",{"aria-live":"polite",children:[error&&(0,jsx_runtime.jsx)(AsyncError,{}),0===options.length&&!error&&(0,jsx_runtime.jsx)(NotFoundError,{})]})]})};try{ComboboxList.displayName="ComboboxList",ComboboxList.__docgenInfo={description:"",displayName:"ComboboxList",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ComboboxOption<T>[]"}},highlightedIndex:{defaultValue:null,description:"",name:"highlightedIndex",required:!0,type:{name:"number | null"}},selectedItems:{defaultValue:{value:"[]"},description:"",name:"selectedItems",required:!1,type:{name:"ComboboxOption<T>[]"}},scrollRef:{defaultValue:null,description:"",name:"scrollRef",required:!0,type:{name:"RefObject<HTMLDivElement>"}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:'<Options>(options: UseComboboxGetItemPropsOptions<ComboboxOption<T>> & Options) => Omit<Overwrite<UseComboboxGetItemPropsReturnValue, Options>, "index" | "item">'}},enableAllOption:{defaultValue:null,description:"",name:"enableAllOption",required:!1,type:{name:"boolean"}},isMultiSelect:{defaultValue:{value:"false"},description:"",name:"isMultiSelect",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:"false"},description:"",name:"error",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Combobox/ComboboxList.tsx#ComboboxList"]={docgenInfo:ComboboxList.__docgenInfo,name:"ComboboxList",path:"src/components/Combobox/ComboboxList.tsx#ComboboxList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Combobox/SuffixIcon.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f:function(){return SuffixIcon}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_Icon_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Icon/Icon.tsx");const SuffixIcon=({isLoading:isLoading,isOpen:isOpen})=>{const suffixIcon=isLoading?"spinner":isOpen?"search":"angle-down";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_1__.I,{name:suffixIcon})};try{SuffixIcon.displayName="SuffixIcon",SuffixIcon.__docgenInfo={description:"",displayName:"SuffixIcon",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Combobox/SuffixIcon.tsx#SuffixIcon"]={docgenInfo:SuffixIcon.__docgenInfo,name:"SuffixIcon",path:"src/components/Combobox/SuffixIcon.tsx#SuffixIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Combobox/filter.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{o:function(){return fuzzyFind},y:function(){return itemToString}});var uFuzzy=__webpack_require__("../../node_modules/@leeoniya/ufuzzy/dist/uFuzzy.mjs"),string=__webpack_require__("../grafana-data/src/text/string.ts");const REGEXP_NON_ASCII=/[^ -~]/m,REGEXP_ONLY_SYMBOLS=/^[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+$/m,outOfOrderLimit=5,maxNeedleLength=25,maxFuzzyTerms=5,rankThreshold=1e4,uf=new uFuzzy.A({intraMode:1});function itemToString(item){return null==item?"":item.label??item.value.toString()}function fuzzyFind(options,haystack,needle){const indices=function fuzzySearch(haystack,needle){if(""===needle)return haystack.map(((_,index)=>index));if(REGEXP_NON_ASCII.test(needle)||REGEXP_ONLY_SYMBOLS.test(needle)||needle.length>maxNeedleLength||uf.split(needle).length>maxFuzzyTerms){const needleRegex=new RegExp((0,string.$f)(needle),"i"),indices=[];for(let i=0;i<haystack.length;i++){let item=haystack[i];needleRegex.test(item)&&indices.push(i)}return indices}{const[idxs,info,order]=uf.search(haystack,needle,outOfOrderLimit,rankThreshold);if(idxs?.length)return info&&order?order.map((idx=>info.idx[idx])):idxs}return[]}(haystack,needle);return indices.map((idx=>options[idx]))}},"./src/components/Combobox/getComboboxStyles.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{AK:function(){return MENU_ITEM_PADDING},Aj:function(){return MENU_OPTION_HEIGHT},C3:function(){return getComboboxStyles},pg:function(){return MENU_OPTION_HEIGHT_DESCRIPTION},sh:function(){return MENU_ITEM_FONT_SIZE},xB:function(){return POPOVER_MAX_HEIGHT},zx:function(){return MENU_ITEM_FONT_WEIGHT}});var _emotion_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js");const MENU_ITEM_FONT_SIZE=14,MENU_ITEM_FONT_WEIGHT=500,MENU_ITEM_PADDING=8,MENU_OPTION_HEIGHT=2+2*MENU_ITEM_PADDING+1.5*MENU_ITEM_FONT_SIZE,MENU_OPTION_HEIGHT_DESCRIPTION=MENU_OPTION_HEIGHT+18,POPOVER_MAX_HEIGHT=8.5*MENU_OPTION_HEIGHT,getComboboxStyles=theme=>({menuClosed:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({display:"none"}),menu:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-menu",background:theme.components.dropdown.background,boxShadow:theme.shadows.z3,zIndex:theme.zIndex.dropdown,position:"relative",borderRadius:theme.shape.radius.default,overflow:"hidden"}),menuUlContainer:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-menu-ul-container",listStyle:"none"}),listItem:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"list-item",position:"absolute",width:"100%"}),optionGroupHeader:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-new-option-group",borderTop:`1px solid ${theme.colors.border.weak}`}),optionFirstGroupHeader:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({borderTop:"none"}),optionGroupLabel:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({textOverflow:"ellipsis",overflow:"hidden",letterSpacing:0,color:theme.colors.text.secondary,fontSize:theme.typography.bodySmall.fontSize,fontWeight:theme.typography.fontWeightLight,padding:MENU_ITEM_PADDING}),option:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-option",position:"relative",display:"flex",width:"100%",gap:theme.spacing(1),alignItems:"center",padding:MENU_ITEM_PADDING,marginBottom:2,borderRadius:theme.shape.radius.default,fontWeight:theme.typography.fontWeightMedium,whiteSpace:"nowrap",overflow:"hidden",cursor:"pointer","&:hover":{background:theme.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${theme.colors.primary.border}`}}}),optionAccessory:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-option-accessory",height:1.5*MENU_ITEM_FONT_SIZE}),optionBody:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-option-body",display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden"}),optionLabel:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-option-label",fontSize:MENU_ITEM_FONT_SIZE,fontWeight:MENU_ITEM_FONT_WEIGHT,lineHeight:1.5,letterSpacing:0,textOverflow:"ellipsis",overflow:"hidden"}),optionDescription:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-option-description",color:theme.colors.text.secondary,fontSize:12,fontWeight:theme.typography.fontWeightRegular,lineHeight:1.5,letterSpacing:0,textOverflow:"ellipsis",overflow:"hidden"}),optionFocused:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-option-focused",background:theme.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${theme.colors.primary.border}`}}),optionSelected:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({background:theme.colors.action.selected,"&::before":{backgroundImage:theme.colors.gradients.brandVertical,borderRadius:theme.shape.radius.default,content:'" "',display:"block",height:"100%",position:"absolute",width:theme.spacing(.5),left:0,top:0}}),clear:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-clear",cursor:"pointer",pointerEvents:"auto","&:hover":{color:theme.colors.text.primary}}),input:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-input","> div > div:last-child":{pointerEvents:"none"},"& input":{cursor:"pointer"},"& input:focus":{cursor:"text"}}),adaptToParent:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.AH)({label:"combobox-adapt-to-parent",maxWidth:"100%",'[class*="input-wrapper-combobox-input"]':{maxWidth:"100%"}})})},"./src/components/Combobox/types.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return ALL_OPTION_VALUE}});const ALL_OPTION_VALUE="__GRAFANA_INTERNAL_MULTICOMBOBOX_ALL_OPTION__"},"./src/components/Combobox/useComboboxFloat.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{l:function(){return useComboboxFloat}});var _floating_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_utils_measureText__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/utils/measureText.ts"),_getComboboxStyles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Combobox/getComboboxStyles.ts");const useComboboxFloat=(items,isOpen)=>{const inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),floatingRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),scrollRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[popoverMaxSize,setPopoverMaxSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({width:0,height:0}),scrollbarWidth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>function getScrollbarWidth(){const outer=document.createElement("div");outer.style.visibility="hidden",outer.style.overflow="scroll",document.body.appendChild(outer);const inner=document.createElement("div");outer.appendChild(inner);const scrollbarWidth=outer.offsetWidth-inner.offsetWidth;return outer.parentNode?.removeChild(outer),scrollbarWidth}()),[]),middleware=[(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_1__.RK)({allowedPlacements:["bottom-start","bottom-end","top-start","top-end"],boundary:document.body,crossAxis:!0}),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_1__.Ej)({apply({availableWidth:availableWidth,availableHeight:availableHeight}){const preferredMaxWidth=availableWidth-16,preferredMaxHeight=availableHeight-16,width=Math.max(preferredMaxWidth,0),height=Math.min(Math.max(preferredMaxHeight,6*_getComboboxStyles__WEBPACK_IMPORTED_MODULE_2__.Aj),_getComboboxStyles__WEBPACK_IMPORTED_MODULE_2__.xB);setPopoverMaxSize({width:width,height:height})}})],elements={reference:inputRef.current,floating:floatingRef.current},{floatingStyles:floatingStyles}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.we)({strategy:"fixed",open:isOpen,placement:"bottom-start",middleware:middleware,elements:elements,whileElementsMounted:_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.ll});return{inputRef:inputRef,floatingRef:floatingRef,scrollRef:scrollRef,floatStyles:{...floatingStyles,width:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{let longestItem="";const itemsToLookAt=Math.min(items.length,1e5);for(let i=0;i<itemsToLookAt;i++){const itemLabel=items[i].label??items[i].value.toString();longestItem=itemLabel.length>longestItem.length?itemLabel:longestItem}return(0,_utils_measureText__WEBPACK_IMPORTED_MODULE_5__.kD)(longestItem,_getComboboxStyles__WEBPACK_IMPORTED_MODULE_2__.sh,_getComboboxStyles__WEBPACK_IMPORTED_MODULE_2__.zx).width+8+2*_getComboboxStyles__WEBPACK_IMPORTED_MODULE_2__.AK+scrollbarWidth}),[items,scrollbarWidth]),maxWidth:popoverMaxSize.width,minWidth:inputRef.current?.offsetWidth,maxHeight:popoverMaxSize.height}}}},"./src/components/Combobox/useOptions.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{I:function(){return useOptions}});var lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),react=__webpack_require__("../../node_modules/react/index.js"),i18n=__webpack_require__("../grafana-i18n/src/i18n.tsx"),filter=__webpack_require__("./src/components/Combobox/filter.ts");class StaleResultError extends Error{constructor(){super("This result is stale and is discarded"),this.name="StaleResultError",Object.setPrototypeOf(this,new.target.prototype)}}const asyncNoop=()=>Promise.resolve([]);function useOptions(rawOptions,createCustomValue){const isAsync="function"==typeof rawOptions,loadOptions=function useLatestAsyncCall(fn){const latestValueCount=(0,react.useRef)(0);return(0,react.useCallback)((value=>{latestValueCount.current++;const requestCount=latestValueCount.current;return new Promise(((resolve,reject)=>{fn(value).then((result=>{requestCount===latestValueCount.current?resolve(result):reject(new StaleResultError)})).catch(reject)}))}),[fn])}(isAsync?rawOptions:asyncNoop),debouncedLoadOptions=(0,react.useMemo)((()=>(0,lodash.debounce)((searchTerm=>loadOptions(searchTerm).then((options=>{setAsyncOptions(options),setAsyncLoading(!1),setAsyncError(!1)})).catch((error=>{error instanceof StaleResultError||(setAsyncError(!0),setAsyncLoading(!1),error&&console.error("Error loading async options for Combobox",error))}))),200)),[loadOptions]),[asyncOptions,setAsyncOptions]=(0,react.useState)([]),[asyncLoading,setAsyncLoading]=(0,react.useState)(!1),[asyncError,setAsyncError]=(0,react.useState)(!1),[userTypedSearch,setUserTypedSearch]=(0,react.useState)(""),addCustomValue=(0,react.useCallback)((opts=>{let currentOptions=opts;if(createCustomValue&&userTypedSearch){opts.some((opt=>opt.value===userTypedSearch))||(currentOptions=currentOptions.slice(),currentOptions.unshift({label:userTypedSearch,value:userTypedSearch,description:(0,i18n.t)("combobox.custom-value.description","Use custom value")}))}return currentOptions}),[createCustomValue,userTypedSearch]),updateOptions=(0,react.useCallback)((inputValue=>{setUserTypedSearch(inputValue),isAsync&&(setAsyncLoading(!0),debouncedLoadOptions(inputValue))}),[debouncedLoadOptions,isAsync]),stringifiedOptions=(0,react.useMemo)((()=>isAsync?[]:rawOptions.map(filter.y)),[isAsync,rawOptions]),filteredOptions=(0,react.useMemo)((()=>isAsync?asyncOptions:(0,filter.o)(rawOptions,stringifiedOptions,userTypedSearch)),[asyncOptions,isAsync,rawOptions,stringifiedOptions,userTypedSearch]),[finalOptions,groupStartIndices]=(0,react.useMemo)((()=>{const{options:options,groupStartIndices:groupStartIndices}=function sortByGroup(options){const groupedOptions=new Map,groupStartIndices=new Map;for(const option of options){const group=option.group,existing=groupedOptions.get(group);existing?existing.push(option):groupedOptions.set(group,[option])}if(groupedOptions.size<=1)return options[0]?.group&&groupStartIndices.set(options[0]?.group,0),{options:options,groupStartIndices:groupStartIndices};const result=new Array(options.length);let currentIndex=0;for(const[group,groupOptions]of groupedOptions){group&&groupStartIndices.set(group,currentIndex);for(const option of groupOptions)result[currentIndex++]=option}return{options:result,groupStartIndices:groupStartIndices}}(filteredOptions);return[addCustomValue(options),groupStartIndices]}),[filteredOptions,addCustomValue]);return{options:finalOptions,groupStartIndices:groupStartIndices,updateOptions:updateOptions,asyncLoading:asyncLoading,asyncError:asyncError}}},"./src/components/Combobox/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return isNewGroup}});const isNewGroup=(option,prevOption)=>{const currentGroup=option.group;return currentGroup?!prevOption||prevOption.group!==currentGroup:!!prevOption?.group}},"./src/components/Forms/Checkbox.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return Checkbox}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_themes_mixins__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/themes/mixins.ts"),_Label__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Forms/Label.tsx");const Checkbox=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((({label:label,description:description,value:value,htmlValue:htmlValue,onChange:onChange,disabled:disabled,className:className,indeterminate:indeterminate,invalid:invalid,...inputProps},ref)=>{const handleOnChange=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e=>{onChange&&onChange(e)}),[onChange]),styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getCheckboxStyles,invalid),ariaChecked=indeterminate?"mixed":void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.wrapper,className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:styles.checkboxWrapper,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"checkbox",className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.input,indeterminate&&styles.inputIndeterminate),checked:value,disabled:disabled,onChange:handleOnChange,value:htmlValue,"aria-checked":ariaChecked,...inputProps,ref:ref}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.checkmark})]}),label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.label,children:label}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.description,children:description})]})})),getCheckboxStyles=(theme,invalid=!1)=>{const labelStyles=(0,_Label__WEBPACK_IMPORTED_MODULE_4__.f)(theme),getBorderColor=color=>invalid?theme.colors.error.border:color;return{wrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"inline-grid",alignItems:"center",columnGap:theme.spacing(1),gridAutoRows:"max-content",position:"relative",verticalAlign:"middle"}),input:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"absolute",zIndex:1,top:0,left:0,width:"100% !important",height:"100%",opacity:0,"&:focus + span, &:focus-visible + span":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_5__.Hi)(theme),"&:focus:not(:focus-visible) + span":(0,_themes_mixins__WEBPACK_IMPORTED_MODULE_5__.cr)(theme),"&:checked + span":{background:theme.colors.primary.main,border:`1px solid ${getBorderColor(theme.colors.primary.main)}`,"&:hover":{background:theme.colors.primary.shade},"&:after":{content:'""',position:"absolute",zIndex:2,left:theme.spacing(.5),top:0,width:theme.spacing(.75),height:theme.spacing(1.5),border:`solid ${theme.colors.primary.contrastText}`,borderWidth:"0 3px 3px 0",transform:"rotate(45deg)"}},"&:disabled + span":{backgroundColor:theme.colors.action.disabledBackground,cursor:"not-allowed",border:`1px solid ${getBorderColor(theme.colors.action.disabledBackground)}`,"&:hover":{backgroundColor:theme.colors.action.disabledBackground},"&:after":{borderColor:theme.colors.action.disabledText}}}),inputIndeterminate:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({"&[aria-checked='mixed'] + span":{border:`1px solid ${getBorderColor(theme.colors.primary.main)}`,background:theme.colors.primary.main,"&:hover":{background:theme.colors.primary.shade},"&:after":{content:'""',position:"absolute",zIndex:2,left:"2px",right:"2px",top:"calc(50% - 1.5px)",height:"3px",border:`1.5px solid ${theme.colors.primary.contrastText}`,backgroundColor:theme.colors.primary.contrastText,width:"auto",transform:"none"}},"&:disabled[aria-checked='mixed'] + span":{backgroundColor:theme.colors.action.disabledBackground,border:`1px solid ${getBorderColor(theme.colors.error.transparent)}`,"&:after":{borderColor:theme.colors.action.disabledText}}}),checkboxWrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",alignItems:"center",gridColumnStart:1,gridRowStart:1}),checkmark:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"relative",zIndex:2,display:"inline-block",width:theme.spacing(2),height:theme.spacing(2),borderRadius:theme.shape.radius.default,background:theme.components.input.background,border:`1px solid ${getBorderColor(theme.components.input.borderColor)}`,"&:hover":{cursor:"pointer",borderColor:getBorderColor(theme.components.input.borderHover)}}),label:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(labelStyles.label,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({gridColumnStart:2,gridRowStart:1,position:"relative",zIndex:2,cursor:"pointer",maxWidth:"fit-content",lineHeight:theme.typography.bodySmall.lineHeight,marginBottom:0})),description:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(labelStyles.description,(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({gridColumnStart:2,gridRowStart:2,lineHeight:theme.typography.bodySmall.lineHeight,marginTop:0,zIndex:1}))}};Checkbox.displayName="Checkbox";try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"Label to display next to checkbox",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Current value of the checkbox",name:"value",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"Show an invalid state around the input",name:"invalid",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"Description to display under the label",name:"description",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},htmlValue:{defaultValue:null,description:'htmlValue allows to specify the input "value" attribute',name:"htmlValue",required:!1,type:{name:"string | number"}},indeterminate:{defaultValue:null,description:'Sets the checkbox into a "mixed" state. This is only a visual change and does not affect the value.',name:"indeterminate",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/Forms/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Forms/Label.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{J:function(){return Label},f:function(){return getLabelStyles}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/themes/ThemeContext.tsx")),_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Icon/Icon.tsx");const Label=({children:children,description:description,className:className,category:category,...labelProps})=>{const styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getLabelStyles),categories=category?.map(((c,i)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:styles.categories,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:c}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_4__.I,{name:"angle-right",className:styles.chevron})]},`${c}/${i}`)));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.label,className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{...labelProps,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:styles.labelContent,children:[categories,children]}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.description,children:description})]})})},getLabelStyles=theme=>({label:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({label:"Label",fontSize:theme.typography.size.sm,fontWeight:theme.typography.fontWeightMedium,lineHeight:1.25,marginBottom:theme.spacing(.5),color:theme.colors.text.primary,maxWidth:"480px"}),labelContent:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",alignItems:"center"}),description:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({label:"Label-description",color:theme.colors.text.secondary,fontSize:theme.typography.size.sm,fontWeight:theme.typography.fontWeightRegular,marginTop:theme.spacing(.25),display:"block"}),categories:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({label:"Label-categories",display:"inline-flex",alignItems:"center"}),chevron:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({margin:theme.spacing(0,.25)})});try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},category:{defaultValue:null,description:"",name:"category",required:!1,type:{name:"ReactNode[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Label.tsx#Label"]={docgenInfo:Label.__docgenInfo,name:"Label",path:"src/components/Forms/Label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}try{getLabelStyles.displayName="getLabelStyles",getLabelStyles.__docgenInfo={description:"",displayName:"getLabelStyles",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},isLight:{defaultValue:null,description:"",name:"isLight",required:!0,type:{name:"boolean"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"ThemeColors"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"ThemeBreakpoints"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:"ThemeSpacing"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"ThemeShape"}},components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ThemeComponents"}},typography:{defaultValue:null,description:"",name:"typography",required:!0,type:{name:"ThemeTypography"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"{ activePanel: number; navbarFixed: number; sidemenu: number; dropdown: number; typeahead: number; tooltip: number; modalBackdrop: number; modal: number; portal: number; }"}},shadows:{defaultValue:null,description:"",name:"shadows",required:!0,type:{name:"ThemeShadows"}},visualization:{defaultValue:null,description:"",name:"visualization",required:!0,type:{name:"ThemeVisualizationColors"}},transitions:{defaultValue:null,description:"",name:"transitions",required:!0,type:{name:"ThemeTransitions"}},v1:{defaultValue:null,description:"@deprecated Will be removed in a future version",name:"v1",required:!0,type:{name:"GrafanaTheme"}},flags:{defaultValue:null,description:"feature flags that might impact component looks",name:"flags",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Label.tsx#getLabelStyles"]={docgenInfo:getLabelStyles.__docgenInfo,name:"getLabelStyles",path:"src/components/Forms/Label.tsx#getLabelStyles"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Layout/Stack/Stack.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{B:function(){return Stack}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Layout/utils/responsiveness.tsx"),_utils_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Layout/utils/styles.ts");const Stack=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(((props,ref)=>{const{gap:gap=1,rowGap:rowGap,columnGap:columnGap,alignItems:alignItems,justifyContent:justifyContent,direction:direction,wrap:wrap,children:children,grow:grow,shrink:shrink,basis:basis,flex:flex,width:width,minWidth:minWidth,maxWidth:maxWidth,height:height,minHeight:minHeight,maxHeight:maxHeight,...rest}=props,styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles,gap,rowGap,columnGap,alignItems,justifyContent,direction,wrap,grow,shrink,basis,flex),sizeStyles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.of)(_utils_styles__WEBPACK_IMPORTED_MODULE_4__.E,width,minWidth,maxWidth,height,minHeight,maxHeight);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:ref,className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.flex,sizeStyles),...rest,children:children})}));Stack.displayName="Stack";const getStyles=(theme,gap,rowGap,columnGap,alignItems,justifyContent,direction,wrap,grow,shrink,basis,flex)=>({flex:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)([{display:"flex"},(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,direction,(val=>({flexDirection:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,wrap,(val=>({flexWrap:"boolean"==typeof val?val?"wrap":"nowrap":val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,alignItems,(val=>({alignItems:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,justifyContent,(val=>({justifyContent:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,gap,(val=>({gap:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,rowGap,(val=>({rowGap:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,columnGap,(val=>({columnGap:theme.spacing(val)}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,grow,(val=>({flexGrow:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,shrink,(val=>({flexShrink:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,basis,(val=>({flexBasis:val}))),(0,_utils_responsiveness__WEBPACK_IMPORTED_MODULE_5__.Y)(theme,flex,(val=>({flex:val})))])});try{Stack.displayName="Stack",Stack.__docgenInfo={description:"",displayName:"Stack",props:{gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},rowGap:{defaultValue:null,description:"",name:"rowGap",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},columnGap:{defaultValue:null,description:"",name:"columnGap",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"ResponsiveProp<AlignItems>"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"ResponsiveProp<JustifyContent>"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"ResponsiveProp<Direction>"}},wrap:{defaultValue:null,description:"",name:"wrap",required:!1,type:{name:"ResponsiveProp<Wrap>"}},grow:{defaultValue:null,description:"Sets the property `flex-grow`",name:"grow",required:!1,type:{name:"ResponsiveProp<number>"}},shrink:{defaultValue:null,description:"Sets the property `flex-shrink`",name:"shrink",required:!1,type:{name:"ResponsiveProp<number>"}},basis:{defaultValue:null,description:"Sets the property `flex-basis`",name:"basis",required:!1,type:{name:"ResponsiveProp<FlexBasis>"}},flex:{defaultValue:null,description:"Sets the property `flex`",name:"flex",required:!1,type:{name:"ResponsiveProp<Flex>"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"ResponsiveProp<MinWidth<number>>"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"ResponsiveProp<MaxWidth<number>>"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"ResponsiveProp<Width<number>>"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"ResponsiveProp<MinHeight<number>>"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"ResponsiveProp<MaxHeight<number>>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"ResponsiveProp<Height<number>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/Stack/Stack.tsx#Stack"]={docgenInfo:Stack.__docgenInfo,name:"Stack",path:"src/components/Layout/Stack/Stack.tsx#Stack"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/measureText.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){let _context;__webpack_require__.d(__webpack_exports__,{Vr:function(){return calculateFontSize},Yc:function(){return getCanvasContext},kD:function(){return measureText}});const cache=new Map,cacheLimit=500;let ctxFontStyle="";function getCanvasContext(){return _context||(_context=document.createElement("canvas").getContext("2d")),_context}function measureText(text,fontSize,fontWeight=400){const fontStyle=`${fontWeight} ${fontSize}px 'Inter'`,cacheKey=text+fontStyle,fromCache=cache.get(cacheKey);if(fromCache)return fromCache;const context=getCanvasContext();ctxFontStyle!==fontStyle&&(context.font=ctxFontStyle=fontStyle);const metrics=context.measureText(text);return cache.size===cacheLimit&&cache.clear(),cache.set(cacheKey,metrics),metrics}function calculateFontSize(text,width,height,lineHeight,maxSize,fontWeight){const fontSizeBasedOnWidth=width/(measureText(text,14,fontWeight).width+2)*14,fontSizeBasedOnHeight=height/lineHeight,optimalSize=Math.min(fontSizeBasedOnHeight,fontSizeBasedOnWidth);return Math.min(optimalSize,maxSize??optimalSize)}}}]);